(function(){var e={3482:function(e,t,o){"use strict";o.r(t),t["default"]={custom_forms:e=>{const{normalize:t}=e;return t(["Custom Forms"])},nav:{"store-admin":e=>{const{normalize:t}=e;return t(["Return to Store Admin"])},forms:e=>{const{normalize:t}=e;return t(["Forms"])},settings:e=>{const{normalize:t}=e;return t(["Settings"])}},buttons:{mappings:e=>{const{normalize:t}=e;return t(["Mappings"])},preview:e=>{const{normalize:t}=e;return t(["Preview"])},save:e=>{const{normalize:t}=e;return t(["Save"])},load:e=>{const{normalize:t}=e;return t(["Load"])},new_form:e=>{const{normalize:t}=e;return t(["New Form"])},add:e=>{const{normalize:t}=e;return t(["Add"])},cancel:e=>{const{normalize:t}=e;return t(["Cancel"])},close:e=>{const{normalize:t}=e;return t(["Close"])},publish_all:e=>{const{normalize:t}=e;return t(["Publish all"])},update:e=>{const{normalize:t}=e;return t(["Update"])},clear:e=>{const{normalize:t}=e;return t(["Clear"])},delete:e=>{const{normalize:t}=e;return t(["Delete"])},fields:e=>{const{normalize:t}=e;return t(["Fields"])}},general:{yes:e=>{const{normalize:t}=e;return t(["Yes"])},no:e=>{const{normalize:t}=e;return t(["No"])},loading:e=>{const{normalize:t}=e;return t(["Loading ...."])},label:e=>{const{normalize:t}=e;return t(["Label"])},value:e=>{const{normalize:t}=e;return t(["Value"])},default:e=>{const{normalize:t}=e;return t(["Default"])},default_value:e=>{const{normalize:t}=e;return t(["Default value"])}},tools:{settings:e=>{const{normalize:t}=e;return t(["Form settings"])},section:e=>{const{normalize:t}=e;return t(["Section"])},heading:e=>{const{normalize:t}=e;return t(["Heading"])},heading_text:e=>{const{normalize:t}=e;return t(["Heading text"])},heading_alignment:e=>{const{normalize:t}=e;return t(["Heading alignment"])},heading_size:e=>{const{normalize:t}=e;return t(["Heading size"])},sub_heading:e=>{const{normalize:t}=e;return t(["Subheading"])},sub_heading_text:e=>{const{normalize:t}=e;return t(["Subheading text"])},info_text:e=>{const{normalize:t}=e;return t(["Information text"])},info_text_content:e=>{const{normalize:t}=e;return t(["Information content"])},inputbox:e=>{const{normalize:t}=e;return t(["Input box"])},dropdown:e=>{const{normalize:t}=e;return t(["Dropdown"])},datefield:e=>{const{normalize:t}=e;return t(["Date / time"])},date_time:e=>{const{normalize:t}=e;return t(["Date / time"])},date_options:e=>{const{normalize:t}=e;return t(["Date options"])},date_time_include:e=>{const{normalize:t}=e;return t(["Include time"])},date_range:e=>{const{normalize:t}=e;return t(["Date range"])},check_list:e=>{const{normalize:t}=e;return t(["Check list"])},text_area:e=>{const{normalize:t}=e;return t(["Text Area"])},preview:e=>{const{normalize:t}=e;return t(["Preview"])},label:e=>{const{normalize:t}=e;return t(["Label"])},target_field:e=>{const{normalize:t}=e;return t(["Target field"])},validation:e=>{const{normalize:t}=e;return t(["Validation"])},dependency:e=>{const{normalize:t}=e;return t(["Dependency"])},show_if:e=>{const{normalize:t}=e;return t(["Show if"])},show_tool_if:e=>{const{normalize:t}=e;return t(["Show this tool if ..."])},label_text:e=>{const{normalize:t}=e;return t(["Label text"])},required:e=>{const{normalize:t}=e;return t(["Required"])},required_boolean:e=>{const{normalize:t}=e;return t(["Required to continue"])},required_display_text:e=>{const{normalize:t}=e;return t(["Display Yes/No text"])},error_message:e=>{const{normalize:t}=e;return t(["Error message"])},min_length:e=>{const{normalize:t}=e;return t(["Min length"])},max_length:e=>{const{normalize:t}=e;return t(["Max length"])},custom_format:e=>{const{normalize:t}=e;return t(["Custom Format"])},tool_tip:e=>{const{normalize:t}=e;return t(["Tool tip text (optional)"])},yes_no:e=>{const{normalize:t}=e;return t(["Yes/No"])}},dropdown:{options_title:e=>{const{normalize:t}=e;return t(["Options in dropdown list"])},options_list_title:e=>{const{normalize:t}=e;return t(["Dropdown list"])},multiple_select:e=>{const{normalize:t}=e;return t(["Allow mulitple selections"])}},settings:{label_position:e=>{const{normalize:t}=e;return t(["Label position"])},date_format:e=>{const{normalize:t}=e;return t(["Date format"])},column_gap:e=>{const{normalize:t}=e;return t(["Column gap"])},row_gap:e=>{const{normalize:t}=e;return t(["Row gap"])},section_settings:e=>{const{normalize:t}=e;return t(["Section settings"])},background_colour:e=>{const{normalize:t}=e;return t(["Background colour"])},text_colour:e=>{const{normalize:t}=e;return t(["Text colour"])},border_colour:e=>{const{normalize:t}=e;return t(["Border colour"])},border_size:e=>{const{normalize:t}=e;return t(["Border size"])},border_radius:e=>{const{normalize:t}=e;return t(["Border radius"])},element_settings:e=>{const{normalize:t}=e;return t(["Element settings"])}},status:{form_id:e=>{const{normalize:t}=e;return t(["Form ID"])},form_name:e=>{const{normalize:t}=e;return t(["Form Name"])},form_status:e=>{const{normalize:t}=e;return t(["Form Status"])},published:e=>{const{normalize:t}=e;return t(["Published"])},last_published:e=>{const{normalize:t}=e;return t(["Last Published"])},enabled_in_store:e=>{const{normalize:t}=e;return t(["Enabled in store"])},valid_form:e=>{const{normalize:t}=e;return t(["Valid form"])}},load_forms:{saved_forms:e=>{const{normalize:t}=e;return t(["Saved Forms"])}},table_heading:{database_fields:e=>{const{normalize:t}=e;return t(["Database fields"])},field_id:e=>{const{normalize:t}=e;return t(["ID"])},field_name:e=>{const{normalize:t}=e;return t(["Field name"])},field_type:e=>{const{normalize:t}=e;return t(["Type"])},field_default_value:e=>{const{normalize:t}=e;return t(["Default value"])},field_form_default_value:e=>{const{normalize:t}=e;return t(["Form default value"])},field_form_source:e=>{const{normalize:t}=e;return t(["Data source"])},field_delete:e=>{const{normalize:t}=e;return t(["Delete"])},field_form_target:e=>{const{normalize:t}=e;return t(["Target"])},field_form_cm_target:e=>{const{normalize:t}=e;return t(["CM Target Field"])},field_form_lms_target:e=>{const{normalize:t}=e;return t(["LMS Target Field"])},field_form_crm_target:e=>{const{normalize:t}=e;return t(["CRM Target Field"])}},target:{field:e=>{const{normalize:t}=e;return t(["Field"])},field_form_source:e=>{const{normalize:t}=e;return t(["Note: If a value exists the default value will be from"])}},dependancies:{message:e=>{const{normalize:t}=e;return t(["Please note range fields are not included"])}},place_holders:{form_name:e=>{const{normalize:t}=e;return t(["Form name"])},tool_tip:e=>{const{normalize:t}=e;return t(["Tool tip"])},label_text:e=>{const{normalize:t}=e;return t(["Label text"])},option_label:e=>{const{normalize:t}=e;return t(["Option text"])},option_value:e=>{const{normalize:t}=e;return t(["Option value"])},field_name:e=>{const{normalize:t}=e;return t(["Field name"])},heading_text:e=>{const{normalize:t}=e;return t(["Heading text"])},subheading_text:e=>{const{normalize:t}=e;return t(["Subheading text"])},info_text_label:e=>{const{normalize:t}=e;return t(["Information text label"])},info_text:e=>{const{normalize:t}=e;return t(["Information text"])}}}},5627:function(e,t,o){"use strict";o.r(t),t["default"]={custom_forms:e=>{const{normalize:t}=e;return t(["Formulaires personnalisés"])},nav:{"store-admin":e=>{const{normalize:t}=e;return t(["Retourner à l'admin"])},forms:e=>{const{normalize:t}=e;return t(["Formes"])},settings:e=>{const{normalize:t}=e;return t(["Réglages"])}},buttons:{mappings:e=>{const{normalize:t}=e;return t(["Mappages"])},preview:e=>{const{normalize:t}=e;return t(["Preview"])},save:e=>{const{normalize:t}=e;return t(["Sauvegarder"])},load:e=>{const{normalize:t}=e;return t(["Charger"])},new_form:e=>{const{normalize:t}=e;return t(["Nouvelle"])},add:e=>{const{normalize:t}=e;return t(["Add"])},cancel:e=>{const{normalize:t}=e;return t(["Annuler"])},close:e=>{const{normalize:t}=e;return t(["Proche"])},publish_all:e=>{const{normalize:t}=e;return t(["Tout publier"])},update:e=>{const{normalize:t}=e;return t(["Update"])},clear:e=>{const{normalize:t}=e;return t(["Clear"])},delete:e=>{const{normalize:t}=e;return t(["Supprimer"])},fields:e=>{const{normalize:t}=e;return t(["Des champs"])}},general:{yes:e=>{const{normalize:t}=e;return t(["Oui"])},no:e=>{const{normalize:t}=e;return t(["Non"])},loading:e=>{const{normalize:t}=e;return t(["Chargement ...."])},label:e=>{const{normalize:t}=e;return t(["Étiqueter"])},value:e=>{const{normalize:t}=e;return t(["Valeur"])},default:e=>{const{normalize:t}=e;return t(["Défaut"])},default_value:e=>{const{normalize:t}=e;return t(["Valeur par défaut"])}},tools:{settings:e=>{const{normalize:t}=e;return t(["Paramètres du formulaire"])},section:e=>{const{normalize:t}=e;return t(["Section"])},heading:e=>{const{normalize:t}=e;return t(["Titre"])},heading_text:e=>{const{normalize:t}=e;return t(["Texte de Titre"])},heading_alignment:e=>{const{normalize:t}=e;return t(["Alignement du cap"])},heading_size:e=>{const{normalize:t}=e;return t(["Taille du titre"])},sub_heading:e=>{const{normalize:t}=e;return t(["Sous-titre"])},sub_heading_text:e=>{const{normalize:t}=e;return t(["Texte du sous-titre"])},info_text:e=>{const{normalize:t}=e;return t(["Texte informatif"])},info_text_content:e=>{const{normalize:t}=e;return t(["Contenu de l'information"])},inputbox:e=>{const{normalize:t}=e;return t(["Zone de texte"])},dropdown:e=>{const{normalize:t}=e;return t(["Menu déroulant"])},datefield:e=>{const{normalize:t}=e;return t(["Date / time"])},date_time:e=>{const{normalize:t}=e;return t(["Date / time"])},date_options:e=>{const{normalize:t}=e;return t(["Date options"])},date_time_include:e=>{const{normalize:t}=e;return t(["Include time"])},date_range:e=>{const{normalize:t}=e;return t(["Date range"])},check_list:e=>{const{normalize:t}=e;return t(["Check list"])},text_area:e=>{const{normalize:t}=e;return t(["Région de texte"])},preview:e=>{const{normalize:t}=e;return t(["Aperçu"])},label:e=>{const{normalize:t}=e;return t(["Étiquette"])},target_field:e=>{const{normalize:t}=e;return t(["Champ cible"])},validation:e=>{const{normalize:t}=e;return t(["Validation"])},dependency:e=>{const{normalize:t}=e;return t(["Dépendance"])},show_if:e=>{const{normalize:t}=e;return t(["Afficher si"])},show_tool_if:e=>{const{normalize:t}=e;return t(["Montrez cet outil si ..."])},label_text:e=>{const{normalize:t}=e;return t(["Texte de l'étiquette"])},required:e=>{const{normalize:t}=e;return t(["Obligatoire"])},required_boolean:e=>{const{normalize:t}=e;return t(["Nécessaire pour continuer"])},required_display_text:e=>{const{normalize:t}=e;return t(["Afficher le texte Oui/Non"])},error_message:e=>{const{normalize:t}=e;return t(["Message d'erreur"])},min_length:e=>{const{normalize:t}=e;return t(["Longueur minimale"])},max_length:e=>{const{normalize:t}=e;return t(["Longueur maximale"])},custom_format:e=>{const{normalize:t}=e;return t(["Format personnalisé"])},tool_tip:e=>{const{normalize:t}=e;return t(["Texte de l'info-bulle (facultatif)"])},yes_no:e=>{const{normalize:t}=e;return t(["Oui/Non"])}},dropdown:{options_title:e=>{const{normalize:t}=e;return t(["Options dans la liste déroulante"])},options_list_title:e=>{const{normalize:t}=e;return t(["Autoriser plusieurs sélections"])}},settings:{label_position:e=>{const{normalize:t}=e;return t(["Emplacement de l'étiquette"])},date_format:e=>{const{normalize:t}=e;return t(["Format de date"])},column_gap:e=>{const{normalize:t}=e;return t(["Écart de colonne"])},row_gap:e=>{const{normalize:t}=e;return t(["Écart de ligne"])},section_settings:e=>{const{normalize:t}=e;return t(["Paramètres de section"])},background_colour:e=>{const{normalize:t}=e;return t(["La couleur d'arrière-plan"])},text_colour:e=>{const{normalize:t}=e;return t(["Couleur du texte"])},border_colour:e=>{const{normalize:t}=e;return t(["Couleur de bordure"])},border_size:e=>{const{normalize:t}=e;return t(["Taille de bordure"])},border_radius:e=>{const{normalize:t}=e;return t(["Rayon de bordure"])},element_settings:e=>{const{normalize:t}=e;return t(["Paramètres des éléments"])}},status:{form_id:e=>{const{normalize:t}=e;return t(["ID de formulaire"])},form_name:e=>{const{normalize:t}=e;return t(["Nom de forme"])},form_status:e=>{const{normalize:t}=e;return t(["État du formulaire"])},published:e=>{const{normalize:t}=e;return t(["Publié"])},last_published:e=>{const{normalize:t}=e;return t(["Dernière publication"])},enabled_in_store:e=>{const{normalize:t}=e;return t(["Activé en magasin"])},valid_form:e=>{const{normalize:t}=e;return t(["Formulaire valide"])}},load_forms:{saved_forms:e=>{const{normalize:t}=e;return t(["Formulaires enregistrés"])}},table_heading:{database_fields:e=>{const{normalize:t}=e;return t(["Champs de la base de données"])},field_id:e=>{const{normalize:t}=e;return t(["ID"])},field_name:e=>{const{normalize:t}=e;return t(["Nom de domaine"])},field_type:e=>{const{normalize:t}=e;return t(["Taper"])},field_default_value:e=>{const{normalize:t}=e;return t(["Valeur par défaut"])},field_form_default_value:e=>{const{normalize:t}=e;return t(["Valeur par défaut du formulaire"])},field_form_source:e=>{const{normalize:t}=e;return t(["La source de données"])},field_delete:e=>{const{normalize:t}=e;return t(["Effacer"])},field_form_target:e=>{const{normalize:t}=e;return t(["Cible"])},field_form_cm_target:e=>{const{normalize:t}=e;return t(["CM Champ Cible"])},field_form_lms_target:e=>{const{normalize:t}=e;return t(["LMS Champ Cible"])},field_form_crm_target:e=>{const{normalize:t}=e;return t(["CRM Champ Cible"])}},target:{field:e=>{const{normalize:t}=e;return t(["Champ"])},field_form_source:e=>{const{normalize:t}=e;return t(["Remarque : Si une valeur existe, la valeur par défaut sera de"])}},dependancies:{message:e=>{const{normalize:t}=e;return t(["Veuillez noter que les champs de plage ne sont pas inclus"])}},place_holders:{form_name:e=>{const{normalize:t}=e;return t(["Nom de forme"])},tool_tip:e=>{const{normalize:t}=e;return t(["Info-bulle"])},label_text:e=>{const{normalize:t}=e;return t(["Texte de l'étiquette"])},option_label:e=>{const{normalize:t}=e;return t(["Texte de l'option"])},option_value:e=>{const{normalize:t}=e;return t(["Valeur d'option"])},field_name:e=>{const{normalize:t}=e;return t(["Nom de domaine"])},heading_text:e=>{const{normalize:t}=e;return t(["Texte d'en-tête"])},subheading_text:e=>{const{normalize:t}=e;return t(["Texte du sous-titre"])},info_text_label:e=>{const{normalize:t}=e;return t(["Étiquette de texte d'information"])},info_text:e=>{const{normalize:t}=e;return t(["Texte informatif"])}}}},1743:function(e,t,o){"use strict";var i=o(9242),l=o(3396);function a(e,t,o,i,a,s){const n=(0,l.up)("Navbar"),r=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",null,[(0,l.Wm)(n)]),(0,l._)("div",null,[(0,l.Wm)(r)])])}var s=o(7139),n=o.p+"img/cm_logo.3cb47867.png";const r=e=>((0,l.dD)("data-v-7c478e06"),e=e(),(0,l.Cn)(),e),m={class:"header"},d=r((()=>(0,l._)("img",{src:n,class:"logo"},null,-1))),u={href:"/storeadmin/home"};function c(e,t,o,i,a,n){const r=(0,l.up)("router-link"),c=(0,l.up)("LanaguageSelect");return(0,l.wg)(),(0,l.iD)("header",m,[(0,l.Wm)(r,{to:"/"},{default:(0,l.w5)((()=>[d])),_:1}),(0,l._)("nav",null,[(0,l._)("ul",null,[(0,l._)("a",u,(0,s.zw)(e.$t("nav.store-admin")),1),(0,l._)("li",null,[(0,l.Wm)(r,{to:{name:"Forms"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("nav.forms")),1)])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(r,{to:{name:"Settings"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("nav.settings")),1)])),_:1})])])]),(0,l.Wm)(c,{onLanguageChanged:n.languageChanged},null,8,["onLanguageChanged"])])}const h={class:"lang-flag"},f=["value"];function p(e,t,o,a,n,r){const m=(0,l.up)("country-flag");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("span",h,[(0,l.Wm)(m,{country:n.flagCode,size:"small"},null,8,["country"])]),(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.$i18n.locale=t),onChange:t[1]||(t[1]=e=>r.setFlag(e))},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.langs,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:`Lang${t}`,value:e.code},(0,s.zw)(e.language),9,f)))),128))],544),[[i.bM,e.$i18n.locale]])])}var g=o(55),v={name:"locale-changer",components:{CountryFlag:g.Z},data(){return{langs:[{code:"en",language:"English"},{code:"fr",language:"French"}],flagCode:"gb"}},created(){this.setFlag()},methods:{setFlag(){"en"==this.$i18n.locale?this.flagCode="gb":this.flagCode=this.$i18n.locale,this.$emit("languageChanged")}}},_=o(89);const D=(0,_.Z)(v,[["render",p]]);var w=D,b={name:"NavBar",components:{LanaguageSelect:w},methods:{languageChanged(){}}};const T=(0,_.Z)(b,[["render",c],["__scopeId","data-v-7c478e06"]]);var x=T,I=o(4311),k={name:"App",components:{Navbar:x},data(){return{url:"https://crm-forms.staging.cm-hosting.com/api/rest.php",headers:{"Content-Type":"application/json"}}},created(){var e={module:"authorise",action:"authorise",details:{}};I.Z.post(this.url,e,this.headers).then((e=>{"Failed"==e.data?(console.log("Login failed"),alert("User is not logged in to store admin - in future access will be redirected to storeadmin")):console.log("Login success")}))}};const C=(0,_.Z)(k,[["render",a]]);var y=C,E=o(2483),F=o(9006),V=o(4927);const z=e=>((0,l.dD)("data-v-be5003a0"),e=e(),(0,l.Cn)(),e),S={key:0},A={key:1},M={key:2},R={key:3},$={key:4},L={key:5},U={key:6},O={key:7},B={key:8},W={key:9},P={key:10},N={key:11},q={key:12},Y={class:"main"},H={class:"form_heading"},Z={class:"form_nav"},j={class:"form_nav_name"},Q={class:"form_heading"},G={class:"form_nav_message"},K={class:"list-group-item tool_section"},J=["onClick"],X=z((()=>(0,l._)("img",{src:F,class:"section_edit_icon"},null,-1))),ee=[X],te=z((()=>(0,l._)("div",{class:"section_handle"},[(0,l._)("b",null,"::")],-1))),oe={class:"form_section_tool"},ie=["id","onDblclick"],le={class:"row_cell"},ae=["onClick"],se=z((()=>(0,l._)("img",{src:V,class:"section_edit_icon"},null,-1))),ne=[se],re=["id","onDragstart","onClick"],me={class:"form_title"},de={key:0},ue={key:1,class:"form_tool_details"},ce={key:0},he={key:0},fe={key:1},pe={key:1,class:"default_value"},ge={key:0},ve={key:1},_e={key:2,class:"form_tool_details"},De=["onClick"],we={key:0,class:"form_tools"},be={class:"flex_container tool_details"},Te=["src"],xe={class:"tool_name"},Ie=["title","onDragstart"],ke={class:"flex_container tool_details"},Ce=["src"],ye={class:"tool_name"},Ee={key:0},Fe=z((()=>(0,l._)("div",null,null,-1))),Ve={key:0},ze={key:1},Se={key:0},Ae={key:1},Me={key:1},Re=z((()=>(0,l._)("div",null,[(0,l._)("b",null,"Editing Status:")],-1)));function $e(e,t,a,n,r,m){const d=(0,l.up)("Mappings"),u=(0,l.up)("Preview"),c=(0,l.up)("LoadForm"),h=(0,l.up)("ConfirmContinue"),f=(0,l.up)("FormSettings"),p=(0,l.up)("Heading"),g=(0,l.up)("InfoText"),v=(0,l.up)("InputField"),_=(0,l.up)("Dropdown"),D=(0,l.up)("DateField"),w=(0,l.up)("BooleanField"),b=(0,l.up)("TextArea"),T=(0,l.up)("CheckList"),x=(0,l.up)("b-button"),I=(0,l.up)("b-form-input"),k=(0,l.up)("Draggable");return(0,l.wg)(),(0,l.iD)(l.HY,null,[r.showMappings?((0,l.wg)(),(0,l.iD)("div",S,[(0,l.Wm)(d,{fullForm:r.formItems,formID:this.formID,formName:this.formName,formSettings:this.formSettings,formEnabled:this.formEnabled,formStatus:this.formStatus,onUpdatePublished:m.updateStatus,onCloseModal:t[0]||(t[0]=e=>m.closeModal())},null,8,["fullForm","formID","formName","formSettings","formEnabled","formStatus","onUpdatePublished"])])):(0,l.kq)("",!0),r.showPreview?((0,l.wg)(),(0,l.iD)("div",A,[(0,l.Wm)(u,{fullForm:r.formItems,formID:this.formID,formName:this.formName,formSettings:this.formSettings,formEnabled:this.formEnabled,formStatus:this.formStatus,onUpdatePublished:m.updateStatus,onCloseModal:t[1]||(t[1]=e=>m.closeModal())},null,8,["fullForm","formID","formName","formSettings","formEnabled","formStatus","onUpdatePublished"])])):(0,l.kq)("",!0),r.showLoad?((0,l.wg)(),(0,l.iD)("div",M,[(0,l.Wm)(c,{onLoadForm:m.loadForm,onCloseModal:t[2]||(t[2]=e=>m.closeModal()),onFormDeleted:m.clearForm},null,8,["onLoadForm","onFormDeleted"])])):(0,l.kq)("",!0),r.showConfirmContinue?((0,l.wg)(),(0,l.iD)("div",R,[(0,l.Wm)(h,{origin:r.origin,confirmMessage:r.confirmMessage,onCloseContinue:m.closeContinue},null,8,["origin","confirmMessage","onCloseContinue"])])):(0,l.kq)("",!0),r.showSettings?((0,l.wg)(),(0,l.iD)("div",$,[(0,l.Wm)(f,{formSettings:e.formSettings,onCloseTool:m.closeTool,onSaveSettings:m.saveSettings},null,8,["formSettings","onCloseTool","onSaveSettings"])])):(0,l.kq)("",!0),r.showHeading?((0,l.wg)(),(0,l.iD)("div",L,[(0,l.Wm)(p,{formItemToEdit:r.formItemToEdit,formItems:r.formItems,onCloseTool:m.closeTool,onSaveElement:m.saveElement},null,8,["formItemToEdit","formItems","onCloseTool","onSaveElement"])])):(0,l.kq)("",!0),r.showInfoText?((0,l.wg)(),(0,l.iD)("div",U,[(0,l.Wm)(g,{formItemToEdit:r.formItemToEdit,formItems:r.formItems,onCloseTool:m.closeTool,onSaveElement:m.saveElement},null,8,["formItemToEdit","formItems","onCloseTool","onSaveElement"])])):(0,l.kq)("",!0),r.showInputField?((0,l.wg)(),(0,l.iD)("div",O,[(0,l.Wm)(v,{formItemToEdit:r.formItemToEdit,formItems:r.formItems,onCloseTool:m.closeTool,onSaveElement:m.saveElement},null,8,["formItemToEdit","formItems","onCloseTool","onSaveElement"])])):(0,l.kq)("",!0),r.showDropdown?((0,l.wg)(),(0,l.iD)("div",B,[(0,l.Wm)(_,{formItemToEdit:r.formItemToEdit,formItems:r.formItems,onCloseTool:m.closeTool,onSaveElement:m.saveElement},null,8,["formItemToEdit","formItems","onCloseTool","onSaveElement"])])):(0,l.kq)("",!0),r.showDateField?((0,l.wg)(),(0,l.iD)("div",W,[(0,l.Wm)(D,{formItemToEdit:r.formItemToEdit,formItems:r.formItems,formSettings:e.formSettings,onCloseTool:m.closeTool,onSaveElement:m.saveElement},null,8,["formItemToEdit","formItems","formSettings","onCloseTool","onSaveElement"])])):(0,l.kq)("",!0),r.showBooleanField?((0,l.wg)(),(0,l.iD)("div",P,[(0,l.Wm)(w,{formItemToEdit:r.formItemToEdit,formItems:r.formItems,onCloseTool:m.closeTool,onSaveElement:m.saveElement},null,8,["formItemToEdit","formItems","onCloseTool","onSaveElement"])])):(0,l.kq)("",!0),r.showTextArea?((0,l.wg)(),(0,l.iD)("div",N,[(0,l.Wm)(b,{formItemToEdit:r.formItemToEdit,formItems:r.formItems,onCloseTool:m.closeTool,onSaveElement:m.saveElement},null,8,["formItemToEdit","formItems","onCloseTool","onSaveElement"])])):(0,l.kq)("",!0),r.showCheckList?((0,l.wg)(),(0,l.iD)("div",q,[(0,l.Wm)(T,{formItemToEdit:r.formItemToEdit,formItems:r.formItems,onCloseTool:m.closeTool,onSaveElement:m.saveElement},null,8,["formItemToEdit","formItems","onCloseTool","onSaveElement"])])):(0,l.kq)("",!0),(0,l._)("div",Y,[(0,l._)("div",H,[(0,l._)("div",null,[(0,l._)("h4",null,(0,s.zw)(e.$t("custom_forms")),1)]),(0,l._)("div",null,[(0,l.Wm)(x,{class:(0,s.C_)(["form_button form_button_hidden",{form_button_show:r.formSaved&&r.formItems.length>0}]),onClick:t[3]||(t[3]=e=>m.mappings())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.mappings")),1)])),_:1},8,["class"]),(0,l.Wm)(x,{class:(0,s.C_)(["form_button form_button_hidden",{form_button_show:r.formSaved&&r.formItems.length>0}]),onClick:t[4]||(t[4]=e=>m.previewForm())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.preview")),1)])),_:1},8,["class"]),(0,l.Wm)(x,{class:(0,s.C_)(["form_button form_button_hidden",{form_button_save:r.saveColour,form_button_show:r.formLoaded}]),onClick:t[5]||(t[5]=e=>m.saveForm("save"))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.save")),1)])),_:1},8,["class"]),(0,l.Wm)(x,{class:"form_button",onClick:t[6]||(t[6]=e=>m.viewSavedForms())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.load")),1)])),_:1}),(0,l.Wm)(x,{class:"form_button",onClick:t[7]||(t[7]=e=>m.newForm())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.new_form")),1)])),_:1})])]),(0,l._)("div",Z,[(0,l._)("div",j,[(0,l._)("div",Q,[(0,l.Wm)(I,{modelValue:r.formName,"onUpdate:modelValue":t[8]||(t[8]=e=>r.formName=e),placeholder:e.$t("place_holders.form_name"),class:(0,s.C_)(["form_name",{tool_error:r.formNameError}]),onInput:m.setEdited},null,8,["modelValue","placeholder","onInput","class"])])]),(0,l._)("div",G,(0,s.zw)(r.message),1)]),(0,l._)("div",{class:"form_area",onDblclick:t[16]||(t[16]=(0,i.iM)((e=>m.addSection()),["stop"]))},[(0,l._)("div",{id:"form_design",class:"form_design",onDragover:t[13]||(t[13]=(0,i.iM)((()=>{}),["prevent"])),onDrop:t[14]||(t[14]=(0,i.iM)((e=>m.onDropSection(e)),["stop","prevent"]))},[(0,l.Wm)(k,(0,l.dG)({list:r.formItems,"item-key":"sectionRow",handle:".section_handle",class:"list-group flip-list-move",onEnd:t[12]||(t[12]=e=>m.rowMoved())},m.dragOptions),{item:(0,l.w5)((({element:o})=>[(0,l._)("div",K,[(0,l._)("div",{class:"section-edit",onClick:e=>m.editSection(`${o.sectionRow}`)},ee,8,J),te,(0,l._)("div",oe,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.columnDetails,(a=>((0,l.wg)(),(0,l.iD)("div",{class:"form_section_tool_item",id:"row_"+o.sectionRow+"_col_"+a.sectionColumn,key:a.col,onDragover:t[10]||(t[10]=(0,i.iM)((()=>{}),["prevent"])),onDrop:t[11]||(t[11]=(0,i.iM)((e=>m.onToolDrop(e)),["stop","prevent"])),onDblclick:(0,i.iM)((e=>m.editSection(`${o.sectionRow}`)),["stop"])},[(0,l._)("div",le,[0==a.cellActive?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"section-delete",onClick:e=>m.deleteSection(""+("row_"+o.sectionRow+"_col_"+a.sectionColumn))},ne,8,ae)):(0,l.kq)("",!0),a.cellActive?((0,l.wg)(),(0,l.iD)("div",{key:1,class:(0,s.C_)([{tool_error:!a.cellDetails.toolDetails.toolStatus},"tool_design"]),draggable:"true",handle:".tool-drag",id:"row_"+o.sectionRow+"_col_"+a.sectionColumn+"_cell",onDragstart:e=>m.startFormToolDrag(e,a),onClick:e=>m.editTool(`${a.cellDetails.toolItemID}`),onDrag:t[9]||(t[9]=e=>m.toolOnDrag(e))},[(0,l._)("div",me,[(0,l._)("b",null,[(0,l._)("u",null,(0,s.zw)(e.$t(a.cellDetails.toolName)),1)])]),(0,l._)("div",null,(0,s.zw)(m.displayLabelByLength(`${a.cellDetails.toolTypeID}`,a.cellDetails.toolDetails.title)),1),""!=a.cellDetails.toolDetails.subheading?((0,l.wg)(),(0,l.iD)("div",de,(0,s.zw)(m.displaySubheadingByLength(a.cellDetails.toolDetails.subheading)),1)):(0,l.kq)("",!0),a.cellDetails.toolDetails.target?((0,l.wg)(),(0,l.iD)("div",ue,[(0,l.Uk)((0,s.zw)(e.$t("tools.target_field"))+': "'+(0,s.zw)(a.cellDetails.toolDetails.target.targetField)+'" ',1),a.cellDetails.toolDetails.target.required?((0,l.wg)(),(0,l.iD)("div",ce,[5==a.cellDetails.toolTypeID?((0,l.wg)(),(0,l.iD)("div",he," : "+(0,s.zw)(e.$t("tools.required_boolean"))+': "'+(0,s.zw)("Y"==a.cellDetails.toolDetails.target.required?e.$t("general.yes"):e.$t("general.no"))+'" ',1)):((0,l.wg)(),(0,l.iD)("div",fe," : "+(0,s.zw)(e.$t("tools.required_boolean"))+': "'+(0,s.zw)("Y"==a.cellDetails.toolDetails.target.required?e.$t("general.yes"):e.$t("general.no"))+'" ',1))])):(0,l.kq)("",!0),a.cellDetails.toolDetails.default||0==a.cellDetails.toolDetails.default?((0,l.wg)(),(0,l.iD)("div",pe,[5==a.cellDetails.toolTypeID?((0,l.wg)(),(0,l.iD)("div",ge,(0,s.zw)(e.$t("general.default_value"))+': "'+(0,s.zw)(1==a.cellDetails.toolDetails.default?e.$t("general.yes"):e.$t("general.no"))+'" ',1)):""!=a.cellDetails.toolDetails.default?((0,l.wg)(),(0,l.iD)("div",ve,(0,s.zw)(e.$t("general.default_value"))+': "'+(0,s.zw)(a.cellDetails.toolDetails.default)+'" ',1)):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])):(0,l.kq)("",!0),a.cellDetails.toolDetails.parent&&""!=a.cellDetails.toolDetails.parent.parentField?((0,l.wg)(),(0,l.iD)("div",_e,(0,s.zw)(e.$t("tools.show_if"))+': "'+(0,s.zw)(m.getDependantName(a.cellDetails.toolDetails.parent.parentField))+'" : '+(0,s.zw)(m.getDependantComparison(a.cellDetails.toolDetails.parent.comparison))+" : "+(0,s.zw)(m.getDependantCondition(a.cellDetails.toolDetails.parent)),1)):(0,l.kq)("",!0),(0,l._)("div",{class:"tool_delete",onClick:(0,i.iM)((e=>m.deleteTool(`${a.cellDetails.toolItemID}`)),["stop"])},null,8,De)],42,re)):(0,l.kq)("",!0)])],40,ie)))),128))])])])),_:1},16,["list"])],32),this.formLoaded?((0,l.wg)(),(0,l.iD)("div",we,[(0,l._)("div",{class:"tool_settings",onClick:t[15]||(t[15]=e=>m.openSettings())},[(0,l._)("div",be,[(0,l._)("div",null,[(0,l._)("img",{src:o(1389),class:"tool_icon"},null,8,Te)]),(0,l._)("div",xe,(0,s.zw)(e.$t("tools.settings")),1)])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.toolList,(t=>((0,l.wg)(),(0,l.iD)("div",{title:e.$t(t.name),class:"tool",key:t.id,Draggable:"true",onDragstart:e=>m.startToolDrag(e,t)},[(0,l._)("div",ke,[(0,l._)("div",null,[(0,l._)("img",{src:o(6075)(`./${t.icon}`),class:"tool_icon"},null,8,Ce)]),(0,l._)("div",ye,(0,s.zw)(e.$t(t.name)),1)])],40,Ie)))),128)),this.formLoaded?((0,l.wg)(),(0,l.iD)("div",Ee,[Fe,-1==r.formID&&0==this.edited?((0,l.wg)(),(0,l.iD)("div",Ve)):((0,l.wg)(),(0,l.iD)("div",ze,[(0,l._)("b",null,(0,s.zw)(e.$t("status.form_status"))+":",1),(0,l._)("div",null,"Form ID: "+(0,s.zw)(-1==r.formID?"---":r.formID),1),r.lastPublished?((0,l.wg)(),(0,l.iD)("div",Se,(0,s.zw)(e.$t("status.last_published"))+": "+(0,s.zw)(r.lastPublished),1)):((0,l.wg)(),(0,l.iD)("div",Ae,(0,s.zw)(e.$t("status.last_published"))+": "+(0,s.zw)(e.$t("general.no")),1)),(0,l._)("div",null,(0,s.zw)(e.$t("status.valid_form"))+": "+(0,s.zw)(1==this.formStatus?e.$t("general.yes"):e.$t("general.no")),1),(0,l._)("div",null,(0,s.zw)(e.$t("status.enabled_in_store"))+": "+(0,s.zw)("Yes"==this.formEnabledState?e.$t("general.yes"):e.$t("general.no")),1)]))])):(0,l.kq)("",!0),this.devMode?((0,l.wg)(),(0,l.iD)("div",Me,[Re,(0,l._)("div",null,"Form Loaded: "+(0,s.zw)(this.formLoaded),1),(0,l._)("div",null,"Edited: "+(0,s.zw)(this.edited),1),(0,l._)("div",null,"Save Colour: "+(0,s.zw)(this.saveColour),1),(0,l._)("div",null,[(0,l._)("pre",null,(0,s.zw)(e.formSettings),1),(0,l._)("pre",null,(0,s.zw)(r.formItems),1)])])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)],32)])],64)}o(7658);const Le=e=>((0,l.dD)("data-v-71328700"),e=e(),(0,l.Cn)(),e),Ue={class:"confirm_backdrop"},Oe={class:"message_modal"},Be=Le((()=>(0,l._)("div",{class:"form_header"},"Confirm",-1))),We={class:"form_body confirm_message"},Pe={key:0},Ne={key:1},qe={class:"table_in_use"},Ye=Le((()=>(0,l._)("td",{class:"table_margin"},null,-1))),He={class:"table_message"},Ze=Le((()=>(0,l._)("td",{class:"table_margin"},null,-1))),je=Le((()=>(0,l._)("td",{class:"table_margin"},null,-1))),Qe={class:"table_message table_margin_list"},Ge=Le((()=>(0,l._)("td",{class:"table_margin_list"},null,-1))),Ke={class:"form_footer"},Je={key:0},Xe={key:1},et={key:2},tt={key:3};function ot(e,t,o,a,n,r){const m=(0,l.up)("b-button");return(0,l.wg)(),(0,l.iD)("div",Ue,[(0,l._)("div",Oe,[Be,(0,l._)("div",We,["fieldsInUse"!=n.confirmOrigin?((0,l.wg)(),(0,l.iD)("div",Pe,[(0,l.Uk)((0,s.zw)(this.confirmMessage)+" ",1),this.terms?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,s.C_)(["terms",{terms_error:n.termsConfirmedError}])},[(0,l.wy)((0,l._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>n.termsConfirmed=e),onClick:t[1]||(t[1]=e=>r.termsChanged())},null,512),[[i.e8,n.termsConfirmed]]),(0,l.Uk)(" "+(0,s.zw)(this.terms),1)],2)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),"fieldsInUse"==n.confirmOrigin?((0,l.wg)(),(0,l.iD)("div",Ne,[(0,l._)("table",qe,[(0,l._)("tr",null,[Ye,(0,l._)("td",He,(0,s.zw)(this.confirmMessage),1),Ze]),(0,l._)("tr",null,[je,(0,l._)("td",Qe,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.items,(e=>((0,l.wg)(),(0,l.iD)("li",{key:e.form},(0,s.zw)(e.form),1)))),128))]),Ge])])])):(0,l.kq)("",!0)]),(0,l._)("div",Ke,["info"==n.confirmOrigin?((0,l.wg)(),(0,l.iD)("div",Je,[(0,l.Wm)(m,{class:"form_button",onClick:t[2]||(t[2]=e=>r.closeContinue("N"))},{default:(0,l.w5)((()=>[(0,l.Uk)("Close")])),_:1})])):"preview"==n.confirmOrigin?((0,l.wg)(),(0,l.iD)("div",Xe,[(0,l.Wm)(m,{class:"form_button",onClick:t[3]||(t[3]=e=>r.closeContinue("N"))},{default:(0,l.w5)((()=>[(0,l.Uk)("Close")])),_:1})])):"fieldsInUse"==n.confirmOrigin?((0,l.wg)(),(0,l.iD)("div",et,[(0,l.Wm)(m,{class:"form_button",onClick:t[4]||(t[4]=e=>r.closeContinue("N"))},{default:(0,l.w5)((()=>[(0,l.Uk)("Close")])),_:1})])):((0,l.wg)(),(0,l.iD)("div",tt,[(0,l.Wm)(m,{class:"form_button",onClick:t[5]||(t[5]=e=>r.closeContinue("N"))},{default:(0,l.w5)((()=>[(0,l.Uk)("Cancel")])),_:1}),(0,l.Wm)(m,{class:"form_button",onClick:t[6]||(t[6]=e=>r.closeContinue("Y"))},{default:(0,l.w5)((()=>[(0,l.Uk)("Yes")])),_:1})]))])])])}var it={name:"Confirm",props:["origin","confirmMessage","terms","fieldInUseList"],components:{},data(){return{confirmOrigin:this.origin,items:this.fieldInUseList,termsConfirmed:null,termsConfirmedError:!1}},methods:{termsChanged(){this.termsConfirmedError=!1},closeContinue(e){"Y"==e&&this.terms?this.termsConfirmed?this.$emit("closeContinue",e,this.origin):this.termsConfirmedError=!0:this.$emit("closeContinue",e,this.origin)}}};const lt=(0,_.Z)(it,[["render",ot],["__scopeId","data-v-71328700"]]);var at=lt;const st={class:"backdrop"},nt={class:"form_modal"},rt={class:"form_header"},mt={class:"form_body"},dt={key:0},ut={key:1},ct={key:0,class:"-align-left"},ht={key:1},ft={class:"form_footer"},pt={key:0};function gt(e,t,o,i,a,n){const r=(0,l.up)("b-button"),m=(0,l.up)("b-table"),d=(0,l.up)("ConfirmContinue");return(0,l.wg)(),(0,l.iD)("div",st,[(0,l._)("div",nt,[(0,l._)("div",rt,(0,s.zw)(e.$t("load_forms.saved_forms")),1),(0,l._)("div",mt,[a.loading?((0,l.wg)(),(0,l.iD)("div",dt,(0,s.zw)(e.$t(a.loadingText)),1)):(0,l.kq)("",!0),a.loading?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",ut,[(0,l.Wm)(m,{striped:"",hover:"","sort-by":a.sortBy,"sort-desc":a.sortDesc,items:a.forms,fields:a.fields,onRowClicked:n.loadForm},{"cell(formEnabled)":(0,l.w5)((e=>["1"==e.item.formEnabled?((0,l.wg)(),(0,l.iD)("div",ct,"Yes")):((0,l.wg)(),(0,l.iD)("div",ht,"No"))])),"cell(duplicate)":(0,l.w5)((e=>[(0,l.Wm)(r,{size:"sm",onClick:t=>n.duplicateForm(e),class:"table_button"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Duplicate ")])),_:2},1032,["onClick"])])),"cell(delete)":(0,l.w5)((e=>[(0,l.Wm)(r,{size:"sm",onClick:t=>n.deleteForm(e),class:"table_button"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Delete ")])),_:2},1032,["onClick"])])),_:1},8,["sort-by","sort-desc","items","fields","onRowClicked"])]))]),(0,l._)("div",ft,[(0,l.Wm)(r,{class:"form_button",onClick:t[0]||(t[0]=e=>n.closeElement())},{default:(0,l.w5)((()=>[(0,l.Uk)("Close")])),_:1})]),a.showConfirmContinue?((0,l.wg)(),(0,l.iD)("div",pt,[(0,l.Wm)(d,{origin:e.origin,confirmMessage:a.confirmMessage,onCloseContinue:n.closeContinue},null,8,["origin","confirmMessage","onCloseContinue"])])):(0,l.kq)("",!0)])])}var vt={name:"LoadForm",components:{ConfirmContinue:at},data(){return{forms:[],url:"https://crm-forms.staging.cm-hosting.com/api/rest.php",headers:{"Content-Type":"application/json"},postdata:{module:"forms",details:{}},fields:[{key:"formID",label:"Form ID",sortable:!0},{key:"formName",label:"Form Name",sortable:!0,thClass:"alignleft",tdClass:"alignleft"},{key:"formEnabled",label:"Enabled",sortable:!0},{key:"lastPublished",label:"Last Published",sortable:!0},{key:"delete",label:"Delete",sortable:!1},{key:"duplicate",label:"Duplicate",sortable:!1}],loading:!0,loadingText:"general.loading",showConfirmContinue:!1,sortBy:"formName",sortDesc:"Asc",confirmType:null,formToAction:-1,confirmMessage:null}},created(){this.getAllForms()},methods:{getAllForms(){this.postdata.action="all_forms",I.Z.post(this.url,this.postdata,this.headers).then((e=>{e.data.forEach((e=>{const t={formID:e.form_id,formName:e.form_name,formReadOnly:e.form_read_only,formSettings:JSON.parse(e.form_settings),formLanguage:e.form_language,formDescription:e.form_description,beingEdited:e.being_edited,formEnabled:e.form_enabled,formStatus:e.form_status,formContent:e.form_content,lastPublished:e.last_published};this.forms.push(t)})),this.loading=!1}))},translateCol(e){return this.$i18n.t(e)},loadForm(e){if("YX"==e.beingEdited);else if(!this.confirmMessage){const t=this.forms.find((t=>t.formID==e.formID));if("Y"==t.formReadOnly){if(!this.confirmMessage){const t=this.forms.find((t=>t.formID==e.formID));"Y"==t.formReadOnly?(this.formToAction=e.formID,this.origin="loadForms",this.confirmMessage="This form is read only. Do you want to duplicate this form?",this.confirmType="duplicate",this.showConfirmContinue=!0):this.$emit("loadForm",t)}}else this.$emit("loadForm",t)}},duplicateForm(e){this.formToAction=e.item.formID,this.origin="loadForms",this.confirmMessage="Are you sure you want to duplicate this form?",this.confirmType="duplicate",this.showConfirmContinue=!0},deleteForm(e){this.formToAction=e.item.formID,this.origin="loadForms",this.confirmMessage="Are you sure you want to delete this form?",this.confirmType="delete",this.showConfirmContinue=!0},closeContinue(e){this.showConfirmContinue=!1,"Y"==e&&this.formActionConfirmed(),this.confirmMessage=null},formActionConfirmed(){switch(this.confirmType){case"duplicate":this.postdata.action="duplicate_form";break;case"delete":this.postdata.action="delete_form";break}this.postdata.details={formID:this.formToAction},I.Z.post(this.url,this.postdata,this.headers).then((()=>{if("duplicate"==this.confirmType&&(this.forms=[],this.getAllForms()),"delete"==this.confirmType){const e=this.forms.find((e=>e.formID==this.formToAction));this.forms.splice(this.forms.indexOf(e),1),this.$emit("formDeleted")}}))},closeElement(){this.$emit("closeModal")}}};const _t=(0,_.Z)(vt,[["render",gt],["__scopeId","data-v-1827c8b3"]]);var Dt=_t;const wt={class:"backdrop"},bt={class:"form_modal"},Tt={class:"form_header"},xt={class:"form_body"},It={class:"form_section"},kt={class:"form_section_heading"},Ct={class:"form_section_detail flex_container"},yt={class:"flex_item"},Et=(0,l._)("div",null,"How dates will be displayed:",-1),Ft={class:"flex_item"},Vt=(0,l._)("div",null,"How times will be displayed:",-1),zt={class:"flex_item"},St=(0,l._)("div",null,"Date picker theme:",-1),At={class:"form_section"},Mt={class:"form_section_heading"},Rt={class:"form_section_detail flex_container"},$t={class:"flex_item"},Lt={class:"flex_item"},Ut={class:"form_section_detail flex_container"},Ot={class:"flex_item"},Bt={class:"flex_item"},Wt={class:"flex_item"},Pt={class:"flex_item"},Nt={class:"form_section"},qt={class:"form_section_heading"},Yt={class:"form_section_detail flex_container"},Ht={class:"flex_item"},Zt={class:"form_section_detail flex_container"},jt={class:"flex_item"},Qt={class:"flex_item"},Gt={class:"flex_item"},Kt={class:"flex_item"},Jt={class:"form_footer"};function Xt(e,t,o,a,n,r){const m=(0,l.up)("b-form-select-option-group"),d=(0,l.up)("b-form-select"),u=(0,l.up)("b-form-input"),c=(0,l.up)("b-button");return(0,l.wg)(),(0,l.iD)("div",wt,[(0,l._)("div",bt,[(0,l._)("div",Tt,(0,s.zw)(e.$t("tools.settings")),1),(0,l._)("div",xt,[(0,l._)("div",It,[(0,l._)("div",kt,(0,s.zw)(e.$t("settings.date_format")),1),(0,l._)("div",Ct,[(0,l._)("div",yt,[Et,(0,l.Wm)(d,{modelValue:n.dateFormat,"onUpdate:modelValue":t[0]||(t[0]=e=>n.dateFormat=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{label:"Hyphen separator",options:n.dateFormatHyphenOptions},null,8,["options"]),(0,l.Wm)(m,{label:"Dot separator",options:n.dateFormatDotOptions},null,8,["options"]),(0,l.Wm)(m,{label:"Slash separator",options:n.dateFormatSlashOptions},null,8,["options"]),(0,l.Wm)(m,{label:"Other",options:n.dateFormatOtherOptions},null,8,["options"])])),_:1},8,["modelValue"])]),(0,l._)("div",Ft,[Vt,(0,l.Wm)(d,{modelValue:n.timeFormat,"onUpdate:modelValue":t[1]||(t[1]=e=>n.timeFormat=e),options:n.timeFormatOptions},null,8,["modelValue","options"])]),(0,l._)("div",zt,[St,(0,l.Wm)(d,{modelValue:n.themeFormat,"onUpdate:modelValue":t[2]||(t[2]=e=>n.themeFormat=e),options:n.dateThemeOptions},null,8,["modelValue","options"])])])]),(0,l._)("div",At,[(0,l._)("div",Mt,(0,s.zw)(e.$t("settings.section_settings")),1),(0,l._)("div",Rt,[(0,l._)("div",$t,[(0,l._)("div",null,(0,s.zw)(e.$t("settings.column_gap")),1),(0,l.Wm)(u,{modelValue:n.columnGap,"onUpdate:modelValue":t[3]||(t[3]=e=>n.columnGap=e),type:"number",min:"0",max:"50",step:"5"},null,8,["modelValue"])]),(0,l._)("div",Lt,[(0,l._)("div",null,(0,s.zw)(e.$t("settings.row_gap")),1),(0,l.Wm)(u,{modelValue:n.rowGap,"onUpdate:modelValue":t[4]||(t[4]=e=>n.rowGap=e),type:"number",min:"0",max:"50",step:"5"},null,8,["modelValue"])])]),(0,l._)("div",Ut,[(0,l._)("div",Ot,[(0,l._)("div",null,(0,s.zw)(e.$t("settings.background_colour")),1),(0,l.wy)((0,l._)("input",{type:"color","onUpdate:modelValue":t[5]||(t[5]=e=>n.sectionBackColour=e)},null,512),[[i.nr,n.sectionBackColour]])]),(0,l._)("div",Bt,[(0,l._)("div",null,(0,s.zw)(e.$t("settings.border_size")),1),(0,l.wy)((0,l._)("input",{type:"number",class:"number_centre",min:"0",max:"10","onUpdate:modelValue":t[6]||(t[6]=e=>n.sectionBorderSize=e)},null,512),[[i.nr,n.sectionBorderSize]])]),(0,l._)("div",Wt,[(0,l._)("div",null,(0,s.zw)(e.$t("settings.border_colour")),1),(0,l.wy)((0,l._)("input",{type:"color","onUpdate:modelValue":t[7]||(t[7]=e=>n.sectionBorderColour=e)},null,512),[[i.nr,n.sectionBorderColour]])]),(0,l._)("div",Pt,[(0,l._)("div",null,(0,s.zw)(e.$t("settings.border_radius")),1),(0,l.wy)((0,l._)("input",{type:"number",class:"number_centre",min:"0",max:"10","onUpdate:modelValue":t[8]||(t[8]=e=>n.sectionBorderRadius=e)},null,512),[[i.nr,n.sectionBorderRadius]])])])]),(0,l._)("div",Nt,[(0,l._)("div",qt,(0,s.zw)(e.$t("settings.element_settings")),1),(0,l._)("div",Yt,[(0,l._)("div",Ht,[(0,l._)("div",null,(0,s.zw)(e.$t("settings.text_colour")),1),(0,l.wy)((0,l._)("input",{type:"color","onUpdate:modelValue":t[9]||(t[9]=e=>n.elementTextColour=e)},null,512),[[i.nr,n.elementTextColour]])])]),(0,l._)("div",Zt,[(0,l._)("div",jt,[(0,l._)("div",null,(0,s.zw)(e.$t("settings.background_colour")),1),(0,l.wy)((0,l._)("input",{type:"color","onUpdate:modelValue":t[10]||(t[10]=e=>n.elementBackColour=e)},null,512),[[i.nr,n.elementBackColour]])]),(0,l._)("div",Qt,[(0,l._)("div",null,(0,s.zw)(e.$t("settings.border_size")),1),(0,l.wy)((0,l._)("input",{type:"number",class:"number_centre",min:"0",max:"10","onUpdate:modelValue":t[11]||(t[11]=e=>n.elementBorderSize=e)},null,512),[[i.nr,n.elementBorderSize]])]),(0,l._)("div",Gt,[(0,l._)("div",null,(0,s.zw)(e.$t("settings.border_colour")),1),(0,l.wy)((0,l._)("input",{type:"color","onUpdate:modelValue":t[12]||(t[12]=e=>n.elementBorderColour=e)},null,512),[[i.nr,n.elementBorderColour]])]),(0,l._)("div",Kt,[(0,l._)("div",null,(0,s.zw)(e.$t("settings.border_radius")),1),(0,l.wy)((0,l._)("input",{type:"number",class:"number_centre",min:"0",max:"10","onUpdate:modelValue":t[13]||(t[13]=e=>n.elementBorderRadius=e)},null,512),[[i.nr,n.elementBorderRadius]])])])])]),(0,l._)("div",Jt,[(0,l.Wm)(c,{class:"form_button",onClick:t[14]||(t[14]=e=>r.setSectionDefault())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("general.default")),1)])),_:1}),(0,l.Wm)(c,{class:"form_button",onClick:t[15]||(t[15]=e=>r.closeElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.cancel")),1)])),_:1}),(0,l.Wm)(c,{class:"form_button",onClick:t[16]||(t[16]=e=>r.saveElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.save")),1)])),_:1})])])])}var eo={name:"Setting",components:{},props:["formSettings","closeTool"],data(){return{labelOptions:[{value:"above",text:"Above"},{value:"left",text:"Left"}],dateFormatDotOptions:[{value:"d.m.y",text:"19.08.22"},{value:"m.d.y",text:"08.19.22"},{value:"y.m.d",text:"22.19.08"},{value:"d.m.Y",text:"19.08.2022"},{value:"m.d.Y",text:"08.19.2022"},{value:"Y.m.d",text:"2022.08.19"}],dateFormatHyphenOptions:[{value:"d-m-y",text:"19-08-22"},{value:"m-d-y",text:"08-19-22"},{value:"y-m-d",text:"22-19-08"},{value:"d-m-Y",text:"19-08-2022"},{value:"m-d-Y",text:"08-19-2022"},{value:"Y-m-d",text:"2022-08-19"}],dateFormatSlashOptions:[{value:"d/m/y",text:"19/08/22"},{value:"m/d/y",text:"08/19/22"},{value:"y/m/d",text:"22/19/08"},{value:"d/m/Y",text:"19/08/2022"},{value:"m/d/Y",text:"08/19/2022"},{value:"Y/m/d",text:"2022/08/19"}],dateFormatOtherOptions:[{value:"F j, Y",text:"August 19, 2022"},{value:"j F Y",text:"19 August 2022"}],timeFormatOptions:[{value:"24hr",text:"24 hour"},{value:"h:i K",text:"AM / PM"}],dateThemeOptions:[{value:"dark",text:"Dark"},{value:"material_blue",text:"Material blue"},{value:"material_green",text:"Material green"},{value:"material_red",text:"Material red"},{value:"material_orange",text:"Material orange"},{value:"confetti",text:"Confetti"}],headingText:"",curentFormSettings:{},labelPosition:"above",dateFormat:"Y-m-d",timeFormat:"24hr",columnGap:"10",rowGap:"0",sectionBackColour:"#ffffff",sectionTextColour:"#000000",sectionBorderColour:"#ffffff",sectionBorderSize:"0",sectionBorderRadius:"0",elementBackColour:"#ffffff",elementTextColour:"#000000",elementBorderSize:"0",elementBorderColour:"#ffffff",elementBorderRadius:"0",themeFormat:"material_blue"}},created(){this.formSettings&&(this.curentFormSettings=this.formSettings,this.labelPosition=this.curentFormSettings.labelPosition,this.dateFormat=this.curentFormSettings.dateFormat,this.timeFormat=this.curentFormSettings.timeFormat,this.themeFormat=this.curentFormSettings.themeFormat,this.columnGap=this.curentFormSettings.columnGap,this.curentFormSettings.rowGap&&(this.rowGap=this.curentFormSettings.rowGap),this.sectionBackColour=this.curentFormSettings.sectionBackColour,this.sectionTextColour=this.curentFormSettings.sectionTextColour,this.sectionBorderColour=this.curentFormSettings.sectionBorderColour,this.sectionBorderSize=this.curentFormSettings.sectionBorderSize,this.sectionBorderRadius=this.curentFormSettings.sectionBorderRadius,this.elementBackColour=this.curentFormSettings.elementBackColour,this.elementTextColour=this.curentFormSettings.elementTextColour,this.elementBorderColour=this.curentFormSettings.elementBorderColour,this.elementBorderSize=this.curentFormSettings.elementBorderSize,this.elementBorderRadius=this.curentFormSettings.elementBorderRadius),this.columnGap=this.columnGap.replace("px","")},methods:{setSectionDefault(){this.labelPosition="above",this.dateFormat="Y-m-d",this.timeFormat="24hr",this.columnGap="10",this.rowGap="0",this.sectionBackColour="#ffffff",this.sectionTextColour="#000000",this.sectionBorderColour="#ffffff",this.sectionBorderSize="0",this.sectionBorderRadius="0",this.elementBackColour="#ffffff",this.elementTextColour="#000000",this.elementBorderColour="#ffffff",this.elementBorderSize="0",this.elementBorderRadius="0",this.themeFormat="material_blue"},closeElement(){this.$emit("closeTool",this.formSettings)},saveElement(){const e={labelPosition:this.labelPosition,dateFormat:this.dateFormat,timeFormat:this.timeFormat,themeFormat:this.themeFormat,columnGap:this.columnGap,rowGap:this.rowGap,sectionBackColour:this.sectionBackColour,sectionTextColour:this.sectionTextColour,sectionBorderColour:this.sectionBorderColour,sectionBorderSize:this.sectionBorderSize,sectionBorderRadius:this.sectionBorderRadius,elementBackColour:this.elementBackColour,elementTextColour:this.elementTextColour,elementBorderColour:this.elementBorderColour,elementBorderSize:this.elementBorderSize,elementBorderRadius:this.elementBorderRadius};this.curentFormSettings=e,this.$emit("saveSettings",this.curentFormSettings)}}};const to=(0,_.Z)(eo,[["render",Xt]]);var oo=to;const io={class:"backdrop"},lo={class:"form_modal"},ao={class:"form_header"},so={class:"form_body"},no={class:"form_section"},ro={class:"form_section_heading"},mo={class:"form_section_detail"},uo={class:"form_section"},co={class:"form_section_heading"},ho={class:"form_section_detail flex_container"},fo={class:"flex_item"},po={class:"form_section"},go={class:"form_section_heading"},vo={class:"form_section_detail"},_o={class:"form_footer"};function Do(e,t,o,i,a,n){const r=(0,l.up)("b-form-input"),m=(0,l.up)("b-form-select"),d=(0,l.up)("Dependency"),u=(0,l.up)("b-button");return(0,l.wg)(),(0,l.iD)("div",io,[(0,l._)("div",lo,[(0,l._)("div",ao,(0,s.zw)(e.$t("tools.heading")),1),(0,l._)("div",so,[(0,l._)("div",no,[(0,l._)("div",ro,(0,s.zw)(e.$t("tools.heading")),1),(0,l._)("div",mo,[(0,l.Uk)((0,s.zw)(e.$t("tools.heading_text"))+" ",1),(0,l.Wm)(r,{modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t),placeholder:e.$t("place_holders.heading_text"),class:(0,s.C_)({"input-error":a.textBoxTextError})},null,8,["modelValue","placeholder","class"])])]),(0,l._)("div",uo,[(0,l._)("div",co,(0,s.zw)(e.$t("tools.heading")),1),(0,l._)("div",ho,[(0,l._)("div",fo,[(0,l.Uk)((0,s.zw)(e.$t("tools.heading_alignment"))+" ",1),(0,l.Wm)(m,{modelValue:a.headingAlignment,"onUpdate:modelValue":t[1]||(t[1]=e=>a.headingAlignment=e),options:a.headingAlignmentList},null,8,["modelValue","options"])])])]),(0,l._)("div",po,[(0,l._)("div",go,(0,s.zw)(e.$t("tools.sub_heading")),1),(0,l._)("div",vo,[(0,l.Uk)((0,s.zw)(e.$t("tools.sub_heading_text"))+" ",1),(0,l.Wm)(r,{modelValue:a.subheading,"onUpdate:modelValue":t[2]||(t[2]=e=>a.subheading=e),placeholder:e.$t("place_holders.subheading_text"),class:(0,s.C_)({"input-error":a.textBoxTextError})},null,8,["modelValue","placeholder","class"])])]),(0,l.Wm)(d,{dependency:a.dependency,formItem:a.formItem,formItems:o.formItems,formSettings:e.formSettings,onUpdateDependency:n.updateDependency,ref:"dependencyRef"},null,8,["dependency","formItem","formItems","formSettings","onUpdateDependency"])]),(0,l._)("div",_o,[(0,l.Wm)(u,{class:"form_button",onClick:t[3]||(t[3]=e=>n.closeElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.cancel")),1)])),_:1}),(0,l.Wm)(u,{class:"form_button",onClick:t[4]||(t[4]=e=>n.saveElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.save")),1)])),_:1})])])])}const wo={class:"form_section"},bo={class:"form_section_heading"},To={class:"form_section_detail"},xo=["for"],Io={class:"flex_container"},ko={class:"flex_item"},Co={class:"flex_item"},yo={key:0},Eo={key:1},Fo={key:2},Vo={key:3},zo={class:"flex_item"},So={key:0},Ao={key:1},Mo={key:2},Ro={class:"flex_container"},$o={class:"flex_item footnote"};function Lo(e,t,o,a,n,r){const m=(0,l.up)("b-form-select"),d=(0,l.up)("b-form-input");return(0,l.wg)(),(0,l.iD)("div",wo,[(0,l._)("div",bo,(0,s.zw)(e.$t("tools.dependency")),1),(0,l.wy)((0,l._)("div",{class:"form_section_detail form_section_loading"},(0,s.zw)(e.$t("general.loading")),513),[[i.F8,!n.showDetails]]),(0,l.wy)((0,l._)("div",To,[(0,l._)("label",{for:n.parentField},(0,s.zw)(e.$t("tools.show_tool_if")),9,xo),(0,l._)("div",Io,[(0,l._)("div",ko,[(0,l.Wm)(m,{modelValue:n.parentField,"onUpdate:modelValue":t[0]||(t[0]=e=>n.parentField=e),options:n.toolList,onChange:t[1]||(t[1]=e=>r.updateDependant(e,"update"))},null,8,["modelValue","options"])]),(0,l._)("div",Co,[n.textComparison?((0,l.wg)(),(0,l.iD)("div",yo,[(0,l.Wm)(m,{modelValue:n.comparison,"onUpdate:modelValue":t[2]||(t[2]=e=>n.comparison=e),class:(0,s.C_)({"input-error":n.comparisonError}),options:n.textComparisons,onChange:t[3]||(t[3]=e=>r.updateComparison(e))},null,8,["modelValue","class","options"])])):(0,l.kq)("",!0),n.dateComparison?((0,l.wg)(),(0,l.iD)("div",Eo,[(0,l.Wm)(m,{modelValue:n.comparison,"onUpdate:modelValue":t[4]||(t[4]=e=>n.comparison=e),class:(0,s.C_)({"input-error":n.comparisonError}),options:n.dateComparisons,onChange:t[5]||(t[5]=e=>r.updateComparison(e))},null,8,["modelValue","class","options"])])):(0,l.kq)("",!0),n.dropDownComparison?((0,l.wg)(),(0,l.iD)("div",Fo,[(0,l.Wm)(m,{modelValue:n.comparison,"onUpdate:modelValue":t[6]||(t[6]=e=>n.comparison=e),class:(0,s.C_)({"input-error":n.comparisonError}),options:n.dropDownComparisons,onChange:t[7]||(t[7]=e=>r.updateComparison(e))},null,8,["modelValue","class","options"])])):(0,l.kq)("",!0),n.multiDropDownComparison?((0,l.wg)(),(0,l.iD)("div",Vo,[(0,l.Wm)(m,{modelValue:n.comparison,"onUpdate:modelValue":t[8]||(t[8]=e=>n.comparison=e),class:(0,s.C_)({"input-error":n.comparisonError}),options:n.multiSelectDropDownComparisons,onChange:t[9]||(t[9]=e=>r.updateComparison(e))},null,8,["modelValue","class","options"])])):(0,l.kq)("",!0)]),(0,l._)("div",zo,[n.textCondtion?((0,l.wg)(),(0,l.iD)("div",So,[(0,l.Wm)(d,{type:"text",modelValue:n.condition,"onUpdate:modelValue":t[10]||(t[10]=e=>n.condition=e),class:(0,s.C_)({"input-error":n.conditionError}),placeholder:"Condition",onInput:t[11]||(t[11]=e=>r.updateCondition())},null,8,["modelValue","class"])])):(0,l.kq)("",!0),n.ageCondtion?((0,l.wg)(),(0,l.iD)("div",Ao,[(0,l.Wm)(d,{type:"number",class:(0,s.C_)(["number_centre",{"input-error":n.conditionError}]),modelValue:n.condition,"onUpdate:modelValue":t[12]||(t[12]=e=>n.condition=e),placeholder:"Condition",onInput:t[13]||(t[13]=e=>r.updateCondition())},null,8,["modelValue","class"])])):(0,l.kq)("",!0),(0,l.wy)((0,l._)("div",null,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=e=>n.dateCondition=e),ref:"dependancyDate",class:(0,s.C_)({"input-error":n.conditionError}),placeholder:"Condition",onInput:t[15]||(t[15]=e=>r.updateCondition())},null,34),[[i.nr,n.dateCondition]])],512),[[i.F8,n.dateCondtion]]),n.dropDownCondtion?((0,l.wg)(),(0,l.iD)("div",Mo,[(0,l.Wm)(m,{modelValue:n.condition,"onUpdate:modelValue":t[16]||(t[16]=e=>n.condition=e),class:(0,s.C_)({"input-error":n.conditionError}),options:n.conditionList,onInput:t[17]||(t[17]=e=>r.updateCondition())},null,8,["modelValue","class","options"])])):(0,l.kq)("",!0)])]),(0,l._)("div",Ro,[(0,l._)("div",$o,(0,s.zw)(e.$t("dependancies.message")),1)])],512),[[i.F8,n.showDetails]])])}var Uo=o(4870),Oo=o(7516),Bo={name:"Dependency",props:["dependency","formItems","formItem","formSettings"],data(){return{textComparisons:[{value:"",text:"Please select ..."}],dropDownComparisons:[{value:"=",text:"Selected choice is:"},{value:"!=",text:"Selected choice is not:"}],multiSelectDropDownComparisons:[{value:"inc",text:"Selected includes:"},{value:"!inc",text:"Selected does not include:"}],dateComparisons:[{value:"",text:"Please select ..."},{value:"=",text:"Equal to"},{value:"!=",text:"Not equal to"},{value:"<",text:"Less than"},{value:">",text:"Greater than"},{value:"Age >",text:"Age greater than"},{value:"Age >=",text:"Age greater than or equal to"},{value:"Age <",text:"Age less than"},{value:"Age <=",text:"Age less than or equal to"}],dateRangeComparisons:[{value:"",text:"Between"}],toolList:[{value:"",text:"Please select ..."}],conditionList:[{value:"",text:"Please select ..."}],dependancyDate:(0,Uo.iH)(),parentField:"",comparison:"",condition:"",dateCondition:"",textComparison:!0,dateComparison:!1,dropDownComparison:!1,multiDropDownComparison:!1,textCondtion:!0,ageCondtion:!1,dateCondtion:!1,dropDownCondtion:!1,comparisonError:!1,conditionError:!1,showDetails:!1}},mounted(){new Oo.Z(this.$refs.dependancyDate,{altInput:!0,altFormat:this.dateFormat})},created(){this.dependency.parent&&(this.parentField=this.dependency.parent.parentField,this.comparison=this.dependency.parent.comparison,this.condition=this.dependency.parent.condition);const e=this.formItem.toolItemID;this.formItems.forEach((t=>{t.columnDetails.forEach((t=>{if(t.cellActive){var o=!0;if(e==t.cellDetails.toolItemID&&(o=!1),""==t.cellDetails.toolDetails.title&&(o=!1),"1"!=t.cellDetails.toolTypeID&&"6"!=t.cellDetails.toolTypeID&&"7"!=t.cellDetails.toolTypeID||(o=!1),"DateRange"!=t.cellDetails.toolDetails.dateOptions&&"DateRange2"!=t.cellDetails.toolDetails.dateOptions&&"TimeRange"!=t.cellDetails.toolDetails.dateOptions||(o=!1),1==o){const e={value:t.cellDetails.toolItemID,text:t.cellDetails.toolDetails.title};this.toolList.push(e)}}}))})),this.formSettings&&(this.formSettings.dateFormat&&(this.dateFormat=this.formSettings.dateFormat),this.formSettings.timeFormat&&("24hr"==this.formSettings.timeFormat?(this.time_24hr=!0,this.timeFormat="H:i"):(this.time_24hr=!1,this.timeFormat=this.formSettings.timeFormat))),this.updateDependant(this.parentField,"initialise"),this.showDetails=!0},methods:{updateDependant(e,t){var o={};this.formItems.forEach((t=>{t.columnDetails.forEach((t=>{e==t.cellDetails.toolItemID&&(o=t)}))})),"update"==t&&(this.comparisonError=!1,this.conditionError=!1,this.comparison="",this.condition="",this.conditionList=[{value:"",text:"Please select ..."}]),""==e?(this.textComparison=!0,this.dateComparison=!1,this.dropDownComparison=!1,this.multiDropDownComparison=!1,this.textComparisons=[{value:"",text:"Please select ..."}],this.textCondtion=!0,this.ageCondtion=!1,this.dateCondtion=!1,this.dropDownCondtion=!1):(2==o.cellDetails.toolTypeID&&(this.textComparison=!0,this.dateComparison=!1,this.dropDownComparison=!1,this.multiDropDownComparison=!1,this.textComparisons=[{value:"",text:"Please select ..."},{value:"=",text:"Equal to"},{value:"!=",text:"Not equal to"},{value:"like",text:"Contains"}],this.textCondtion=!0,this.ageCondtion=!1,this.dateCondtion=!1,this.dropDownCondtion=!1),4==o.cellDetails.toolTypeID&&(this.textComparison=!1,this.dateComparison=!0,this.dropDownComparison=!1,this.multiDropDownComparison=!1,this.textCondtion=!1,this.dropDownCondtion=!1,"Age >"==this.comparison||"Age <"==this.comparison||"Age >="==this.comparison||"Age <="==this.comparison?(this.ageCondtion=!0,this.dateCondtion=!1):(this.ageCondtion=!1,this.dateCondtion=!0)),3!=o.cellDetails.toolTypeID&&5!=o.cellDetails.toolTypeID||(this.textComparison=!1,this.dateComparison=!1,o.cellDetails.toolDetails.multipleSelect&&1==o.cellDetails.toolDetails.multipleSelect?(this.multiDropDownComparison=!0,null!=this.comparison&&"="!=this.comparison&&"!="!=this.comparison||(this.comparison="inc")):(this.dropDownComparison=!0,null!=this.comparison&&"inc"!=this.comparison&&"!inc"!=this.comparison||(this.comparison="=")),this.textCondtion=!1,this.ageCondtion=!1,this.dateCondtion=!1,this.dropDownCondtion=!0,3==o.cellDetails.toolTypeID&&(this.conditionList=o.cellDetails.toolDetails.dropDownOptions),5==o.cellDetails.toolTypeID&&("update"==t&&(this.comparison="=",this.condition=""),this.conditionList=[{value:!0,text:"Yes"},{value:!1,text:"No"}])));const i={parentField:e,comparison:this.comparison,condition:this.condition};this.$emit("updateDependency",i)},updateComparison(e){this.dateComparison&&(this.textCondtion=!0,this.ageCondtion=!1,this.dateCondtion=!1),this.dateComparison&&(this.textCondtion=!1,"Age >"==e||"Age <"==e||"Age >="==e||"Age <="==e?(this.ageCondtion=!0,this.dateCondtion=!1):(this.ageCondtion=!1,this.dateCondtion=!0));const t={parentField:this.parentField,comparison:e,condition:this.condition};this.$emit("updateDependency",t)},updateCondition(){const e={parentField:this.parentField,comparison:this.comparison,condition:this.condition};this.$emit("updateDependency",e)},validate(){var e,t=!0;if(this.formItems.forEach((t=>{t.columnDetails.forEach((t=>{this.parentField==t.cellDetails.toolItemID&&(e=t)}))})),""!=this.parentField){this.comparisonError=!1,this.comparisonError=!1;var o=!0;""==this.comparison&&(this.comparisonError=!0,o=!1),4==e.cellDetails.toolTypeID?""===this.dateCondition&&(this.conditionError=!0,o=!1):""===this.condition&&(this.conditionError=!0,o=!1),0==o&&(t=!1)}return 0!=t}}};const Wo=(0,_.Z)(Bo,[["render",Lo]]);var Po=Wo,No={name:"HeadingTool",components:{Dependency:Po},props:["formItemToEdit","formItems","closeTool"],data(){return{headingText:"",headingAlignmentList:[{value:"left",text:"Left"},{value:"center",text:"Centre"},{value:"right",text:"Right"}],headingSizeList:[{value:"H1",text:"H1"},{value:"H2",text:"H2"},{value:"H3",text:"H3"},{value:"H4",text:"H4"}],dependency:{},headingAlignment:"center",headingSize:"H4",formItem:{},toolStatus:!1,textBoxTextError:!1,subheading:""}},created(){this.formItems.forEach((e=>{e.columnDetails.forEach((e=>{e.cellDetails.toolItemID==this.formItemToEdit&&(this.formItem=e.cellDetails)}))})),this.title=this.formItem.toolDetails.title,this.formItem.toolDetails.headingAlignment&&(this.headingAlignment=this.formItem.toolDetails.headingAlignment),this.formItem.toolDetails.headingSize&&(this.headingSize=this.formItem.toolDetails.headingSize),this.formItem.toolDetails.subheading&&(this.subheading=this.formItem.toolDetails.subheading),this.formItem.toolDetails.parent&&(this.dependency.parent=this.formItem.toolDetails.parent),this.formItem.toolDetails.toolStatus&&(this.toolStatus=this.formItem.toolDetails.toolStatus)},methods:{closeElement(){this.$emit("closeTool",this.formItem.toolItemID,this.formItem.toolDetails.toolStatus)},saveElement(){this.validate()&&(this.formItem.toolDetails.title=this.title,this.formItem.toolDetails.subheading=this.subheading,this.formItem.toolDetails.headingAlignment=this.headingAlignment,this.formItem.toolDetails.parent=this.dependency.parent,this.formItem.toolDetails.headingSize=this.headingSize,this.formItem.toolDetails.toolStatus=this.toolStatus,this.$emit("saveElement",this.formItem))},updateDependency(e){this.dependency.parent=e},validate(){var e=!0;return 0==this.$refs.dependencyRef.validate()&&(e=!1),void 0!=this.title&&""!=this.title||void 0!=this.subheading&&""!=this.subheading||(this.textBoxTextError=!0,e=!1),0!=e&&(this.toolStatus=!0,!0)}}};const qo=(0,_.Z)(No,[["render",Do]]);var Yo=qo;const Ho={class:"backdrop"},Zo={class:"form_modal"},jo={class:"form_header"},Qo={class:"form_body"},Go={class:"form_section"},Ko={class:"form_preview_heading"},Jo={class:"form_preview_detail"},Xo={key:0},ei={key:1},ti={class:"form_section"},oi={class:"form_section_heading"},ii={class:"form_section_detail"},li=["for"],ai={class:"form_section_detail"},si=["for"],ni={class:"form_footer"};function ri(e,t,o,i,a,n){const r=(0,l.up)("b-form-textarea"),m=(0,l.up)("b-form-input"),d=(0,l.up)("b-button");return(0,l.wg)(),(0,l.iD)("div",Ho,[(0,l._)("div",Zo,[(0,l._)("div",jo,(0,s.zw)(e.$t("tools.info_text")),1),(0,l._)("div",Qo,[(0,l._)("div",Go,[(0,l._)("div",Ko,(0,s.zw)(e.$t("tools.preview")),1),(0,l._)("div",Jo,[a.title?((0,l.wg)(),(0,l.iD)("div",Xo,(0,s.zw)(a.title),1)):((0,l.wg)(),(0,l.iD)("div",ei,(0,s.zw)(e.$t("tools.label")),1)),(0,l.Wm)(r,{modelValue:a.infoTextContent,"onUpdate:modelValue":t[0]||(t[0]=e=>a.infoTextContent=e),disabled:!0},null,8,["modelValue"])])]),(0,l._)("div",ti,[(0,l._)("div",oi,(0,s.zw)(e.$t("tools.label")),1),(0,l._)("div",ii,[(0,l._)("label",{for:a.formItem.toolDetails.title},(0,s.zw)(e.$t("tools.label_text")),9,li),(0,l.Wm)(m,{modelValue:a.title,"onUpdate:modelValue":t[1]||(t[1]=e=>a.title=e),placeholder:e.$t("place_holders.info_text_label"),class:(0,s.C_)({"input-error":a.textBoxTextError})},null,8,["modelValue","placeholder","class"])]),(0,l._)("div",ai,[(0,l._)("label",{for:a.formItem.toolDetails.title},(0,s.zw)(e.$t("tools.info_text_content")),9,si),(0,l.Wm)(r,{modelValue:a.infoTextContent,"onUpdate:modelValue":t[2]||(t[2]=e=>a.infoTextContent=e),placeholder:e.$t("place_holders.info_text"),class:(0,s.C_)({"input-error":a.textAreaTextError})},null,8,["modelValue","placeholder","class"])])])]),(0,l._)("div",ni,[(0,l.Wm)(d,{class:"form_button",onClick:t[3]||(t[3]=e=>n.closeElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.cancel")),1)])),_:1}),(0,l.Wm)(d,{class:"form_button",onClick:t[4]||(t[4]=e=>n.saveElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.save")),1)])),_:1})])])])}var mi={name:"HeadingTool",props:["formItemToEdit","formItems","closeTool"],data(){return{headingText:"",formItem:{},title:null,infoTextContent:"",toolStatus:!1,textBoxTextError:!1,textAreaTextError:!1}},created(){this.formItems.forEach((e=>{e.columnDetails.forEach((e=>{e.cellDetails.toolItemID==this.formItemToEdit&&(this.formItem=e.cellDetails)}))})),this.title=this.formItem.toolDetails.title,this.formItem.toolDetails.infoTextContent&&(this.infoTextContent=this.formItem.toolDetails.infoTextContent),this.formItem.toolDetails.toolStatus&&(this.toolStatus=this.formItem.toolDetails.toolStatus)},methods:{closeElement(){this.$emit("closeTool",this.formItem.toolItemID,this.formItem.toolDetails.toolStatus)},saveElement(){this.validate()&&(this.formItem.toolDetails.title=this.title,this.formItem.toolDetails.infoTextContent=this.infoTextContent,this.formItem.toolDetails.toolStatus=this.toolStatus,this.$emit("saveElement",this.formItem))},validate(){return this.toolStatus=!1,void 0==this.title||""==this.title?(this.textBoxTextError=!0,!1):void 0==this.infoTextContent||""==this.infoTextContent?(this.textAreaTextError=!0,!1):(this.toolStatus=!0,!0)}}};const di=(0,_.Z)(mi,[["render",ri]]);var ui=di;const ci={class:"backdrop"},hi={class:"form_modal"},fi={class:"form_header"},pi={class:"form_body"},gi={class:"form_section"},vi={class:"form_preview_heading"},_i={class:"form_preview_detail"},Di={key:0},wi={key:1},bi={class:"form_section"},Ti={class:"form_section_heading"},xi={class:"form_section_detail"},Ii=["for"],ki={class:"form_section_detail"},Ci=["for"],yi={class:"form_section"},Ei={class:"form_section_heading"},Fi={class:"form_section_detail"},Vi={class:"flex_container"},zi={class:"flex_item"},Si=["for"],Ai={class:"flex_item"},Mi=["for"],Ri=(0,l._)("br",null,null,-1),$i={class:"flex_container"},Li={class:"flex_item"},Ui=["for"],Oi=(0,l._)("br",null,null,-1),Bi={class:"flex_item"},Wi=["for"],Pi=(0,l._)("br",null,null,-1),Ni={class:"form_section"},qi={class:"form_section_heading"},Yi={class:"form_section_detail"},Hi=["for"],Zi={class:"form_footer"};function ji(e,t,o,a,n,r){const m=(0,l.up)("b-form-input"),d=(0,l.up)("TargetField"),u=(0,l.up)("Dependency"),c=(0,l.up)("b-button");return(0,l.wg)(),(0,l.iD)("div",ci,[(0,l._)("div",hi,[(0,l._)("div",fi,(0,s.zw)(e.$t("tools.inputbox")),1),(0,l._)("div",pi,[(0,l._)("div",gi,[(0,l._)("div",vi,(0,s.zw)(e.$t("tools.preview")),1),(0,l._)("div",_i,[n.inputFieldText?((0,l.wg)(),(0,l.iD)("div",Di,(0,s.zw)(n.inputFieldText),1)):((0,l.wg)(),(0,l.iD)("div",wi,(0,s.zw)(e.$t("tools.label")),1)),(0,l.Wm)(m,{disabled:!0})])]),(0,l.Wm)(d,{target:n.target,formItem:n.formItem,formItems:o.formItems,targetSelectError:n.targetSelectError,onUpdateTarget:r.updateTarget,ref:"tagretRef"},null,8,["target","formItem","formItems","targetSelectError","onUpdateTarget"]),(0,l.wy)((0,l._)("div",bi,[(0,l._)("div",Ti,(0,s.zw)(e.$t("tools.label")),1),(0,l._)("div",xi,[(0,l._)("label",{for:n.formItem.toolDetails.title},(0,s.zw)(e.$t("tools.label_text")),9,Ii),(0,l.Wm)(m,{modelValue:n.inputFieldText,"onUpdate:modelValue":t[0]||(t[0]=e=>n.inputFieldText=e),placeholder:e.$t("place_holders.label_text"),class:(0,s.C_)({"input-error":n.inputFieldTextError})},null,8,["modelValue","placeholder","class"])]),(0,l._)("div",ki,[(0,l._)("label",{for:n.formItem.toolDetails.title},(0,s.zw)(e.$t("tools.tool_tip")),9,Ci),(0,l.Wm)(m,{modelValue:n.toolTipText,"onUpdate:modelValue":t[1]||(t[1]=e=>n.toolTipText=e),placeholder:e.$t("place_holders.tool_tip")},null,8,["modelValue","placeholder"])])],512),[[i.F8,""!=n.target.targetField]]),(0,l.wy)((0,l._)("div",yi,[(0,l._)("div",Ei,(0,s.zw)(e.$t("tools.validation")),1),(0,l._)("div",Fi,[(0,l._)("div",Vi,[(0,l._)("div",zi,[(0,l._)("label",{for:n.minLength},(0,s.zw)(e.$t("tools.min_length")),9,Si),(0,l.Wm)(m,{modelValue:n.minLength,"onUpdate:modelValue":t[2]||(t[2]=e=>n.minLength=e),type:"number",class:"number_centre",min:"0",max:"255",onInput:t[3]||(t[3]=e=>r.checkRangeMin())},null,8,["modelValue"])]),(0,l._)("div",Ai,[(0,l._)("label",{for:n.minLength},(0,s.zw)(e.$t("tools.error_message")),9,Mi),Ri,(0,l.Wm)(m,{modelValue:n.minLengthError,"onUpdate:modelValue":t[4]||(t[4]=e=>n.minLengthError=e),type:"text"},null,8,["modelValue"])])]),(0,l._)("div",$i,[(0,l._)("div",Li,[(0,l._)("label",{for:n.minLength},(0,s.zw)(e.$t("tools.max_length")),9,Ui),Oi,(0,l.Wm)(m,{modelValue:n.maxLength,"onUpdate:modelValue":t[5]||(t[5]=e=>n.maxLength=e),type:"number",class:"number_centre",min:"0",max:"255",onInput:t[6]||(t[6]=e=>r.checkRangeMax())},null,8,["modelValue"])]),(0,l._)("div",Bi,[(0,l._)("label",{for:n.minLength},(0,s.zw)(e.$t("tools.error_message")),9,Wi),Pi,(0,l.Wm)(m,{modelValue:n.maxLengthError,"onUpdate:modelValue":t[7]||(t[7]=e=>n.maxLengthError=e),type:"text"},null,8,["modelValue"])])])])],512),[[i.F8,""!=n.target.targetField]]),(0,l.wy)((0,l._)("div",Ni,[(0,l._)("div",qi,(0,s.zw)(e.$t("general.default_value")),1),(0,l._)("div",Yi,[(0,l._)("div",null,[(0,l._)("label",{for:n.defaultValue},(0,s.zw)(e.$t("general.default_value")),9,Hi),(0,l.Wm)(m,{modelValue:n.defaultValue,"onUpdate:modelValue":t[8]||(t[8]=e=>n.defaultValue=e),type:"text",onInput:t[9]||(t[9]=e=>r.checkDefaultValue())},null,8,["modelValue"])])])],512),[[i.F8,""!=n.target.targetField]]),(0,l.wy)((0,l.Wm)(u,{dependency:n.dependency,formItem:n.formItem,formItems:o.formItems,formSettings:o.formSettings,onUpdateDependency:r.updateDependency,ref:"dependencyRef"},null,8,["dependency","formItem","formItems","formSettings","onUpdateDependency"]),[[i.F8,""!=n.target.targetField]])]),(0,l._)("div",Zi,[(0,l.Wm)(c,{class:"form_button",onClick:t[10]||(t[10]=e=>r.closeElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.cancel")),1)])),_:1}),(0,l.Wm)(c,{class:"form_button",onClick:t[11]||(t[11]=e=>r.saveElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.save")),1)])),_:1}),(0,l._)("div",null,(0,s.zw)(n.message),1)])])])}const Qi={class:"form_section"},Gi={class:"form_section_heading"},Ki={class:"form_section_detail"},Ji={class:"flex_container"},Xi={class:"flex_item"},el=["for"],tl={class:"flex_item"},ol={key:0,class:"required_checkbox"},il={key:1,class:"required_checkbox"},ll={class:"flex_item flex_right"},al={class:"flex_item flex_right"},sl={class:"flex_container"},nl={class:"flex_item"},rl={key:0};function ml(e,t,o,a,n,r){const m=(0,l.up)("FormFields"),d=(0,l.up)("b-form-select"),u=(0,l.up)("b-form-checkbox"),c=(0,l.up)("b-button");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.wy)((0,l._)("div",null,[(0,l.Wm)(m,{onCloseFields:r.closeFields},null,8,["onCloseFields"])],512),[[i.F8,n.showFields]]),(0,l._)("div",Qi,[(0,l._)("div",Gi,(0,s.zw)(e.$t("tools.target_field")),1),(0,l.wy)((0,l._)("div",{class:"form_section_detail form_section_loading"},(0,s.zw)(e.$t("general.loading")),513),[[i.F8,!n.showDetails]]),(0,l.wy)((0,l._)("div",Ki,[(0,l._)("div",Ji,[(0,l._)("div",Xi,[(0,l._)("label",{for:n.selectedField},(0,s.zw)(e.$t("target.field")),9,el),(0,l.Wm)(d,{class:(0,s.C_)(["targetSelect",{"input-error":o.targetSelectError}]),modelValue:n.selectedField,"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedField=e),options:n.fields,onChange:t[1]||(t[1]=e=>r.setTarget(e))},null,8,["modelValue","options","class"])]),(0,l.wy)((0,l._)("div",tl,[5==n.currentToolID?((0,l.wg)(),(0,l.iD)("div",ol,[(0,l.Uk)((0,s.zw)(e.$t("tools.required_boolean"))+" ",1),(0,l.Wm)(u,{id:"bs_override",modelValue:n.requiredCheck,"onUpdate:modelValue":t[2]||(t[2]=e=>n.requiredCheck=e),value:"Y","unchecked-value":"N",onChange:t[3]||(t[3]=e=>r.setRequired(e))},null,8,["modelValue"])])):((0,l.wg)(),(0,l.iD)("div",il,[(0,l.Uk)((0,s.zw)(e.$t("tools.required"))+" ",1),(0,l.Wm)(u,{id:"bs_override",modelValue:n.requiredCheck,"onUpdate:modelValue":t[4]||(t[4]=e=>n.requiredCheck=e),value:"Y","unchecked-value":"N",onChange:t[5]||(t[5]=e=>r.setRequired(e))},null,8,["modelValue"])]))],512),[[i.F8,""!=n.selectedField]]),(0,l.wy)((0,l._)("div",ll,[(0,l.Wm)(c,{class:"form_button",onClick:t[6]||(t[6]=e=>r.clearField())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.clear")),1)])),_:1})],512),[[i.F8,"xxx"==n.selectedField]]),(0,l._)("div",al,[(0,l.Wm)(c,{class:"form_button",onClick:t[7]||(t[7]=e=>r.addField())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.fields")),1)])),_:1})])]),(0,l._)("div",sl,[(0,l._)("div",nl,[""!=n.formSource?((0,l.wg)(),(0,l.iD)("div",rl,(0,s.zw)(e.$t("target.field_form_source"))+" "+(0,s.zw)(n.formSource),1)):(0,l.kq)("",!0)])])],512),[[i.F8,n.showDetails]])])],64)}const dl={key:0},ul={class:"inner_backdrop"},cl={class:"inner_form_modal"},hl={class:"form_header"},fl={class:"form_body"},pl={key:0},gl={key:1},vl={class:"field_table"},_l={class:"new_field"},Dl={class:"new_field_label"},wl={class:"flex_container"},bl={class:"flex_item"},Tl={class:"flex_item"},xl={class:"flex_item"},Il={class:"form_footer"};function kl(e,t,o,i,a,n){const r=(0,l.up)("ConfirmContinue"),m=(0,l.up)("b-button"),d=(0,l.up)("b-table"),u=(0,l.up)("b-form-input"),c=(0,l.up)("b-form-select");return(0,l.wg)(),(0,l.iD)(l.HY,null,[a.showConfirmContinue?((0,l.wg)(),(0,l.iD)("div",dl,[(0,l.Wm)(r,{origin:e.origin,confirmMessage:e.confirmMessage,fieldInUseList:a.fieldInUseList,onCloseContinue:n.closeContinue},null,8,["origin","confirmMessage","fieldInUseList","onCloseContinue"])])):(0,l.kq)("",!0),(0,l._)("div",ul,[(0,l._)("div",cl,[(0,l._)("div",hl,(0,s.zw)(e.$t("table_heading.database_fields")),1),(0,l._)("div",fl,[a.loading?((0,l.wg)(),(0,l.iD)("div",pl,(0,s.zw)(e.$t(a.loadingText)),1)):(0,l.kq)("",!0),a.loading?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",gl,[(0,l._)("div",vl,[(0,l.Wm)(d,{striped:"",hover:"",items:a.formFields,fields:a.fields,responsive:"sm","sort-icon-left":""},{"head(fieldID)":(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)(e.$t(t.label)),1)])),"head(fieldName)":(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)(e.$t(t.label)),1)])),"head(fieldType)":(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)(e.$t(t.label)),1)])),"head(defaultValue)":(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)(e.$t(t.label)),1)])),"head(formSource)":(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)(e.$t(t.label)),1)])),"head(delete)":(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)(e.$t(t.label)),1)])),"cell(delete)":(0,l.w5)((e=>[(0,l.Wm)(m,{size:"sm",onClick:t=>n.deleteField(e),class:"mr-2"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Delete ")])),_:2},1032,["onClick"])])),_:1},8,["items","fields"])]),(0,l._)("div",_l,[(0,l._)("div",Dl,"Add new field "+(0,s.zw)(a.message),1),(0,l._)("div",wl,[(0,l._)("div",bl,[(0,l.Wm)(u,{modelValue:a.newFieldName,"onUpdate:modelValue":t[0]||(t[0]=e=>a.newFieldName=e),placeholder:e.$t("place_holders.field_name"),class:(0,s.C_)({"input-error":a.newFieldNameError})},null,8,["modelValue","placeholder","class"])]),(0,l._)("div",Tl,[(0,l.Wm)(c,{modelValue:a.newFieldType,"onUpdate:modelValue":t[1]||(t[1]=e=>a.newFieldType=e),options:a.fieldTypeOptions,class:(0,s.C_)({"input-error":a.newFieldTypeError})},null,8,["modelValue","options","class"])]),(0,l._)("div",xl,[(0,l.Wm)(m,{class:"form_button_sm",onClick:t[2]||(t[2]=e=>n.addField())},{default:(0,l.w5)((()=>[(0,l.Uk)("Add")])),_:1})])])])]))]),(0,l._)("div",Il,[(0,l.Wm)(m,{class:"form_button",onClick:t[3]||(t[3]=e=>n.closeElement())},{default:(0,l.w5)((()=>[(0,l.Uk)("Close")])),_:1})])])])],64)}var Cl={name:"Settings",components:{ConfirmContinue:at},emits:["closeFields"],data(){return{newFieldName:"",newFieldType:"",newFieldNameError:!1,newFieldTypeError:!1,message:"",fields:[{key:"fieldID",label:"table_heading.field_id",locale:"IDX",sortable:!0},{key:"fieldName",label:"table_heading.field_name",sortable:!0,thClass:"alignleft",tdClass:"alignleft"},{key:"fieldType",label:"table_heading.field_type",sortable:!0,thClass:"alignleft",tdClass:"alignleft"},{key:"defaultValue",label:"table_heading.field_default_value",sortable:!0,thClass:"alignleft",tdClass:"alignleft"},{key:"formSource",label:"table_heading.field_form_source",sortable:!0,thClass:"alignleft",tdClass:"alignleft"},{key:"delete",label:"table_heading.field_delete",sortable:!1}],fieldTypeOptions:[{value:"",text:"Please select ..."},{value:"Text",text:"Text"},{value:"Date",text:"Date"},{value:"DateTime",text:"Date time"},{value:"Time",text:"Time"},{value:"DateRange",text:"Date range"},{value:"DateRange2",text:"Date range 2"},{value:"TimeRange",text:"Time range"},{value:"YesNo",text:"Yes/No"}],formFields:[],fieldInUseList:[],fieldToAction:null,showConfirmContinue:!1,loading:!1,loadingText:"general.loading",url:"https://crm-forms.staging.cm-hosting.com/api/rest.php",headers:{"Content-Type":"application/json"},postdata:{module:"forms",details:{}}}},created(){this.loading=!0,this.postdata.action="all_fields",I.Z.post(this.url,this.postdata,this.headers).then((e=>{e.data.forEach((e=>{const t={fieldID:e.fieldID,fieldName:e.fieldName,fieldType:e.fieldType,defaultValue:e.default_value,formSource:e.FieldSourceField};this.formFields.push(t)})),this.loading=!1}))},methods:{addField(){this.validate()&&(this.postdata.action="add_field",this.postdata.details={fieldName:this.newFieldName,fieldType:this.newFieldType},I.Z.post(this.url,this.postdata,this.headers).then((e=>{if(this.newFieldName="",this.newFieldType="","field_name_exists"==e.data)this.message="Field name aready exists";else{const t=e.data;this.postdata.details.fieldID=t,this.formFields.push(this.postdata.details)}})))},deleteField(e){this.fieldToAction=e.item.fieldID,this.origin="loadFields",this.confirmMessage="Are you sure you want to delete this field?",this.confirmType="delete",this.showConfirmContinue=!0},deleteFieldConfirmed(){this.postdata.action="delete_field",this.postdata.details={fieldID:this.fieldToAction},I.Z.post(this.url,this.postdata,this.headers).then((e=>{if(1==e.data){const e=this.formFields.find((e=>e.fieldID==this.fieldToAction));this.formFields.splice(this.formFields.indexOf(e),1)}else this.showConfirmContinue=!0,this.origin="fieldsInUse",this.confirmMessage="It is not possible to delete this field as it is being used in the following forms: ",this.fieldInUseList=[],e.data.forEach((e=>{var t={form:e};this.fieldInUseList.push(t)}))}))},closeContinue(e){this.showConfirmContinue=!1,"Y"==e&&this.deleteFieldConfirmed(),this.confirmMessage=null},closeElement(){const e=this.formFields;this.$emit("closeFields",e)},validate(){this.message="",this.newFieldNameError=!1,this.newFieldTypeError=!1;var e=!0;""==this.newFieldName&&(this.newFieldNameError=!0,e=!1),""==this.newFieldType&&(this.newFieldTypeError=!0,e=!1);const t=/^([a-zA-Z0-9 _-]+)$/;return t.test(this.newFieldName)?this.message="":(e=!1,this.message=" - invalid format",this.newFieldNameError=!0),e}}};const yl=(0,_.Z)(Cl,[["render",kl],["__scopeId","data-v-bfa212ea"]]);var El=yl,Fl={name:"TargetField",emits:["updateTarget","closeFields"],components:{FormFields:El},props:["target","formItem","formItems","targetSelectError"],data(){return{fields:[],currentToolID:null,selectedField:"",requiredCheck:"",formSource:"",showFields:!1,showDetails:!1}},created(){this.currentToolID=this.formItem.toolTypeID;const e="https://crm-forms.staging.cm-hosting.com/api/rest.php",t={module:"forms",action:"all_fields_by_type",details:{fieldTypeID:this.formItem.toolTypeID}},o={"Content-Type":"application/json"};I.Z.post(e,t,o).then((e=>{var t=[];this.formItems.forEach((e=>{e.columnDetails.forEach((e=>{e.cellDetails.toolDetails&&e.cellDetails.toolDetails.target&&t.push(e.cellDetails.toolDetails.target.targetField)}))}));var o="";this.formItem.toolDetails.target&&(o=this.formItem.toolDetails.target.targetField),e.data.forEach((e=>{const i={value:e.fieldName,text:e.fieldName,fieldType:e.fieldType,defaultValue:e.default_value,formSource:e.FieldSourceField};-1!=t.indexOf(e.fieldName)&&e.fieldName!=o||this.fields.push(i)})),this.formItem.toolDetails.target&&(this.selectedField=this.formItem.toolDetails.target.targetField,this.getSource(),this.formItem.toolDetails.target.required&&(this.requiredCheck=this.formItem.toolDetails.target.required)),this.showDetails=!0}))},methods:{getSource(){const e=this.fields.find((e=>e.value==this.selectedField));this.formSource=e.formSource},closeFields(e){this.fields=[];var t=[];switch(this.formItem.toolTypeID){case 4:t.push("Date"),t.push("DateTime"),t.push("Time"),t.push("DateRange"),t.push("DateRange2"),t.push("TimeRange");break;case 5:t.push("YesNo");break;default:t.push("Text");break}e.forEach((e=>{if(t.includes(e.fieldType)){const t={value:e.fieldName,text:e.fieldName,fieldType:e.fieldType,formSource:e.formSource,defaultValue:e.defaultValue};this.fields.push(t)}})),this.showFields=!1},clearField(){this.selectedField="",this.requiredCheck=!1;const e={targetField:"",required:!1,defaultValue:"",fieldType:"",formSource:""};this.$emit("updateTarget",e)},addField(){this.showFields=!0},setTarget(e){const t=this.fields.find((t=>t.value==e));this.formSource=t.formSource;const o={targetField:e,required:this.requiredCheck,defaultValue:t.defaultValue,fieldType:t.fieldType,formSource:t.formSource};this.$emit("updateTarget",o)},setRequired(e){const t=this.fields.find((e=>e.value==this.selectedField)),o={targetField:this.selectedField,required:e,defaultValue:t.defaultValue,fieldType:t.fieldType,formSource:t.formSource};this.$emit("updateTarget",o)}}};const Vl=(0,_.Z)(Fl,[["render",ml]]);var zl=Vl,Sl={name:"InputFieldTool",components:{Dependency:Po,TargetField:zl},emits:["dependency","target","saveElement","closeTool"],props:["formItemToEdit","formItems","formSettings"],data(){return{rowItem:this.rowToEdit,formItem:{},dependencyRef:(0,Uo.iH)(),tagretRef:(0,Uo.iH)(),dependency:{},target:{targetField:""},message:"",inputFieldText:"",toolStatus:null,defaultValue:"",toolTipText:"",minLength:0,maxLength:50,minLengthError:"Too short",maxLengthError:"Too long",textFormat:"This feature coming soon ....",textFormatError:"Invalid format",inputFieldTextError:!1,targetSelectError:!1}},created(){this.formItems.forEach((e=>{e.columnDetails.forEach((e=>{e.cellDetails.toolItemID==this.formItemToEdit&&(this.formItem=e.cellDetails)}))})),this.inputFieldText=this.formItem.toolDetails.title,this.formItem.toolDetails.toolTipText&&(this.toolTipText=this.formItem.toolDetails.toolTipText),this.formItem.toolDetails.parent&&(this.dependency.parent=this.formItem.toolDetails.parent),this.formItem.toolDetails.target&&(this.target=this.formItem.toolDetails.target),this.formItem.toolDetails.default&&(this.defaultValue=this.formItem.toolDetails.default),this.formItem.toolDetails.validation&&("Y"==this.target.required?(this.formItem.toolDetails.validation.minLength>0?this.minLength=this.formItem.toolDetails.validation.minLength:this.minLength=1,this.formItem.toolDetails.validation.maxLength>0?this.maxLength=this.formItem.toolDetails.validation.maxLength:this.maxLength=50):(this.minLength=0,this.maxLength=255),this.minLengthError=this.formItem.toolDetails.validation.minLengthError,this.maxLengthError=this.formItem.toolDetails.validation.maxLengthError,this.textFormatError=this.formItem.toolDetails.validation.textFormatError),this.formItem.toolDetails.toolStatus&&(this.toolStatus=this.formItem.toolDetails.toolStatus)},methods:{checkRangeMin(){parseInt(this.minLength)<1?this.minLength=1:this.minLength,parseInt(this.minLength)>parseInt(this.maxLength)&&(this.maxLength=this.minLength)},checkRangeMax(){parseInt(this.maxLength)>255?this.maxLength=255:this.maxLength,parseInt(this.minLength)>parseInt(this.maxLength)&&(this.minLength=this.maxLength)},checkDefaultValue(){},updateDependency(e){this.dependency.parent=e},updateTarget(e){e.defaultValue?this.defaultValue=e.defaultValue:this.defaultValue="","Y"==e.required?(this.formItem.toolDetails.validation&&this.formItem.toolDetails.validation.minLength>0?this.minLength=this.formItem.toolDetails.validation.minLength:this.minLength=1,this.formItem.toolDetails.validation&&this.formItem.toolDetails.validation.maxLength>0?this.maxLength=this.formItem.toolDetails.validation.maxLength:this.maxLength=50):(this.minLength=0,this.maxLength=255),this.target=e},closeElement(){this.rowItem=this.rowToEdit,this.$emit("closeTool",this.formItem.toolItemID,this.formItem.toolDetails.toolStatus)},saveElement(){if(this.validate()){this.message="",this.formItem.toolDetails.title=this.inputFieldText,this.formItem.toolDetails.toolTipText=this.toolTipText,void 0!==this.dependency.parent&&(""===this.dependency.parent.parentField?delete this.formItem.toolDetails.parent:this.formItem.toolDetails.parent=this.dependency.parent);var e={minLength:this.minLength,maxLength:this.maxLength,textFormat:this.textFormat,minLengthError:this.minLengthError,maxLengthError:this.maxLengthError,textFormatError:this.textFormatError};this.formItem.toolDetails.validation=e,this.formItem.toolDetails.target=this.target,this.formItem.toolDetails.toolStatus=this.toolStatus,this.formItem.toolDetails.default=this.defaultValue,this.$emit("saveElement",this.formItem)}},validate(){var e=!0;return this.toolStatus=!1,this.inputFieldTextError=!1,this.targetSelectError=!1,void 0!=this.inputFieldText&&""!=this.inputFieldText||(this.inputFieldTextError=!0,e=!1),void 0==this.target.targetField&&(this.targetSelectError=!0,e=!1),""==this.minLengthError&&(this.minLengthError="Too short"),""==this.maxLengthError&&(this.maxLengthError="Too long"),""==this.textFormatError&&(this.textFormatError="Incorrect format"),0==this.$refs.dependencyRef.validate()&&(e=!1),0!=e&&(this.toolStatus=!0,!0)}}};const Al=(0,_.Z)(Sl,[["render",ji]]);var Ml=Al;const Rl={class:"backdrop"},$l={class:"form_modal"},Ll={class:"form_header"},Ul={class:"form_body"},Ol={class:"form_section"},Bl={class:"form_preview_heading"},Wl={class:"form_preview_detail"},Pl={class:"flex_container"},Nl={class:"flex_item"},ql={key:0},Yl={key:1},Hl={class:"form_section"},Zl={class:"form_section_heading"},jl={class:"form_section_detail"},Ql=["for"],Gl={class:"form_section_detail"},Kl=["for"],Jl={class:"form_section"},Xl=(0,l._)("div",{class:"form_section_heading"},"Options",-1),ea={class:"form_section_detail"},ta={class:"flex_container"},oa={class:"flex_item"},ia={class:"flex_container_column"},la={class:"flex_item"},aa={class:"flex_item"},sa={class:"flex_item"},na={class:"flex_item"},ra=["onClick"],ma={class:"flex_container"},da=(0,l._)("div",{class:"section_handle_dropdown"},[(0,l._)("b",null,"::")],-1),ua={class:"option_choice"},ca=["onClick"],ha={class:"mulitple_select"},fa={class:"mulitple_select_label"},pa={class:"form_section"},ga={class:"form_section_heading"},va={class:"form_section_detail"},_a=["for"],Da={class:"form_footer"},wa={key:0};function ba(e,t,o,a,n,r){const m=(0,l.up)("b-form-select"),d=(0,l.up)("TargetField"),u=(0,l.up)("b-form-input"),c=(0,l.up)("Draggable"),h=(0,l.up)("b-form-checkbox"),f=(0,l.up)("Dependency"),p=(0,l.up)("b-button"),g=(0,l.up)("ConfirmContinue");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Rl,[(0,l._)("div",$l,[(0,l._)("div",Ll,(0,s.zw)(e.$t("tools.dropdown")),1),(0,l._)("div",Ul,[(0,l._)("div",Ol,[(0,l._)("div",Bl,(0,s.zw)(e.$t("tools.preview")),1),(0,l._)("div",Wl,[(0,l._)("div",Pl,[(0,l._)("div",Nl,[n.dropdownText?((0,l.wg)(),(0,l.iD)("div",ql,(0,s.zw)(n.dropdownText),1)):((0,l.wg)(),(0,l.iD)("div",Yl,(0,s.zw)(e.$t("tools.label")),1)),(0,l.Wm)(m,{modelValue:n.selected,"onUpdate:modelValue":t[0]||(t[0]=e=>n.selected=e),options:n.dropDownOptions,multiple:""},null,8,["modelValue","options"])])])])]),(0,l.Wm)(d,{target:n.target,formItem:e.formItem,formItems:o.formItems,targetSelectError:n.targetSelectError,onUpdateTarget:r.updateTarget,ref:"tagretRef"},null,8,["target","formItem","formItems","targetSelectError","onUpdateTarget"]),(0,l.wy)((0,l._)("div",Hl,[(0,l._)("div",Zl,(0,s.zw)(e.$t("tools.label")),1),(0,l._)("div",jl,[(0,l._)("label",{for:e.formItem.toolDetails.title},(0,s.zw)(e.$t("tools.label_text")),9,Ql),(0,l.Wm)(u,{modelValue:n.dropdownText,"onUpdate:modelValue":t[1]||(t[1]=e=>n.dropdownText=e),placeholder:"Text",class:(0,s.C_)({"input-error":n.dropdownTextError})},null,8,["modelValue","class"])]),(0,l._)("div",Gl,[(0,l._)("label",{for:e.formItem.toolDetails.title},(0,s.zw)(e.$t("tools.tool_tip")),9,Kl),(0,l.Wm)(u,{modelValue:n.toolTipText,"onUpdate:modelValue":t[2]||(t[2]=e=>n.toolTipText=e),placeholder:e.$t("place_holders.tool_tip")},null,8,["modelValue","placeholder"])])],512),[[i.F8,""!=n.target.targetField]]),(0,l.wy)((0,l._)("div",Jl,[Xl,(0,l._)("div",ea,[(0,l.Uk)((0,s.zw)(e.$t("dropdown.options_title"))+" ",1),(0,l._)("div",ta,[(0,l._)("div",oa,[(0,l._)("div",ia,[(0,l._)("div",la,[(0,l.Uk)((0,s.zw)(e.$t("general.label"))+" ",1),(0,l.Wm)(u,{modelValue:n.optionLabel,"onUpdate:modelValue":t[3]||(t[3]=e=>n.optionLabel=e),placeholder:e.$t("place_holders.option_label"),onKeyup:t[4]||(t[4]=(0,i.D2)((e=>r.addOption()),["enter"])),class:(0,s.C_)({"input-error":n.optionLabelDuplicate}),ref:"labelInput"},null,8,["modelValue","placeholder","class"])]),(0,l._)("div",aa,[(0,l.Uk)((0,s.zw)(e.$t("general.value"))+" ",1),(0,l.Wm)(u,{modelValue:n.optionValue,"onUpdate:modelValue":t[5]||(t[5]=e=>n.optionValue=e),placeholder:e.$t("place_holders.option_value"),onKeyup:t[6]||(t[6]=(0,i.D2)((e=>r.addOptionValue()),["enter"])),class:(0,s.C_)({"input-error":n.optionValueDuplicate})},null,8,["modelValue","placeholder","class"])]),(0,l._)("div",sa,[(0,l.wy)((0,l._)("button",{class:"option_edit_btn",onClick:t[7]||(t[7]=e=>r.clearOption())},(0,s.zw)(e.$t("buttons.clear")),513),[[i.F8,n.optionEdited]])])])]),(0,l._)("div",na,[(0,l.Uk)((0,s.zw)(e.$t("dropdown.options_list_title"))+" ",1),(0,l.Wm)(c,{list:n.dropDownOptions,"item-key":"text",handle:".section_handle_dropdown",class:"option_dropdown_list list-group"},{item:(0,l.w5)((({element:t})=>[(0,l.wy)((0,l._)("div",{class:"option-list",onClick:e=>r.editOption({element:t})},[(0,l._)("div",ma,[da,(0,l._)("div",ua,(0,s.zw)(t.text.length>23?t.text.substring(0,20)+"...":t.text)+" ("+(0,s.zw)(t.value.length>23?t.value.substring(0,20)+"...":t.value)+") ",1)]),(0,l._)("div",null,[(0,l._)("button",{class:"option_list_btn",onClick:(0,i.iM)((e=>r.deleteOption(t.text)),["stop"])},(0,s.zw)(e.$t("buttons.delete")),9,ca)])],8,ra),[[i.F8,""!=t.value]])])),_:1},8,["list"])])]),(0,l._)("div",ha,[(0,l._)("div",fa,(0,s.zw)(e.$t("dropdown.multiple_select")),1),(0,l.Wm)(h,{id:"bs_override",modelValue:n.multipleSelect,"onUpdate:modelValue":t[8]||(t[8]=e=>n.multipleSelect=e)},null,8,["modelValue"])])])],512),[[i.F8,""!=n.target.targetField]]),(0,l.wy)((0,l._)("div",pa,[(0,l._)("div",ga,(0,s.zw)(e.$t("general.default")),1),(0,l._)("div",va,[(0,l._)("div",null,[(0,l._)("label",{for:n.defaultValue},(0,s.zw)(e.$t("general.default_value")),9,_a),(0,l.Wm)(m,{modelValue:n.defaultValue,"onUpdate:modelValue":t[9]||(t[9]=e=>n.defaultValue=e),options:n.dropDownOptions,onChange:t[10]||(t[10]=e=>r.setDefault(e))},null,8,["modelValue","options"])])])],512),[[i.F8,""!=n.target.targetField]]),(0,l.wy)((0,l.Wm)(f,{dependency:n.dependency,formItem:e.formItem,formItems:o.formItems,formSettings:o.formSettings,onUpdateDependency:r.updateDependency,ref:"dependencyRef"},null,8,["dependency","formItem","formItems","formSettings","onUpdateDependency"]),[[i.F8,""!=n.target.targetField]])]),(0,l._)("div",null,(0,s.zw)(n.message),1),(0,l._)("div",Da,[(0,l.Wm)(p,{class:"form_button",onClick:t[11]||(t[11]=e=>r.closeElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.cancel")),1)])),_:1}),(0,l.Wm)(p,{class:"form_button",onClick:t[12]||(t[12]=e=>r.saveElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.save")),1)])),_:1})])])]),n.showConfirmContinue?((0,l.wg)(),(0,l.iD)("div",wa,[(0,l.Wm)(g,{origin:e.origin,confirmMessage:e.confirmMessage,onCloseContinue:r.closeContinue},null,8,["origin","confirmMessage","onCloseContinue"])])):(0,l.kq)("",!0)],64)}var Ta=o(6983),xa=o.n(Ta),Ia={name:"HeadingTool",components:{ConfirmContinue:at,Dependency:Po,TargetField:zl,Draggable:xa()},emits:["dependency","target","saveElement","closeTool"],props:["formItemToEdit","formItems","formSettings"],data(){return{dropDownOptions:[{value:"",text:"Please select ..."}],dropdownText:"",optionValue:"",optionLabel:"",labelInput:(0,Uo.iH)(),optionLabelDuplicate:!1,optionValueDuplicate:!1,optionEdited:null,checkOptionLabel:null,checkOptionValue:null,multipleSelect:!1,selected:"",dependency:{},parent:{},target:{targetField:""},toolTipText:"",message:null,dropdownTextError:!1,targetSelectError:!1,toolStatus:!1,defaultValue:"",showConfirmContinue:!1}},created(){this.formItems.forEach((e=>{e.columnDetails.forEach((e=>{e.cellDetails.toolItemID==this.formItemToEdit&&(this.formItem=e.cellDetails)}))})),this.dropdownText=this.formItem.toolDetails.title,this.formItem.toolDetails.toolTipText&&(this.toolTipText=this.formItem.toolDetails.toolTipText),this.formItem.toolDetails.dropDownOptions&&(this.dropDownOptions=this.formItem.toolDetails.dropDownOptions),this.formItem.toolDetails.multipleSelect&&(this.multipleSelect=this.formItem.toolDetails.multipleSelect),this.formItem.toolDetails.parent&&(this.dependency.parent=this.formItem.toolDetails.parent),this.formItem.toolDetails.target&&(this.target=this.formItem.toolDetails.target),this.formItem.toolDetails.default&&(this.defaultValue=this.formItem.toolDetails.default),this.formItem.toolDetails.validation&&(this.validation=this.formItem.toolDetails.validation),this.formItem.toolDetails.toolStatus&&(this.toolStatus=this.formItem.toolDetails.toolStatus)},methods:{addOption(){if(null!=this.optionEdited)this.updateOption();else{this.setOptionlValue();const e=this.checkDuplicates();if(""!=this.optionValue&&""!=this.optionLabel&&0==e){const e={value:this.optionValue,text:this.optionLabel};this.dropDownOptions.push(e),this.optionValue="",this.optionLabel="",this.optionEdited=null,this.formItem.toolDetails.dropDownOptions=this.dropDownOptions}}},addOptionValue(){if(null!=this.optionEdited)this.updateOption();else{const e=this.checkDuplicates();if(""!=this.optionValue&&""!=this.optionLabel&&0==e){const e={value:this.optionValue,text:this.optionLabel};this.dropDownOptions.push(e),this.optionValue="",this.optionLabel="",this.optionEdited=null,this.formItem.toolDetails.dropDownOptions=this.dropDownOptions}""==this.optionLabel&&this.$refs.labelInput.focus()}},checkDuplicates(){return this.optionLabelDuplicate=!1,this.optionValueDuplicate=!1,this.dropDownOptions.forEach((e=>{e.text.toLowerCase()==this.optionLabel.toLowerCase()&&(null==this.optionEdited||this.optionEdited.text!=this.optionLabel.toLowerCase())&&(this.optionLabelDuplicate=!0),e.value.toLowerCase()==this.optionValue.toLowerCase()&&(null==this.optionEdited||this.optionEdited.value!=this.optionValue.toLowerCase())&&(this.optionValueDuplicate=!0)})),this.checkOptionLabel=this.dropDownOptions.find((e=>e.text==this.optionLabel)),this.checkOptionValue=this.dropDownOptions.find((e=>e.value==this.optionValue)),!(!this.checkOptionLabel&&!this.optionValueDuplicate)},editOption(e){this.optionEdited=this.dropDownOptions.find((t=>t.text==e.element.text)),this.optionValue=e.element.value,this.optionLabel=e.element.text},updateOption(){const e=this.checkDuplicates();if(""!=this.optionValue&&""!=this.optionLabel&&0==e){this.updateDependants(this.optionEdited.text);var t=this.dropDownOptions.find((e=>e.text==this.optionEdited.text));t.value=this.optionValue,t.text=this.optionLabel,this.optionValue="",this.optionLabel="",this.optionEdited=null}},clearOption(){this.optionLabelDuplicate=!1,this.optionValueDuplicate=!1,this.optionValue="",this.optionLabel="",this.optionEdited=null},setOptionlValue(){this.optionLabelDuplicate=!1,this.optionValueDuplicate=!1,null==this.optionEdited&&""==this.optionValue&&(this.optionValue=this.optionLabel.toLowerCase(),this.optionValue=this.optionLabel.replaceAll(" ","_"))},updateDependency(e){this.dependency.parent=e},updateTarget(e){this.target=e},setDefault(e){""==e?delete this.formItem.toolDetails.default:this.formItem.toolDetails.default=e},closeContinue(){this.showConfirmContinue=!1},closeElement(){this.$emit("closeTool",this.formItem.toolItemID,this.formItem.toolDetails.toolStatus)},deleteOption(e){var t=this.checkDependants(e);if(0==t){const t=this.dropDownOptions.find((t=>t.text==e));t.value==this.defaultValue&&(this.defaultValue=""),this.dropDownOptions.splice(this.dropDownOptions.indexOf(t),1),this.optionValue="",this.optionLabel="",this.optionLabelDuplicate=!1,this.optionValueDuplicate=!1}},updateDependants(e){this.formItems.forEach((t=>{t.columnDetails.forEach((t=>{this.formItem.toolItemID!=t.cellDetails.toolItemID&&t.cellDetails.toolDetails&&t.cellDetails.toolDetails.parent&&t.cellDetails.toolDetails.parent.parentField==this.formItem.toolItemID&&t.cellDetails.toolDetails.parent.condition==e&&(t.cellDetails.toolDetails.parent.condition=this.optionLabel)}))}))},checkDependants(e){var t=!1;return this.formItems.forEach((o=>{o.columnDetails.forEach((o=>{this.formItem.toolItemID!=o.cellDetails.toolItemID&&o.cellDetails.toolDetails&&o.cellDetails.toolDetails.parent&&o.cellDetails.toolDetails.parent.condition==e&&(t=!0)}))})),t&&(this.origin="info",this.confirmMessage="You cannot edit this option another field in your form is dependant upon it.\nPlease remove dependants first.",this.showConfirmContinue=!0),t},saveElement(){this.validate()&&(this.formItem.toolDetails.title=this.dropdownText,this.formItem.toolDetails.toolTipText=this.toolTipText,this.formItem.toolDetails.dropDownOptions=this.dropDownOptions,this.formItem.toolDetails.multipleSelect=this.multipleSelect,this.formItem.toolDetails.parent=this.dependency.parent,this.formItem.toolDetails.target=this.target,this.formItem.toolDetails.toolStatus=this.toolStatus,this.$emit("saveElement",this.formItem))},validate(){var e=!0;return this.dropdownTextError=!1,this.toolStatus=!1,void 0!=this.dropdownText&&""!=this.dropdownText||(this.dropdownTextError=!0,e=!1),void 0==this.target.targetField&&(this.targetSelectError=!0,e=!1),0==this.$refs.dependencyRef.validate()&&(e=!1),0!=e&&(this.toolStatus=!0,!0)}}};const ka=(0,_.Z)(Ia,[["render",ba]]);var Ca=ka;const ya={class:"backdrop"},Ea={class:"form_modal"},Fa={class:"form_header"},Va={class:"form_body"},za={class:"form_section"},Sa={class:"form_preview_heading"},Aa={class:"form_preview_detail"},Ma={key:0},Ra={key:1},$a={class:"flex_container"},La={class:"flex_container"},Ua={class:"form_section"},Oa={class:"form_section_heading"},Ba={class:"form_section_detail"},Wa=["for"],Pa={class:"form_section_detail"},Na=["for"],qa={class:"form_section"},Ya={class:"form_section_heading"},Ha={class:"form_section_detail"},Za={class:"flex_container"},ja={class:"flex_item"},Qa=["for"],Ga=(0,l._)("br",null,null,-1),Ka={class:"flex_item"},Ja=["for"],Xa=(0,l._)("br",null,null,-1),es={class:"flex_container"},ts={class:"flex_item"},os=["for"],is=(0,l._)("br",null,null,-1),ls={class:"flex_item"},as=["for"],ss=(0,l._)("br",null,null,-1),ns={class:"form_section_detail"},rs={class:"flex_container"},ms={class:"flex_item"},ds=["for"],us=(0,l._)("br",null,null,-1),cs={class:"flex_item"},hs=["for"],fs=(0,l._)("br",null,null,-1),ps={class:"flex_container"},gs={class:"flex_item"},vs=["for"],_s=(0,l._)("br",null,null,-1),Ds={class:"flex_item"},ws=["for"],bs=(0,l._)("br",null,null,-1),Ts={class:"form_section"},xs=(0,l._)("div",{class:"form_section_heading"},"Default",-1),Is={class:"form_section_detail"},ks={class:"flex_container"},Cs={class:"flex_container"},ys={key:0,class:"flex_item flex_item_button"},Es={class:"form_section_detail"},Fs={class:"flex_container"},Vs={class:"flex_item"},zs={class:"flex_container"},Ss={class:"form_footer"};function As(e,t,o,a,n,r){const m=(0,l.up)("TargetField"),d=(0,l.up)("b-form-input"),u=(0,l.up)("b-button"),c=(0,l.up)("Dependency");return(0,l.wg)(),(0,l.iD)("div",ya,[(0,l._)("div",Ea,[(0,l._)("div",Fa,(0,s.zw)(e.$t("tools.datefield")),1),(0,l._)("div",Va,[(0,l.wy)((0,l._)("div",za,[(0,l._)("div",Sa,(0,s.zw)(e.$t("tools.preview")),1),(0,l._)("div",Aa,[n.textBoxText?((0,l.wg)(),(0,l.iD)("div",Ma,(0,s.zw)(n.textBoxText),1)):((0,l.wg)(),(0,l.iD)("div",Ra,(0,s.zw)(e.$t("tools.label")),1)),(0,l.wy)((0,l._)("div",null,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.previewDate=e),ref:"previewDate"},null,512),[[i.nr,n.previewDate]])],512),[[i.F8,"Date"==n.selectedDateOption]]),(0,l.wy)((0,l._)("div",null,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.previewDateTime=e),ref:"previewDateTime"},null,512),[[i.nr,n.previewDateTime]])],512),[[i.F8,"DateTime"==n.selectedDateOption]]),(0,l.wy)((0,l._)("div",null,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>n.previewTime=e),ref:"previewTime"},null,512),[[i.nr,n.previewTime]])],512),[[i.F8,"Time"==n.selectedDateOption]]),(0,l.wy)((0,l._)("div",null,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>n.previewDateRange=e),ref:"previewDateRange"},null,512),[[i.nr,n.previewDateRange]])],512),[[i.F8,"DateRange"==n.selectedDateOption]]),(0,l.wy)((0,l._)("div",$a,[(0,l.Uk)(" From "),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>n.previewDateRange2Value1=e),ref:"previewDateRange2Value1",onInput:t[5]||(t[5]=e=>r.checkPreviewDate1())},null,544),[[i.nr,n.previewDateRange2Value1]]),(0,l.Uk)(" To "),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>n.previewDateRange2Value2=e),ref:"previewDateRange2Value2",onInput:t[7]||(t[7]=e=>r.checkPreviewDate2())},null,544),[[i.nr,n.previewDateRange2Value2]])],512),[[i.F8,"DateRange2"==n.selectedDateOption]]),(0,l.wy)((0,l._)("div",null,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>n.previewDateTimeRange=e),ref:"previewDateTimeRange"},null,512),[[i.nr,n.previewDateTimeRange]])],512),[[i.F8,"DateTimeRange"==n.selectedDateOption]]),(0,l.wy)((0,l._)("div",La,[(0,l.Uk)(" From "),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=e=>n.previewTimeRangeValue1=e),ref:"previewTimeRangeValue1",onInput:t[10]||(t[10]=e=>r.checkPreviewTime1())},null,544),[[i.nr,n.previewTimeRangeValue1]]),(0,l.Uk)(" To "),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=e=>n.previewTimeRangeValue2=e),ref:"previewTimeRangeValue2",onInput:t[12]||(t[12]=e=>r.checkPreviewTime2())},null,544),[[i.nr,n.previewTimeRangeValue2]])],512),[[i.F8,"TimeRange"==n.selectedDateOption]])])],512),[[i.F8,""!=n.selectedDateOption]]),(0,l.Wm)(m,{target:n.target,formItem:e.formItem,formItems:o.formItems,targetSelectError:n.targetSelectError,onUpdateTarget:r.updateTarget,ref:"targetRef"},null,8,["target","formItem","formItems","targetSelectError","onUpdateTarget"]),(0,l.wy)((0,l._)("div",Ua,[(0,l._)("div",Oa,(0,s.zw)(e.$t("tools.label")),1),(0,l._)("div",Ba,[(0,l._)("label",{for:e.formItem.toolDetails.title},(0,s.zw)(e.$t("tools.label_text")),9,Wa),(0,l.Wm)(d,{modelValue:n.textBoxText,"onUpdate:modelValue":t[13]||(t[13]=e=>n.textBoxText=e),placeholder:e.$t("place_holders.label_text"),class:(0,s.C_)({"input-error":n.textBoxTextError})},null,8,["modelValue","placeholder","class"])]),(0,l._)("div",Pa,[(0,l._)("label",{for:e.formItem.toolDetails.title},(0,s.zw)(e.$t("tools.tool_tip")),9,Na),(0,l.Wm)(d,{modelValue:n.toolTipText,"onUpdate:modelValue":t[14]||(t[14]=e=>n.toolTipText=e),placeholder:e.$t("place_holders.tool_tip")},null,8,["modelValue","placeholder"])])],512),[[i.F8,""!=n.selectedDateOption]]),(0,l.wy)((0,l._)("div",qa,[(0,l._)("div",Ya,(0,s.zw)(e.$t("tools.validation")),1),(0,l.wy)((0,l._)("div",Ha,[(0,l._)("div",Za,[(0,l._)("div",ja,[(0,l._)("label",{for:n.valMinDate},"Minimum date",8,Qa),Ga,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=e=>n.valMinDate=e),ref:"valMinDate",onInput:t[16]||(t[16]=e=>r.checkMinDate())},null,544),[[i.nr,n.valMinDate]])]),(0,l._)("div",Ka,[(0,l._)("label",{for:n.valMaxDate},"Maximum date",8,Ja),Xa,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[17]||(t[17]=e=>n.valMaxDate=e),ref:"valMaxDate",onInput:t[18]||(t[18]=e=>r.checkMaxDate())},null,544),[[i.nr,n.valMaxDate]])])]),(0,l.wy)((0,l._)("div",es,[(0,l._)("div",ts,[(0,l._)("label",{for:n.valMinDateError},"Minimum date error message",8,os),is,(0,l.Wm)(d,{modelValue:n.valMinDateError,"onUpdate:modelValue":t[19]||(t[19]=e=>n.valMinDateError=e),type:"text",onInput:t[20]||(t[20]=e=>r.checkMinErrorMessge(e))},null,8,["modelValue"])]),(0,l._)("div",ls,[(0,l._)("label",{for:n.valMaxDateError},"Maximum date error message",8,as),ss,(0,l.Wm)(d,{modelValue:n.valMaxDateError,"onUpdate:modelValue":t[21]||(t[21]=e=>n.valMaxDateError=e),type:"text",onInput:t[22]||(t[22]=e=>r.checkMaxErrorMessge(e))},null,8,["modelValue"])])],512),[[i.F8,!1]])],512),[[i.F8,"Date"==n.selectedDateOption||"DateTime"==n.selectedDateOption||"DateRange"==n.selectedDateOption||"DateRange2"==n.selectedDateOption]]),(0,l.wy)((0,l._)("div",ns,[(0,l._)("div",rs,[(0,l._)("div",ms,[(0,l._)("label",{for:n.valMinTime},"Minimum time",8,ds),us,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[23]||(t[23]=e=>n.valMinTime=e),ref:"valMinTime",onInput:t[24]||(t[24]=e=>r.checkMinTime())},null,544),[[i.nr,n.valMinTime]])]),(0,l._)("div",cs,[(0,l._)("label",{for:n.valMaxTime},"Maximum time",8,hs),fs,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[25]||(t[25]=e=>n.valMaxTime=e),ref:"valMaxTime",onInput:t[26]||(t[26]=e=>r.checkMaxTime())},null,544),[[i.nr,n.valMaxTime]])])]),(0,l.wy)((0,l._)("div",ps,[(0,l._)("div",gs,[(0,l._)("label",{for:n.valMinTimeError},"Minimum time error message",8,vs),_s,(0,l.Wm)(d,{modelValue:n.valMinTimeError,"onUpdate:modelValue":t[27]||(t[27]=e=>n.valMinTimeError=e),type:"text",onInput:t[28]||(t[28]=e=>r.checkMinTimeErrorMessge(e))},null,8,["modelValue"])]),(0,l._)("div",Ds,[(0,l._)("label",{for:n.valMaxTimeError},"Maximum time error message",8,ws),bs,(0,l.Wm)(d,{modelValue:n.valMaxTimeError,"onUpdate:modelValue":t[29]||(t[29]=e=>n.valMaxTimeError=e),type:"text",onInput:t[30]||(t[30]=e=>r.checkMaxTimeErrorMessge(e))},null,8,["modelValue"])])],512),[[i.F8,!1]])],512),[[i.F8,"Time"==n.selectedDateOption||"TimeRange"==n.selectedDateOption]])],512),[[i.F8,""!=n.selectedDateOption]]),(0,l.wy)((0,l._)("div",Ts,[xs,(0,l.wy)((0,l._)("div",Is,[(0,l._)("div",ks,[(0,l.wy)((0,l._)("div",null,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[31]||(t[31]=e=>n.defaultDateValue1=e),ref:"defaultDate",onInput:t[32]||(t[32]=e=>r.updateDefaultValue())},null,544),[[i.nr,n.defaultDateValue1]])],512),[[i.F8,"Date"==n.selectedDateOption]]),(0,l.wy)((0,l._)("div",null,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[33]||(t[33]=e=>n.defaultDateValue1=e),ref:"defaultDateRange",onInput:t[34]||(t[34]=e=>r.updateDefaultValue())},null,544),[[i.nr,n.defaultDateValue1]])],512),[[i.F8,"DateRange"==n.selectedDateOption]]),(0,l.wy)((0,l._)("div",null,[(0,l._)("div",Cs,[(0,l.Uk)(" From "),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[35]||(t[35]=e=>n.defaultDateValue1=e),ref:"defaultDateRangev2_1",onInput:t[36]||(t[36]=e=>r.updateDefaultValue())},null,544),[[i.nr,n.defaultDateValue1]]),(0,l.Uk)(" To "),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[37]||(t[37]=e=>n.defaultDateValue2=e),ref:"defaultDateRangev2_2",onInput:t[38]||(t[38]=e=>r.updateDefaultValue())},null,544),[[i.nr,n.defaultDateValue2]])])],512),[[i.F8,"DateRange2"==n.selectedDateOption]]),""!=n.defaultValue&&null!=n.defaultValue?((0,l.wg)(),(0,l.iD)("div",ys,[(0,l.Wm)(u,{class:"form_button_inline",onClick:t[39]||(t[39]=e=>r.clearDefault())},{default:(0,l.w5)((()=>[(0,l.Uk)("Clear")])),_:1})])):(0,l.kq)("",!0)])],512),[[i.F8,"Date"==n.selectedDateOption||"DateTime"==n.selectedDateOption||"DateRange"==n.selectedDateOption||"DateRange2"==n.selectedDateOption]]),(0,l.wy)((0,l._)("div",Es,[(0,l._)("div",Fs,[(0,l._)("div",Vs,[(0,l.wy)((0,l._)("div",null,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[40]||(t[40]=e=>n.defaultTime=e),ref:"defaultTime",onInput:t[41]||(t[41]=e=>r.updateDefaultValue())},null,544),[[i.nr,n.defaultTime]])],512),[[i.F8,"Time"==n.selectedDateOption]]),(0,l.wy)((0,l._)("div",zs,[(0,l.Uk)(" From "),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[42]||(t[42]=e=>n.defaultTimeRange1=e),ref:"defaultTimeRange1",onInput:t[43]||(t[43]=e=>r.updateDefaultValue())},null,544),[[i.nr,n.defaultTimeRange1]]),(0,l.Uk)(" To "),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[44]||(t[44]=e=>n.defaultTimeRange2=e),ref:"defaultTimeRange2",onInput:t[45]||(t[45]=e=>r.updateDefaultValue())},null,544),[[i.nr,n.defaultTimeRange2]])],512),[[i.F8,"TimeRange"==n.selectedDateOption]])])])],512),[[i.F8,"Time"==n.selectedDateOption||"TimeRange"==n.selectedDateOption]])],512),[[i.F8,""!=n.selectedDateOption]]),(0,l.wy)((0,l.Wm)(c,{dependency:n.dependency,formItem:e.formItem,formItems:o.formItems,formSettings:o.formSettings,onUpdateDependency:r.updateDependency,ref:"dependencyRef"},null,8,["dependency","formItem","formItems","formSettings","onUpdateDependency"]),[[i.F8,""!=n.selectedDateOption]])]),(0,l._)("div",Ss,[(0,l.Wm)(u,{class:"form_button",onClick:t[46]||(t[46]=e=>r.closeElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.cancel")),1)])),_:1}),(0,l.Wm)(u,{class:"form_button",onClick:t[47]||(t[47]=e=>r.saveElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.save")),1)])),_:1}),(0,l._)("div",null,(0,s.zw)(n.message),1)])])])}var Ms={name:"TextboxTool",components:{Dependency:Po,TargetField:zl},emits:["dependency","target","saveElement","closeTool"],props:["formItemToEdit","formItems","formSettings"],data(){return{dateOptions:[{value:"Date",text:"Date"},{value:"DateTime",text:"Date & Time"},{value:"Time",text:"Time"},{value:"DateRange",text:"Date range"},{value:"DateRange2",text:"Date range 2"},{value:"TimeRange",text:"Time range"}],dateOptionsFiltered:[],toolList:[{value:"",text:"Please select ..."}],allRows:{},toolListToView:!1,rowItem:this.rowToEdit,dependencyRef:(0,Uo.iH)(),targetRef:(0,Uo.iH)(),dependency:{},target:{},textBoxText:"",toolTipText:"",message:"",selectedDateOption:"",toolStatus:null,textBoxTextError:!1,targetSelectError:!1,dateFormat:"Y-m-d",time_24hr:!1,timeFormat:"h:i K",previewDate:"",previewDateTime:"",previewTime:"",previewDateRange:"",previewDateTimeRange:"",previewDateRange2Value1:"",previewDateRange2Value2:"",previewTimeRangeValue1:"",previewTimeRangeValue2:"",valMinDate:"",valMaxDate:"",valMinDateError:"Date too early",valMaxDateError:"Date too late",valMinTime:"01:00",valMaxTime:"22:55",valMinTimeError:"Time too early",valMaxTimeError:"Time too late",defaultDateValue1:"",defaultDateValue2:"",defaultTime:"",defaultTimeRange1:"",defaultTimeRange2:"",defaultRangeValue:"",defaultLowerLimit:"",defaultUpperLimit:"",defaultValue:""}},mounted(){new Oo.Z(this.$refs.previewDate,{altInput:!0,altFormat:this.dateFormat}),new Oo.Z(this.$refs.previewDateTime,{altInput:!0,altFormat:this.dateFormat+" H:i",enableTime:!0}),new Oo.Z(this.$refs.previewDateRange,{altInput:!0,altFormat:this.dateFormat,mode:"range"}),new Oo.Z(this.$refs.previewDateRange2Value1,{altInput:!0,altFormat:this.dateFormat,minDate:this.valMinDate,maxDate:this.valMaxDate}),new Oo.Z(this.$refs.previewDateRange2Value2,{altInput:!0,altFormat:this.dateFormat,minDate:this.valMinDate,maxDate:this.valMaxDate}),new Oo.Z(this.$refs.previewDateTimeRange,{altInput:!0,altFormat:this.dateFormat+" H:i",mode:"range",time_24hr:this.time_24hr,enableTime:!0}),new Oo.Z(this.$refs.valMinDate,{altInput:!0,altFormat:this.dateFormat}),new Oo.Z(this.$refs.valMaxDate,{altInput:!0,altFormat:this.dateFormat}),new Oo.Z(this.$refs.defaultDate,{altInput:!0,altFormat:this.dateFormat}),new Oo.Z(this.$refs.defaultDateRange,{mode:"range",altInput:!0,altFormat:this.dateFormat}),new Oo.Z(this.$refs.defaultDateRangev2_1,{altInput:!0,altFormat:this.dateFormat}),new Oo.Z(this.$refs.defaultDateRangev2_2,{altInput:!0,altFormat:this.dateFormat}),new Oo.Z(this.$refs.previewTime,{altInput:!0,altFormat:this.timeFormat,enableTime:!0,noCalendar:!0,time_24hr:this.time_24hr,minTime:this.valMinTime,maxTime:this.valMaxTime,dateFormat:"H:i"}),new Oo.Z(this.$refs.previewTimeRangeValue1,{altInput:!0,enableTime:!0,altFormat:this.timeFormat,time_24hr:this.time_24hr,noCalendar:!0,minTime:this.valMinTime,maxTime:this.valMaxTime}),new Oo.Z(this.$refs.previewTimeRangeValue2,{altInput:!0,enableTime:!0,altFormat:this.timeFormat,time_24hr:this.time_24hr,noCalendar:!0,minTime:this.valMinTime,maxTime:this.valMaxTime}),new Oo.Z(this.$refs.valMinTime,{altInput:!0,enableTime:!0,altFormat:this.timeFormat,noCalendar:!0,minTime:"01:00",maxTime:this.defaultLowerLimit,time_24hr:this.time_24hr}),new Oo.Z(this.$refs.valMaxTime,{altInput:!0,enableTime:!0,altFormat:this.timeFormat,noCalendar:!0,minTime:this.defaultUpperLimit,maxTime:"22:30",time_24hr:this.time_24hr}),new Oo.Z(this.$refs.defaultTime,{altInput:!0,enableTime:!0,altFormat:this.timeFormat,time_24hr:this.time_24hr,noCalendar:!0,minTime:this.defaultLowerLimit,maxTime:this.defaultUpperLimit}),new Oo.Z(this.$refs.defaultTimeRange1,{altInput:!0,enableTime:!0,altFormat:this.timeFormat,time_24hr:this.time_24hr,noCalendar:!0,minTime:this.valMinTime,maxTime:this.defaultUpperLimit}),new Oo.Z(this.$refs.defaultTimeRange2,{altInput:!0,enableTime:!0,altFormat:this.timeFormat,time_24hr:this.time_24hr,noCalendar:!0,minTime:this.defaultLowerLimit,maxTime:this.valMaxTime})},created(){if(this.dateOptionsFiltered=this.dateOptions,this.formItems.forEach((e=>{e.columnDetails.forEach((e=>{e.cellDetails.toolItemID==this.formItemToEdit&&(this.formItem=e.cellDetails)}))})),this.textBoxText=this.formItem.toolDetails.title,this.formItem.toolDetails.toolTipText&&(this.toolTipText=this.formItem.toolDetails.toolTipText),this.formItem.toolDetails.parent&&(this.dependency.parent=this.formItem.toolDetails.parent),this.formItem.toolDetails.target&&(this.target=this.formItem.toolDetails.target),this.formItem.toolDetails.dateOptions){this.selectedDateOption=this.formItem.toolDetails.dateOptions;const e=this.selectedDateOption;this.dateOptionsFiltered=this.dateOptions.filter((function(t){return t.value==e}))}if(this.formItem.toolDetails.default&&(this.defaultValue=this.formItem.toolDetails.default,this.setDefaults()),this.formItem.toolDetails.validation)switch(this.selectedDateOption){case"Date":case"DateRange":case"DateRange2":this.valMinDate=this.formItem.toolDetails.validation.minDateTime,this.valMaxDate=this.formItem.toolDetails.validation.maxDateTime,this.valMinDateError=this.formItem.toolDetails.validation.minDateTimeError,this.valMaxDateError=this.formItem.toolDetails.validation.maxDateTimeError;break;case"Time":case"TimeRange":if(this.valMinTime=this.formItem.toolDetails.validation.minDateTime,this.valMaxTime=this.formItem.toolDetails.validation.maxDateTime,this.valMinTimeError=this.formItem.toolDetails.validation.minDateTimeError,this.valMaxTimeError=this.formItem.toolDetails.validation.maxDateTimeError,this.defaultLowerLimit=this.defaultValue,this.defaultUpperLimit=this.defaultValue,"TimeRange"==this.selectedDateOption){var e=this.defaultValue.split(" to ");this.defaultLowerLimit=e[0],this.defaultUpperLimit=e[1]}break;default:break}this.formItem.toolDetails.toolStatus&&(this.toolStatus=this.formItem.toolDetails.toolStatus),this.formSettings&&(this.formSettings.dateFormat&&(this.dateFormat=this.formSettings.dateFormat),this.formSettings.timeFormat&&("24hr"==this.formSettings.timeFormat?(this.time_24hr=!0,this.timeFormat="H:i"):(this.time_24hr=!1,this.timeFormat=this.formSettings.timeFormat)))},methods:{setMinMax(){this.$refs.previewDate._flatpickr.set("minDate",this.valMinDate),this.$refs.previewDate._flatpickr.set("maxDate",this.valMaxDate),this.$refs.previewDateRange2Value1._flatpickr.set("minDate",this.valMinDate),this.$refs.previewDateRange2Value2._flatpickr.set("minDate",this.valMinDate),this.$refs.previewDateRange2Value1._flatpickr.set("maxDate",this.valMaxDate),this.$refs.previewDateRange2Value2._flatpickr.set("maxDate",this.valMaxDate)},checkMinDate(){if(null!=this.defaultValue&&""!=this.defaultValue){var e=this.defaultValue,t="",o="";if("DateRange"==this.selectedDateOption||"DateRange2"==this.selectedDateOption){var i=this.defaultValue.split(" to ");e=i[0],t=this.$refs.defaultDateRangev2_1._flatpickr.altInput.value,o=this.$refs.defaultDateRangev2_2._flatpickr.altInput.value}"Date"==this.selectedDateOption&&(t=this.$refs.defaultDate._flatpickr.altInput.value,o=this.$refs.defaultDate._flatpickr.altInput.value),this.valMinDate>e&&(this.valMinDate=e,this.$refs.valMinDate._flatpickr.altInput.value=t),this.valMaxDate<e&&(this.valMaxDate=e,this.$refs.valMaxDate._flatpickr.altInput.value=o)}this.valMinDate>this.valMaxDate&&(this.valMaxDate=this.valMinDate,this.$refs.valMaxDate._flatpickr.altInput.value=this.$refs.valMinDate._flatpickr.altInput.value),this.setMinMax(),this.setErrorMessages()},checkMaxDate(){if(null!=this.defaultValue&&""!=this.defaultValue){var e=this.defaultValue,t="",o="";if("DateRange"==this.selectedDateOption||"DateRange2"==this.selectedDateOption){var i=this.defaultValue.split(" to ");e=i[1],t=this.$refs.defaultDateRangev2_1._flatpickr.altInput.value,o=this.$refs.defaultDateRangev2_2._flatpickr.altInput.value}"Date"==this.selectedDateOption&&(t=this.$refs.defaultDate._flatpickr.altInput.value,o=this.$refs.defaultDate._flatpickr.altInput.value),this.valMinDate>e&&(this.valMinDate=e,this.$refs.valMaxDate._flatpickr.altInput.value=t),this.valMaxDate<e&&(this.valMaxDate=e,this.$refs.valMaxDate._flatpickr.altInput.value=o)}this.valMinDate>this.valMaxDate&&(this.valMinDate=this.valMaxDate,this.$refs.valMinDate._flatpickr.altInput.value=this.$refs.valMaxDate._flatpickr.altInput.value),this.setMinMax(),this.setErrorMessages()},checkMinTime(){if(null!=this.defaultValue&&""!=this.defaultValue){var e=this.defaultValue,t="",o="";if("TimeRange"==this.selectedDateOption){var i=this.defaultValue.split(" to ");e=i[0],t=this.$refs.defaultTimeRange1._flatpickr.altInput.value,o=this.$refs.defaultTimeRange2._flatpickr.altInput.value}"Time"==this.selectedDateOption&&(t=this.$refs.defaultTime._flatpickr.altInput.value,o=this.$refs.defaultTime._flatpickr.altInput.value),this.valMinTime>e&&(this.valMinTime=e,this.$refs.valMinTime._flatpickr.altInput.value=t),this.valMaxTime<e&&(this.valMaxTime=e,this.$refs.valMaxTime._flatpickr.altInput.value=o)}this.valMinTime>this.valMaxTime&&(this.valMaxTime=this.valMinTime,this.$refs.valMaxTime._flatpickr.altInput.value=this.$refs.valMinTime._flatpickr.altInput.value),this.setMinMax(),this.setErrorMessages()},checkMaxTime(){if(null!=this.defaultValue&&""!=this.defaultValue){var e=this.defaultValue;if("TimeRange"==this.selectedDateOption){var t=this.defaultValue.split(" to ");e=t[1]}this.valMaxTime<e&&(this.valMaxTime=e,this.$refs.valMinTime.value=e,this.$refs.valMaxTime._flatpickr.set("minTime",e),this.$refs.valMaxTime.minTime=e,this.$refs.valMaxTime._flatpickr.altInput.value=e)}this.valMinTime>this.valMaxTime&&(this.valMinTime=this.valMaxTime,this.$refs.valMinTime._flatpickr.altInput.value=this.$refs.valMaxTime._flatpickr.altInput.value),this.setMinMax(),this.setErrorMessages()},updateDefaultValue(){switch(this.selectedDateOption){case"Date":this.previewDate=this.$refs.defaultDate.value,this.$refs.previewDate._flatpickr.altInput.value=this.$refs.defaultDate._flatpickr.altInput.value,this.defaultValue=this.$refs.defaultDate.value,this.$refs.defaultDate.value<this.valMinDate&&""!=this.valMinDate&&(this.valMinDate=this.$refs.defaultDate.value,this.$refs.valMinDate._flatpickr.altInput.value=this.$refs.defaultDate._flatpickr.altInput.value),this.$refs.defaultDate.value>this.valMaxDate&&""!=this.valMaxDate&&(this.valMaxDate=this.$refs.defaultDate.value,this.$refs.valMaxDate._flatpickr.altInput.value=this.$refs.defaultDate._flatpickr.altInput.value),this.setMinMax();break;case"DateRange":this.previewDateRange=this.$refs.defaultDateRange.value,this.$refs.previewDateRange.value=this.$refs.defaultDateRange.value,this.defaultValue=this.$refs.defaultDateRange.value;break;case"DateRange2":""==this.defaultDateValue1&&(this.defaultDateValue1=this.defaultDateValue2,this.$refs.defaultDateRangev2_1._flatpickr.altInput.value=this.$refs.defaultDateRangev2_2._flatpickr.altInput.value),""==this.defaultDateValue2&&(this.defaultDateValue2=this.defaultDateValue1,this.$refs.defaultDateRangev2_2._flatpickr.altInput.value=this.$refs.defaultDateRangev2_1._flatpickr.altInput.value),this.defaultDateValue1>this.defaultDateValue2&&(this.defaultDateValue2=this.defaultDateValue1,this.$refs.defaultDateRangev2_2._flatpickr.altInput.value=this.$refs.defaultDateRangev2_1._flatpickr.altInput.value),(this.valMinDate>this.defaultDateValue1||""==this.valMinDate)&&(this.valMinDate=this.defaultDateValue1,this.$refs.valMinDate._flatpickr.altInput.value=this.$refs.defaultDateRangev2_1._flatpickr.altInput.value),(this.valMaxDate<this.defaultDateValue2||""==this.valMaxDate)&&(this.valMaxDate=this.defaultDateValue2,this.$refs.valMaxDate._flatpickr.altInput.value=this.$refs.defaultDateRangev2_2._flatpickr.altInput.value),this.setMinMax(),this.previewDateRange2Value1=this.defaultDateValue1,this.previewDateRange2Value2=this.defaultDateValue2,this.$refs.previewDateRange2Value1._flatpickr.altInput.value=this.$refs.defaultDateRangev2_1._flatpickr.altInput.value,this.$refs.previewDateRange2Value2._flatpickr.altInput.value=this.$refs.defaultDateRangev2_2._flatpickr.altInput.value,this.defaultValue=this.defaultDateValue1+" to "+this.defaultDateValue2,this.setErrorMessages();break;case"Time":this.previewTime=this.$refs.defaultTime.value,this.$refs.previewTime._flatpickr.altInput.value=this.$refs.defaultTime._flatpickr.altInput.value,this.defaultValue=this.$refs.defaultTime.value,this.$refs.valMinTime._flatpickr.set("maxTime",this.$refs.defaultTime.value),this.$refs.valMaxTime._flatpickr.set("minTime",this.$refs.defaultTime.value),this.$refs.defaultTime.value<this.valMinTime&&""!=this.valMinTime&&(this.valMinTime=this.$refs.defaultTime.value,this.$refs.valMinTime._flatpickr.altInput.value=this.$refs.defaultTime._flatpickr.altInput.value),this.$refs.defaultTime.value>this.valMaxTime&&""!=this.valMaxTime&&(this.valMaxTime=this.$refs.defaultTime.value,this.$refs.valMaxTime._flatpickr.altInput.value=this.$refs.defaultTime._flatpickr.altInput.value),this.setMinMax();break;case"TimeRange":""==this.defaultTimeRange1&&(this.defaultTimeRange1=this.defaultTimeRange2,this.$refs.defaultTimeRange1._flatpickr.altInput.value=this.$refs.defaultTimeRange2._flatpickr.altInput.value),""==this.defaultTimeRange2&&(this.defaultTimeRange2=this.defaultTimeRange1,this.$refs.defaultTimeRange2._flatpickr.altInput.value=this.$refs.defaultTimeRange1._flatpickr.altInput.value),this.defaultTimeRange1>this.defaultTimeRange2&&(this.defaultTimeRange2=this.defaultTimeRange1,this.$refs.defaultTimeRange2._flatpickr.altInput.value=this.$refs.defaultTimeRange1._flatpickr.altInput.value),this.$refs.valMinTime._flatpickr.set("maxTime",this.defaultTimeRange1),this.$refs.valMaxTime._flatpickr.set("minTime",this.defaultTimeRange2),this.$refs.defaultTimeRange1._flatpickr.set("maxTime",this.defaultTimeRange2),this.$refs.defaultTimeRange2._flatpickr.set("minTime",this.defaultTimeRange1),this.valMinTime>this.defaultTimeRange1&&(this.valMinTime=this.defaultTimeRange1,this.$refs.valMinTime._flatpickr.altInput.value=this.$refs.defaultTimeRange1._flatpickr.altInput.value),this.valMaxTime<this.defaultTimeRange2&&(this.valMaxTime=this.defaultTimeRange2,this.$refs.valMaxTime._flatpickr.altInput.value=this.$refs.defaultTimeRange2._flatpickr.altInput.value),this.previewTimeRangeValue1=this.defaultTimeRange1,this.previewTimeRangeValue2=this.defaultTimeRange2,this.$refs.previewTimeRangeValue1._flatpickr.altInput.value=this.$refs.defaultTimeRange1._flatpickr.altInput.value,this.$refs.previewTimeRangeValue2._flatpickr.altInput.value=this.$refs.defaultTimeRange2._flatpickr.altInput.value,this.defaultValue=this.defaultTimeRange1+" to "+this.defaultTimeRange2,this.setErrorMessages();break}},checkPreviewDate1(){""==this.previewDateRange2Value2&&(this.previewDateRange2Value2=this.previewDateRange2Value1,this.$refs.previewDateRange2Value2._flatpickr.altInput.value=this.$refs.previewDateRange2Value1._flatpickr.altInput.value),this.previewDateRange2Value1>this.previewDateRange2Value2&&(this.previewDateRange2Value1=this.previewDateRange2Value2,this.$refs.previewDateRange2Value1._flatpickr.altInput.value=this.$refs.previewDateRange2Value2._flatpickr.altInput.value),this.checkPreviewDate()},checkPreviewDate2(){""==this.previewDateRange2Value1&&(this.previewDateRange2Value1=this.previewDateRange2Value2,this.$refs.previewDateRange2Value1._flatpickr.altInput.value=this.$refs.previewDateRange2Value2._flatpickr.altInput.value),this.previewDateRange2Value2<this.previewDateRange2Value1&&(this.previewDateRange2Value2=this.previewDateRange2Value1,this.$refs.previewDateRange2Value2._flatpickr.altInput.value=this.$refs.previewDateRange2Value1._flatpickr.altInput.value),this.checkPreviewDate()},checkPreviewDate(){""!=this.valMaxDate&&this.previewDateRange2Value1>this.valMaxDate&&(this.$refs.previewDateRange2Value1._flatpickr.altInput.value=this.$refs.valMaxDate._flatpickr.altInput.value),""!=this.valMaxDate&&this.previewDateRange2Value2>this.valMaxDate&&(this.$refs.previewDateRange2Value2._flatpickr.altInput.value=this.$refs.valMaxDate._flatpickr.altInput.value),""!=this.valMinDate&&this.previewDateRange2Value1<this.valMinDate&&(this.$refs.previewDateRange2Value1._flatpickr.altInput.value=this.$refs.valMinDate._flatpickr.altInput.value),""!=this.valMinDate&&this.previewDateRange2Value2<this.valMinDate&&(this.$refs.previewDateRange2Value2._flatpickr.altInput.value=this.$refs.valMinDate._flatpickr.altInput.value)},checkPreviewTime1(){(this.previewTimeRangeValue1>this.previewTimeRangeValue2||""==this.previewTimeRangeValue2)&&(this.previewTimeRangeValue2=this.previewTimeRangeValue1),this.checkPreviewTime()},checkPreviewTime2(){(this.previewTimeRangeValue2<this.previewTimeRangeValue1||""==this.previewTimeRangeValue1)&&(this.previewTimeRangeValue1=this.previewTimeRangeValue2),this.checkPreviewTime()},checkPreviewTime(){this.previewTimeRangeValue1<this.valMinTime&&(this.$refs.previewTimeRangeValue1._flatpickr.altInput.value=this.$refs.minTime._flatpickr.altInput.value,this.previewTimeRangeValue1=this.valMinTime),this.previewTimeRangeValue2>this.valMaxTime&&(this.$refs.previewTimeRangeValue2._flatpickr.altInput.value=this.$refs.maxTime._flatpickr.altInput.value,this.previewTimeRangeValue2=this.valMaxTime)},updateDependency(e){this.dependency.parent=e},updateTarget(e){this.resetDefault(),this.dateOptionsFiltered=this.dateOptions.filter((function(t){return t.value==e.fieldType})),this.selectedDateOption=e.fieldType,this.target=e},setDefaults(){switch(this.selectedDateOption){case"Date":this.defaultDateValue1=this.defaultValue;break;case"DateRange":this.defaultDateValue1=this.defaultValue;break;case"DateRange2":var e=this.defaultValue.split(" to ");this.previewDateRange2Value1=e[0],this.previewDateRange2Value2=e[1],this.defaultDateValue1=e[0],this.defaultDateValue2=e[1];break;case"Time":this.defaultTime=this.defaultValue;break;case"TimeRange":var t=this.defaultValue.split(" to ");this.previewTimeRangeValue1=t[0],this.previewTimeRangeValue2=t[1],this.defaultTimeRange1=t[0],this.defaultTimeRange2=t[1];break;default:break}},resetDefault(){this.textBoxText="",this.previewDate="",this.previewDateTime="",this.previewTime="",this.previewDateRange="",this.previewDateRange2Value1="",this.previewDateRange2Value2="",this.previewDateTimeRange="",this.previewTimeRangeValue1="",this.previewTimeRangeValue2="",this.valMinDate="",this.valMaxDate="",this.valMinTime="",this.valMaxTime="",this.defaultValue="",this.defaultDateValue1="",this.defaultDateValue2="",this.defaultTimeRange1="",this.defaultTimeRange2="",this.defaultRangeValue="",this.$refs.previewTimeRangeValue1._flatpickr.altInput.value="",this.$refs.previewTimeRangeValue2._flatpickr.altInput.value="",this.$refs.defaultDateRange._flatpickr.altInput.value="",this.$refs.defaultDateRangev2_1._flatpickr.altInput.value="",this.$refs.defaultDateRangev2_2._flatpickr.altInput.value="",this.$refs.defaultTimeRange1._flatpickr.altInput.value="",this.$refs.defaultTimeRange2._flatpickr.altInput.value="",this.$refs.valMinDate._flatpickr.altInput.value="",this.$refs.valMaxDate._flatpickr.altInput.value="",this.$refs.valMinTime._flatpickr.altInput.value="",this.$refs.valMaxTime._flatpickr.altInput.value="",this.$refs.defaultDate._flatpickr.altInput.value="",this.valMinDateError="Date too early",this.valMaxDateError="Date too late",this.valMinTimeError="Time too early",this.valMaxTimeError="Time too late"},setErrorMessages(){switch(this.selectedDateOption){case"Date":this.valMinDateError="Date must be on or after "+this.$refs.valMinDate._flatpickr.altInput.value,this.valMaxDateError="Date must be on or before "+this.$refs.valMaxDate._flatpickr.altInput.value;break;case"DateRange":this.valMinTimeError="Date must be between "+this.$refs.valMinDate._flatpickr.altInput.value+" & "+this.$refs.valMaxDate._flatpickr.altInput.value,this.valMaxDateError="Date must be between "+this.$refs.valMinDate._flatpickr.altInput.value+" & "+this.$refs.valMaxDate._flatpickr.altInput.value;break;case"DateRange2":this.valMinDateError="Date must be between "+this.$refs.valMinDate._flatpickr.altInput.value+" & "+this.$refs.valMaxDate._flatpickr.altInput.value,this.valMaxDateError="Date must be between "+this.$refs.valMinDate._flatpickr.altInput.value+" & "+this.$refs.valMaxDate._flatpickr.altInput.value;break;case"Time":this.valMinTimeError="Time must be on or after "+this.$refs.valMinTime._flatpickr.altInput.value,this.valMaxTimeError="Time must be on or before "+this.$refs.valMaxTime._flatpickr.altInput.value;break;case"TimeRange":this.valMinTimeError="Time must be between "+this.$refs.valMinTime._flatpickr.altInput.value+" & "+this.$refs.valMaxTime._flatpickr.altInput.value,this.valMaxTimeError="Time must be between "+this.$refs.valMinTime._flatpickr.altInput.value+" & "+this.$refs.valMaxTime._flatpickr.altInput.value;break;default:break}},checkMinErrorMessge(e){""==e&&(this.valMinDateError="Date too early")},checkMaxErrorMessge(e){""==e&&(this.valMaxDateError="Date too late")},checkMinTimeErrorMessge(e){""==e&&(this.valMinTimeError="Time too early")},checkMaxTimeErrorMessge(e){""==e&&(this.valMaxTimeError="Time too late")},checkDefaultValue(e){const t=e.srcElement.value;null!=this.valMinDate&&t<this.valMinDate&&(this.valMinDate=t),null!=this.valMaxDate&&t>this.valMaxDate&&(this.valMaxDate=t),this.previewDate=t,this.setErrorMessages()},clearDefault(){this.defaultDate="",this.defaultDateValue1="",this.defaultDateValue2="",this.defaultTimeRange1="",this.defaultTimeRange2="",this.defaultRangeValue="",this.previewDateRange2Value1="",this.previewDateRange2Value2="",this.$refs.defaultDate._flatpickr.altInput.value="",this.$refs.previewDateRange2Value1._flatpickr.altInput.value="",this.$refs.previewDateRange2Value2._flatpickr.altInput.value="",this.$refs.defaultDateRangev2_1._flatpickr.altInput.value="",this.$refs.defaultDateRangev2_2._flatpickr.altInput.value="",this.$refs.defaultTimeRange1._flatpickr.altInput.value="",this.$refs.defaultTimeRange2._flatpickr.altInput.value="",this.defaultValue=""},closeElement(){this.$emit("closeTool",this.formItem.toolItemID,this.formItem.toolDetails.toolStatus)},saveElement(){if(this.validate()){this.message="",this.formItem.toolDetails.title=this.textBoxText,this.formItem.toolDetails.toolTipText=this.toolTipText,void 0!==this.dependency.parent&&(""===this.dependency.parent.parentField?delete this.formItem.toolDetails.parent:this.formItem.toolDetails.parent=this.dependency.parent);var e={};switch(this.selectedDateOption){case"Date":case"DateRange":case"DateRange2":e={minDateTime:this.valMinDate,maxDateTime:this.valMaxDate,minDateTimeError:this.valMinDateError,maxDateTimeError:this.valMaxDateError};break;case"Time":case"TimeRange":e={minDateTime:this.valMinTime,maxDateTime:this.valMaxTime,minDateTimeError:this.valMinTimeError,maxDateTimeError:this.valMaxTimeError};break}this.formItem.toolDetails.validation=e,this.formItem.toolDetails.dateOptions=this.selectedDateOption,this.formItem.toolDetails.target=this.target,this.formItem.toolDetails.toolStatus=this.toolStatus,this.formItem.toolDetails.default=this.defaultValue,this.$emit("saveElement",this.formItem)}},validate(){var e=!0;return this.toolStatus=!1,this.textBoxTextError=!1,this.targetSelectError=!1,void 0!=this.textBoxText&&""!=this.textBoxText||(this.textBoxTextError=!0,e=!1),void 0==this.target.targetField&&(this.targetSelectError=!0,e=!1),0==this.$refs.dependencyRef.validate()&&(e=!1),0!=e&&(this.toolStatus=!0,!0)}}};const Rs=(0,_.Z)(Ms,[["render",As]]);var $s=Rs;const Ls={class:"backdrop"},Us={class:"form_modal"},Os={class:"form_header"},Bs={class:"form_body"},Ws={class:"form_section"},Ps={class:"form_preview_heading"},Ns={class:"form_preview_detail"},qs={key:0},Ys={key:1},Hs={class:"form_section"},Zs={class:"form_section_heading"},js={class:"form_section_detail"},Qs=["for"],Gs={class:"form_section_detail"},Ks=["for"],Js={class:"form_section"},Xs={class:"form_section_heading"},en={class:"form_section_detail"},tn={class:"flex_container"},on={class:"flex_item"},ln={class:"flex_item"},an={class:"form_footer"};function sn(e,t,o,a,n,r){const m=(0,l.up)("TargetField"),d=(0,l.up)("b-form-input"),u=(0,l.up)("Dependency"),c=(0,l.up)("b-button");return(0,l.wg)(),(0,l.iD)("div",Ls,[(0,l._)("div",Us,[(0,l._)("div",Os,(0,s.zw)(e.$t("tools.yes_no")),1),(0,l._)("div",Bs,[(0,l._)("div",Ws,[(0,l._)("div",Ps,(0,s.zw)(e.$t("tools.preview")),1),(0,l._)("div",Ns,[n.textBoxText?((0,l.wg)(),(0,l.iD)("div",qs,[(0,l.Uk)((0,s.zw)(n.textBoxText)+" ",1),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.booleanPreview=e),type:"checkbox",class:"checkbox_tool",onClick:t[1]||(t[1]=(...e)=>r.updateBooleanPreview&&r.updateBooleanPreview(...e))},null,512),[[i.e8,n.booleanPreview]]),(0,l.Uk)(" "+(0,s.zw)(n.booleanCheckedShowText?n.booleanPreviewResult:""),1)])):((0,l.wg)(),(0,l.iD)("div",Ys,[(0,l.Uk)((0,s.zw)(e.$t("tools.label"))+" ",1),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.booleanPreview=e),type:"checkbox",class:"checkbox_tool",onClick:t[3]||(t[3]=(...e)=>r.updateBooleanPreview&&r.updateBooleanPreview(...e))},null,512),[[i.e8,n.booleanPreview]]),(0,l.Uk)(" "+(0,s.zw)(n.booleanCheckedShowText?n.booleanPreviewResult:""),1)]))])]),(0,l.Wm)(m,{target:n.target,formItem:e.formItem,formItems:o.formItems,targetSelectError:n.targetSelectError,onUpdateTarget:r.updateTarget,ref:"tagretRef"},null,8,["target","formItem","formItems","targetSelectError","onUpdateTarget"]),(0,l.wy)((0,l._)("div",Hs,[(0,l._)("div",Zs,(0,s.zw)(e.$t("tools.label")),1),(0,l._)("div",js,[(0,l._)("label",{for:e.formItem.toolDetails.title},(0,s.zw)(e.$t("tools.label_text")),9,Qs),(0,l.Wm)(d,{modelValue:n.textBoxText,"onUpdate:modelValue":t[4]||(t[4]=e=>n.textBoxText=e),placeholder:e.$t("place_holders.label_text"),class:(0,s.C_)({"input-error":n.textBoxTextError})},null,8,["modelValue","placeholder","class"])]),(0,l._)("div",Gs,[(0,l._)("label",{for:e.formItem.toolDetails.title},(0,s.zw)(e.$t("tools.tool_tip")),9,Ks),(0,l.Wm)(d,{modelValue:n.toolTipText,"onUpdate:modelValue":t[5]||(t[5]=e=>n.toolTipText=e),placeholder:e.$t("place_holders.tool_tip")},null,8,["modelValue","placeholder"])])],512),[[i.F8,""!=n.target.targetField]]),(0,l.wy)((0,l._)("div",Js,[(0,l._)("div",Xs,(0,s.zw)(e.$t("general.default_value")),1),(0,l._)("div",en,[(0,l._)("div",tn,[(0,l._)("div",on,[(0,l.Uk)((0,s.zw)(e.$t("general.default_value"))+" ",1),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>n.booleanCheckedDefault=e),type:"checkbox",class:"checkbox_tool",onClick:t[7]||(t[7]=e=>r.updateBooleanDefault(e))},null,512),[[i.e8,n.booleanCheckedDefault]]),(0,l.Uk)(" "+(0,s.zw)(n.booleanCheckedShowText?n.booleanResult:""),1)]),(0,l._)("div",ln,[(0,l.Uk)((0,s.zw)(e.$t("tools.required_display_text"))+" ",1),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>n.booleanCheckedShowText=e),type:"checkbox",class:"checkbox_tool",onClick:t[9]||(t[9]=e=>r.updateBooleanShowChoice(e))},null,512),[[i.e8,n.booleanCheckedShowText]])])])])],512),[[i.F8,""!=n.target.targetField]]),(0,l.wy)((0,l.Wm)(u,{dependency:n.dependency,formItem:e.formItem,formItems:o.formItems,formSettings:o.formSettings,onUpdateDependency:r.updateDependency,ref:"dependencyRef"},null,8,["dependency","formItem","formItems","formSettings","onUpdateDependency"]),[[i.F8,""!=n.target.targetField]])]),(0,l._)("div",an,[(0,l.Wm)(c,{class:"form_button",onClick:t[10]||(t[10]=e=>r.closeElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.cancel")),1)])),_:1}),(0,l.Wm)(c,{class:"form_button",onClick:t[11]||(t[11]=e=>r.saveElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.save")),1)])),_:1}),(0,l._)("div",null,(0,s.zw)(n.message),1)])])])}var nn={name:"BooleanTool",components:{Dependency:Po,TargetField:zl},emits:["dependency","target","saveElement","closeTool"],props:["formItemToEdit","formItems","formSettings"],data(){return{toolList:[{value:"",text:"Please select ..."}],allRows:{},toolListToView:!1,rowItem:this.rowToEdit,dependencyRef:(0,Uo.iH)(),tagretRef:(0,Uo.iH)(),dependency:{},target:{targetField:""},booleanChecked:!1,booleanCheckedDefault:!1,booleanCheckedShowText:!1,booleanResult:"No",textBoxText:"",toolTipText:"",message:"",toolStatus:null,textBoxTextError:!1,targetSelectError:!1,booleanPreview:!1,booleanPreviewResult:"No"}},created(){this.formItems.forEach((e=>{e.columnDetails.forEach((e=>{e.cellDetails.toolItemID==this.formItemToEdit&&(this.formItem=e.cellDetails)}))})),this.textBoxText=this.formItem.toolDetails.title,this.formItem.toolDetails.showText&&(this.toolTipText=this.formItem.toolDetails.toolTipText),this.formItem.toolDetails.showText&&(this.booleanCheckedShowText=this.formItem.toolDetails.showText),this.formItem.toolDetails.parent&&(this.dependency.parent=this.formItem.toolDetails.parent),this.formItem.toolDetails.target&&(this.target=this.formItem.toolDetails.target),this.formItem.toolDetails.toolStatus&&(this.toolStatus=this.formItem.toolDetails.toolStatus),this.formItem.toolDetails.default&&(this.booleanCheckedDefault=this.formItem.toolDetails.default),1==this.booleanCheckedDefault&&(this.booleanResult="Yes",this.booleanChecked=!0,this.booleanPreview=!0,this.booleanPreviewResult="No")},methods:{updateDependency(e){this.dependency.parent=e},updateBoolean(e){console.log(e),0==this.booleanChecked?this.booleanResult="Yes":this.booleanResult="No"},updateBooleanDefault(){0==this.booleanCheckedDefault?(this.booleanResult="Yes",this.booleanChecked=!0,this.booleanPreview=!0,this.booleanPreviewResult="Yes"):(this.booleanResult="No",this.booleanChecked=!1,this.booleanPreview=!1,this.booleanPreviewResult="No")},updateBooleanShowChoice(){},updateBooleanPreview(){0==this.booleanPreview?this.booleanPreviewResult="Yes":this.booleanPreviewResult="No"},updateTarget(e){this.target=e},closeElement(){this.$emit("closeTool",this.formItem.toolItemID,this.formItem.toolDetails.toolStatus)},saveElement(){this.validate()&&(this.message="",this.formItem.toolDetails.title=this.textBoxText,this.formItem.toolDetails.showText=this.booleanCheckedShowText,this.formItem.toolDetails.toolTipText=this.toolTipText,this.formItem.toolDetails.default=this.booleanCheckedDefault,void 0!==this.dependency.parent&&(""===this.dependency.parent.parentField?delete this.formItem.toolDetails.parent:this.formItem.toolDetails.parent=this.dependency.parent),this.formItem.toolDetails.target=this.target,this.formItem.toolDetails.toolStatus=this.toolStatus,this.$emit("saveElement",this.formItem))},validate(){this.toolStatus=!1;var e=!0;return void 0!=this.textBoxText&&""!=this.textBoxText||(this.textBoxTextError=!0,e=!1),void 0==this.target.targetField&&(this.targetSelectError=!0,e=!1),0==this.$refs.dependencyRef.validate()&&(e=!1),0!=e&&(this.toolStatus=!0,!0)}}};const rn=(0,_.Z)(nn,[["render",sn],["__scopeId","data-v-719d3d38"]]);var mn=rn;const dn={class:"backdrop"},un={class:"form_modal"},cn={class:"form_header"},hn={class:"form_body"},fn={class:"form_section"},pn={class:"form_preview_heading"},gn={class:"form_preview_detail"},vn={key:0},_n={key:1},Dn={class:"form_section"},wn={class:"form_section_heading"},bn={class:"form_section_detail"},Tn=["for"],xn={class:"form_section_detail"},In=["for"],kn={class:"form_section"},Cn={class:"form_section_heading"},yn={class:"form_section_detail"},En={class:"flex_container"},Fn={class:"flex_item"},Vn=["for"],zn={class:"flex_item"},Sn=["for"],An={class:"form_footer"};function Mn(e,t,o,a,n,r){const m=(0,l.up)("b-form-textarea"),d=(0,l.up)("b-form-input"),u=(0,l.up)("TargetField"),c=(0,l.up)("Dependency"),h=(0,l.up)("b-button");return(0,l.wg)(),(0,l.iD)("div",dn,[(0,l._)("div",un,[(0,l._)("div",cn,(0,s.zw)(e.$t("tools.text_area")),1),(0,l._)("div",hn,[(0,l._)("div",fn,[(0,l._)("div",pn,(0,s.zw)(e.$t("tools.preview")),1),(0,l._)("div",gn,[n.textAreaText?((0,l.wg)(),(0,l.iD)("div",vn,(0,s.zw)(n.textAreaText),1)):((0,l.wg)(),(0,l.iD)("div",_n,(0,s.zw)(e.$t("tools.label")),1)),(0,l.Wm)(m,{disabled:!0})])]),(0,l.wy)((0,l._)("div",Dn,[(0,l._)("div",wn,(0,s.zw)(e.$t("tools.label")),1),(0,l._)("div",bn,[(0,l._)("label",{for:n.formItem.toolDetails.title},(0,s.zw)(e.$t("tools.label_text")),9,Tn),(0,l.Wm)(d,{modelValue:n.textAreaText,"onUpdate:modelValue":t[0]||(t[0]=e=>n.textAreaText=e),placeholder:e.$t("place_holders.heading_text"),class:(0,s.C_)({"input-error":n.textAreaTextError})},null,8,["modelValue","placeholder","class"])]),(0,l._)("div",xn,[(0,l._)("label",{for:n.formItem.toolDetails.title},(0,s.zw)(e.$t("tools.tool_tip")),9,In),(0,l.Wm)(d,{modelValue:n.toolTipText,"onUpdate:modelValue":t[1]||(t[1]=e=>n.toolTipText=e),placeholder:e.$t("place_holders.tool_tip")},null,8,["modelValue","placeholder"])])],512),[[i.F8,""!=n.target.targetField]]),(0,l.Wm)(u,{target:n.target,formItem:n.formItem,formItems:o.formItems,targetSelectError:n.targetSelectError,onUpdateTarget:r.updateTarget,ref:"tagretRef"},null,8,["target","formItem","formItems","targetSelectError","onUpdateTarget"]),(0,l.wy)((0,l._)("div",kn,[(0,l._)("div",Cn,(0,s.zw)(e.$t("general.default_value")),1),(0,l._)("div",yn,[(0,l._)("div",En,[(0,l._)("div",Fn,[(0,l._)("label",{for:n.noOfRows},"Number of rows",8,Vn),(0,l.Wm)(d,{modelValue:n.noOfRows,"onUpdate:modelValue":t[2]||(t[2]=e=>n.noOfRows=e),type:"number",class:"number_centre",min:"1",max:"10"},null,8,["modelValue"])]),(0,l._)("div",zn,[(0,l._)("label",{for:n.defaultValue},(0,s.zw)(e.$t("general.default_value")),9,Sn),(0,l.Wm)(d,{modelValue:n.defaultValue,"onUpdate:modelValue":t[3]||(t[3]=e=>n.defaultValue=e),type:"text",onInput:t[4]||(t[4]=e=>r.checkDefaultValue())},null,8,["modelValue"])])])])],512),[[i.F8,""!=n.target.targetField]]),(0,l.wy)((0,l.Wm)(c,{dependency:n.dependency,formItem:n.formItem,formItems:o.formItems,onUpdateDependency:r.updateDependency,ref:"dependencyRef"},null,8,["dependency","formItem","formItems","onUpdateDependency"]),[[i.F8,""!=n.target.targetField]])]),(0,l._)("div",An,[(0,l.Wm)(h,{class:"form_button",onClick:t[5]||(t[5]=e=>r.closeElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.cancel")),1)])),_:1}),(0,l.Wm)(h,{class:"form_button",onClick:t[6]||(t[6]=e=>r.saveElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.save")),1)])),_:1})])])])}var Rn={name:"HeadingTool",components:{Dependency:Po,TargetField:zl},props:["formItemToEdit","formItems","closeTool"],data(){return{headingText:"",formItem:{},dependencyRef:(0,Uo.iH)(),tagretRef:(0,Uo.iH)(),dependency:{},target:{targetField:""},noOfRows:3,message:"",textAreaText:"",toolTipText:"",textAreaTextError:!1,targetSelectError:!1,toolStatus:!1,defaultValue:""}},created(){this.formItems.forEach((e=>{e.columnDetails.forEach((e=>{e.cellDetails.toolItemID==this.formItemToEdit&&(this.formItem=e.cellDetails)}))})),this.textAreaText=this.formItem.toolDetails.title,this.formItem.toolDetails.toolTipText&&(this.toolTipText=this.formItem.toolDetails.toolTipText),this.formItem.toolDetails.parent&&(this.dependency.parent=this.formItem.toolDetails.parent),this.formItem.toolDetails.target&&(this.target=this.formItem.toolDetails.target),this.formItem.toolDetails.toolStatus&&(this.toolStatus=this.formItem.toolDetails.toolStatus)},methods:{checkDefaultValue(){},updateDependency(e){this.dependency.parent=e},updateTarget(e){this.target=e},closeElement(){this.rowItem=this.rowToEdit,this.$emit("closeTool",this.formItem.toolItemID,this.formItem.toolDetails.toolStatus)},saveElement(){if(this.validate()){this.message="",this.formItem.toolDetails.title=this.textAreaText,this.formItem.toolDetails.toolTipText=this.toolTipText,void 0!==this.dependency.parent&&(""===this.dependency.parent.parentField?delete this.formItem.toolDetails.parent:this.formItem.toolDetails.parent=this.dependency.parent);var e={};this.formItem.toolDetails.validation=e,this.formItem.toolDetails.target=this.target,this.formItem.toolDetails.toolStatus=this.toolStatus,this.formItem.toolDetails.default=this.defaultValue,this.formItem.toolDetails.noOfRows=this.noOfRows,this.$emit("saveElement",this.formItem)}},validate(){var e=!0;return this.toolStatus=!1,this.textAreaTextError=!1,this.targetSelectError=!1,void 0!=this.textAreaText&&""!=this.textAreaText||(this.textAreaTextError=!0,e=!1),void 0==this.target.targetField&&(this.targetSelectError=!0,e=!1),0==this.$refs.dependencyRef.validate()&&(e=!1),0!=e&&(this.toolStatus=!0,!0)}}};const $n=(0,_.Z)(Rn,[["render",Mn]]);var Ln=$n;const Un={class:"backdrop"},On={class:"form_modal"},Bn={class:"form_header"},Wn={class:"form_body"},Pn={class:"form_section"},Nn={class:"form_section_heading"},qn={class:"form_section_detail"},Yn={key:0},Hn={key:1},Zn={class:"form_section"},jn={class:"form_section_heading"},Qn={class:"form_section_detail"},Gn=["for"],Kn={class:"form_section_detail"},Jn=["for"],Xn={key:0,class:"form_section"},er={class:"form_section_heading"},tr={class:"form_section_detail"},or={class:"flex_container"},ir={class:"flex_item"},lr=["for"],ar={class:"flex_item"},sr=["for"],nr=(0,l._)("br",null,null,-1),rr={class:"flex_container"},mr={class:"flex_item"},dr=["for"],ur=(0,l._)("br",null,null,-1),cr={class:"flex_item"},hr=["for"],fr=(0,l._)("br",null,null,-1),pr={class:"flex_container"},gr={class:"flex_item"},vr=["for"],_r={class:"flex_item"},Dr=["for"],wr=(0,l._)("br",null,null,-1),br={class:"form_section"},Tr={class:"form_section_heading"},xr={class:"form_section_detail"},Ir=["for"],kr={class:"form_footer"};function Cr(e,t,o,i,a,n){const r=(0,l.up)("TargetField"),m=(0,l.up)("b-form-input"),d=(0,l.up)("Dependency"),u=(0,l.up)("b-button");return(0,l.wg)(),(0,l.iD)("div",Un,[(0,l._)("div",On,[(0,l._)("div",Bn,(0,s.zw)(e.$t("tools.check_list")),1),(0,l._)("div",Wn,[(0,l.Wm)(r,{target:a.target,formItem:a.formItem,formItems:o.formItems,targetSelectError:a.targetSelectError,onUpdateTarget:n.updateTarget,ref:"tagretRef"},null,8,["target","formItem","formItems","targetSelectError","onUpdateTarget"]),(0,l._)("div",Pn,[(0,l._)("div",Nn,(0,s.zw)(e.$t("tools.preview")),1),(0,l._)("div",qn,[a.inputFieldText?((0,l.wg)(),(0,l.iD)("div",Yn,(0,s.zw)(a.inputFieldText),1)):((0,l.wg)(),(0,l.iD)("div",Hn,(0,s.zw)(e.$t("tools.label")),1)),(0,l.Wm)(m,{disabled:!0})])]),(0,l._)("div",Zn,[(0,l._)("div",jn,(0,s.zw)(e.$t("tools.label")),1),(0,l._)("div",Qn,[(0,l._)("label",{for:a.formItem.toolDetails.title},(0,s.zw)(e.$t("tools.label_text")),9,Gn),(0,l.Wm)(m,{modelValue:a.inputFieldText,"onUpdate:modelValue":t[0]||(t[0]=e=>a.inputFieldText=e),placeholder:e.$t("place_holders.label_text"),class:(0,s.C_)({"input-error":a.inputFieldTextError})},null,8,["modelValue","placeholder","class"])]),(0,l._)("div",Kn,[(0,l._)("label",{for:a.formItem.toolDetails.title},(0,s.zw)(e.$t("tools.tool_tip")),9,Jn),(0,l.Wm)(m,{modelValue:a.toolTipText,"onUpdate:modelValue":t[1]||(t[1]=e=>a.toolTipText=e),placeholder:e.$t("place_holders.tool_tip")},null,8,["modelValue","placeholder"])])]),"Y"==a.target.required?((0,l.wg)(),(0,l.iD)("div",Xn,[(0,l._)("div",er,(0,s.zw)(e.$t("tools.validation")),1),(0,l._)("div",tr,[(0,l._)("div",or,[(0,l._)("div",ir,[(0,l._)("label",{for:a.minLength},(0,s.zw)(e.$t("tools.min_length")),9,lr),(0,l.Wm)(m,{modelValue:a.minLength,"onUpdate:modelValue":t[2]||(t[2]=e=>a.minLength=e),type:"number",min:"1",max:"255",onInput:t[3]||(t[3]=t=>e.checkRangeMin())},null,8,["modelValue"])]),(0,l._)("div",ar,[(0,l._)("label",{for:a.minLength},(0,s.zw)(e.$t("tools.error_message")),9,sr),nr,(0,l.Wm)(m,{modelValue:a.minLengthError,"onUpdate:modelValue":t[4]||(t[4]=e=>a.minLengthError=e),type:"text"},null,8,["modelValue"])])]),(0,l._)("div",rr,[(0,l._)("div",mr,[(0,l._)("label",{for:a.minLength},(0,s.zw)(e.$t("tools.max_length")),9,dr),ur,(0,l.Wm)(m,{modelValue:a.maxLength,"onUpdate:modelValue":t[5]||(t[5]=e=>a.maxLength=e),type:"number",class:"number_centre",min:"1",max:"255",onInput:t[6]||(t[6]=t=>e.checkRangeMax())},null,8,["modelValue"])]),(0,l._)("div",cr,[(0,l._)("label",{for:a.minLength},(0,s.zw)(e.$t("tools.error_message")),9,hr),fr,(0,l.Wm)(m,{modelValue:a.maxLengthError,"onUpdate:modelValue":t[7]||(t[7]=e=>a.maxLengthError=e),type:"text"},null,8,["modelValue"])])]),(0,l._)("div",pr,[(0,l._)("div",gr,[(0,l._)("label",{for:a.minLength},(0,s.zw)(e.$t("tools.custom_format")),9,vr),(0,l.Wm)(m,{modelValue:a.textFormat,"onUpdate:modelValue":t[8]||(t[8]=e=>a.textFormat=e),type:"text",value:"",disabled:""},null,8,["modelValue"])]),(0,l._)("div",_r,[(0,l._)("label",{for:a.minLength},(0,s.zw)(e.$t("tools.error_message")),9,Dr),wr,(0,l.Wm)(m,{modelValue:a.textFormatError,"onUpdate:modelValue":t[9]||(t[9]=e=>a.textFormatError=e),type:"text",disabled:""},null,8,["modelValue"])])])])])):(0,l.kq)("",!0),(0,l._)("div",br,[(0,l._)("div",Tr,(0,s.zw)(e.$t("general.default_value")),1),(0,l._)("div",xr,[(0,l._)("div",null,[(0,l._)("label",{for:a.defaultValue},(0,s.zw)(e.$t("general.default_value")),9,Ir),(0,l.Wm)(m,{modelValue:a.defaultValue,"onUpdate:modelValue":t[10]||(t[10]=e=>a.defaultValue=e),type:"text",onInput:t[11]||(t[11]=t=>e.checkDefaultValue())},null,8,["modelValue"])])])]),(0,l.Wm)(d,{dependency:a.dependency,formItem:a.formItem,formItems:o.formItems,formSettings:o.formSettings,onUpdateDependency:n.updateDependency,ref:"dependencyRef"},null,8,["dependency","formItem","formItems","formSettings","onUpdateDependency"])]),(0,l._)("div",kr,[(0,l.Wm)(u,{class:"form_button",onClick:t[12]||(t[12]=e=>n.closeElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.cancel")),1)])),_:1}),(0,l.Wm)(u,{class:"form_button",onClick:t[13]||(t[13]=e=>n.saveElement())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.save")),1)])),_:1}),(0,l._)("div",null,(0,s.zw)(a.message),1)])])])}var yr={name:"InputFieldTool",components:{Dependency:Po,TargetField:zl},emits:["dependency","target","saveElement","closeTool"],props:["formItemToEdit","formItems","formSettings"],data(){return{rowItem:this.rowToEdit,formItem:{},dependencyRef:(0,Uo.iH)(),tagretRef:(0,Uo.iH)(),dependency:{},target:{},message:"",inputFieldText:"",toolStatus:null,defaultValue:"",toolTipText:"",minLength:1,maxLength:50,minLengthError:"Too short",maxLengthError:"Too long",textFormat:"This feature coming soon ....",textFormatError:"Invalid format",inputFieldTextError:!1,targetSelectError:!1}},created(){this.formItems.forEach((e=>{e.columnDetails.forEach((e=>{e.cellDetails.toolItemID==this.formItemToEdit&&(this.formItem=e.cellDetails)}))})),this.inputFieldText=this.formItem.toolDetails.title,this.formItem.toolDetails.toolTipText&&(this.toolTipText=this.formItem.toolDetails.toolTipText),this.formItem.toolDetails.parent&&(this.dependency.parent=this.formItem.toolDetails.parent),this.formItem.toolDetails.target&&(this.target=this.formItem.toolDetails.target),this.formItem.toolDetails.default&&(this.defaultValue=this.formItem.toolDetails.default),this.formItem.toolDetails.validation,this.formItem.toolDetails.toolStatus&&(this.toolStatus=this.formItem.toolDetails.toolStatus)},methods:{updateDependency(e){this.dependency.parent=e},updateTarget(e){e.defaultValue?this.defaultValue=e.defaultValue:this.defaultValue="",this.target=e},closeElement(){this.rowItem=this.rowToEdit,this.$emit("closeTool",this.formItem.toolItemID,this.formItem.toolDetails.toolStatus)},saveElement(){if(this.validate()){this.message="",this.formItem.toolDetails.title=this.inputFieldText,this.formItem.toolDetails.toolTipText=this.toolTipText,void 0!==this.dependency.parent&&(""===this.dependency.parent.parentField?delete this.formItem.toolDetails.parent:this.formItem.toolDetails.parent=this.dependency.parent);var e={minLength:this.minLength};this.formItem.toolDetails.validation=e,this.formItem.toolDetails.target=this.target,this.formItem.toolDetails.toolStatus=this.toolStatus,this.formItem.toolDetails.default=this.defaultValue,this.$emit("saveElement",this.formItem)}},validate(){var e=!0;return this.toolStatus=!1,this.inputFieldTextError=!1,this.targetSelectError=!1,void 0!=this.inputFieldText&&""!=this.inputFieldText||(this.inputFieldTextError=!0,e=!1),void 0==this.target.targetField&&(this.targetSelectError=!0,e=!1),0==this.$refs.dependencyRef.validate()&&(e=!1),0!=e&&(this.toolStatus=!0,!0)}}};const Er=(0,_.Z)(yr,[["render",Cr]]);var Fr=Er;const Vr=e=>((0,l.dD)("data-v-81250938"),e=e(),(0,l.Cn)(),e),zr={class:"backdrop"},Sr={class:"form_modal"},Ar=Vr((()=>(0,l._)("div",{class:"form_header"},"Field Mappings",-1))),Mr={class:"form_body"},Rr={class:"field_mapping_table"},$r={class:"form_footer"};function Lr(e,t,o,i,a,n){const r=(0,l.up)("b-table"),m=(0,l.up)("b-button");return(0,l.wg)(),(0,l.iD)("div",zr,[(0,l._)("div",Sr,[Ar,(0,l._)("div",Mr,[(0,l._)("div",Rr,[(0,l.Wm)(r,{striped:"",hover:"",items:a.formFields,fields:a.fields,responsive:"sm","sort-icon-left":""},{"head(fieldName)":(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)(e.$t(t.label)),1)])),"head(fieldType)":(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)(e.$t(t.label)),1)])),"head(FieldSourceRecord)":(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)(e.$t(t.label)),1)])),"head(default_value)":(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)(e.$t(t.label)),1)])),"head(formDefaultValue)":(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)(e.$t(t.label)),1)])),"head(saveToCM)":(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)(e.$t(t.label)),1)])),"head(saveToLms)":(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)(e.$t(t.label)),1)])),"head(savedToCrm)":(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)(e.$t(t.label)),1)])),"cell(savedToCrm)":(0,l.w5)((({item:e})=>[(0,l._)("span",{class:(0,s.C_)({text_red:"Invalid field name"==e.savedToCrm})},(0,s.zw)(e.savedToCrm),3)])),_:1},8,["items","fields"])])]),(0,l._)("div",$r,[(0,l.Wm)(m,{class:"form_button",onClick:t[0]||(t[0]=e=>n.closeElement())},{default:(0,l.w5)((()=>[(0,l.Uk)("Close")])),_:1})])])])}var Ur={name:"Preview",components:{},props:["formID","formName","formSettings","fullForm","formStatus","formEnabled"],data(){return{formFields:[],fields:[{key:"fieldName",label:"table_heading.field_name",sortable:!0,thClass:"alignleft",tdClass:"alignleft"},{key:"fieldType",label:"table_heading.field_type",sortable:!0,thClass:"alignleft",tdClass:"alignleft"},{key:"FieldSourceRecord",label:"table_heading.field_form_source",sortable:!0,thClass:"alignleft",tdClass:"alignleft"},{key:"default_value",label:"table_heading.field_default_value",sortable:!0,thClass:"alignleft",tdClass:"alignleft"},{key:"formDefaultValue",label:"table_heading.field_form_default_value",sortable:!0,thClass:"alignleft",tdClass:"alignleft"},{key:"saveToCM",label:"table_heading.field_form_cm_target",sortable:!0,thClass:"alignleft",tdClass:"alignleft"},{key:"saveToLms",label:"table_heading.field_form_lms_target",sortable:!0,thClass:"alignleft",tdClass:"alignleft"},{key:"savedToCrm",label:"table_heading.field_form_crm_target",sortable:!0,thClass:"alignleft",tdClass:"alignleft"}],mappings:null,url:"https://crm-forms.staging.cm-hosting.com/api/rest.php",headers:{"Content-Type":"application/json"},postdata:{module:"forms",details:{}}}},created(){this.fullForm.forEach((e=>{e.columnDetails.forEach((e=>{e.cellDetails.toolDetails&&e.cellDetails.toolDetails.target&&(this.postdata.action="field_by_name",this.postdata.details={fieldName:e.cellDetails.toolDetails.target.targetField},I.Z.post(this.url,this.postdata,this.headers).then((t=>{t.data.forEach((t=>{var o=!1;o="CM_"==t.FieldTargetRecord.substring(0,3)&&t.FieldTargetField,0==o&&(o="CM_"==t.FieldCopyRecord.substring(0,3)?t.FieldCopyField:"---"),t.saveToCM=o;var i=!1;i="LMS_"==t.FieldTargetRecord.substring(0,4)?t.FieldTargetRecord+"::"+t.FieldTargetField:"---",t.saveToLms=i,t.formDefaultValue=e.cellDetails.toolDetails.default,""!=t.FieldSourceRecord&&(t.FieldSourceRecord=t.FieldSourceRecord+"::"+t.FieldSourceField),this.formFields.push(t)}))})))}))})),this.loading=!1},methods:{closeContinue(e){this.showConfirmContinue=!1,"Y"==e&&this.publishFormConfirmed()},updateLMS(e){console.log(e)},updateCRM(e){console.log(e)},closeElement(){this.$emit("closeModal")}}};const Or=(0,_.Z)(Ur,[["render",Lr],["__scopeId","data-v-81250938"]]);var Br=Or;const Wr=e=>((0,l.dD)("data-v-4ce2cb79"),e=e(),(0,l.Cn)(),e),Pr={class:"backdrop"},Nr={class:"form_modal"},qr=Wr((()=>(0,l._)("div",{class:"form_header"},"Form Preview & Publish",-1))),Yr={class:"form_body preview_form_body"},Hr=Wr((()=>(0,l._)("h5",null,"Current Edit",-1))),Zr=["innerHTML"],jr=Wr((()=>(0,l._)("h5",null,"Published Form",-1))),Qr=["innerHTML"],Gr=Wr((()=>(0,l._)("div",null,[(0,l._)("h5",null,"Status")],-1))),Kr={class:"enabled-check"},Jr=Wr((()=>(0,l._)("div",{class:"enabled-check"},null,-1))),Xr={class:"form_footer"},em={key:0};function tm(e,t,o,a,n,r){const m=(0,l.up)("b-button"),d=(0,l.up)("ConfirmContinue");return(0,l.wg)(),(0,l.iD)("div",Pr,[(0,l._)("div",Nr,[qr,(0,l._)("div",Yr,[(0,l.Wm)(m,{id:"view_button",class:"form_button",onClick:t[0]||(t[0]=e=>r.changeView())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(n.viewType),1)])),_:1}),(0,l.wy)((0,l._)("div",null,[Hr,(0,l._)("div",{class:"custom_form",innerHTML:n.html},null,8,Zr)],512),[[i.F8,n.showEdit&&!n.loading]]),(0,l.wy)((0,l._)("div",null,[jr,(0,l._)("div",{class:"custom_form flex-item",innerHTML:n.htmlPublished},null,8,Qr)],512),[[i.F8,!n.showEdit&&!n.loading]]),(0,l.wy)((0,l._)("div",null,(0,s.zw)(e.$t("general.loading")),513),[[i.F8,n.loading]]),(0,l.wy)((0,l._)("div",null,[(0,l._)("div",{class:(0,s.C_)({form_button_hidden:n.published})},[(0,l.Wm)(m,{class:"form_button",onClick:t[1]||(t[1]=e=>r.publishForm())},{default:(0,l.w5)((()=>[(0,l.Uk)("Publish")])),_:1})],2)],512),[[i.F8,n.showEdit&&!n.loading]]),(0,l.wy)((0,l._)("div",null,[(0,l.wy)((0,l._)("div",null,[(0,l._)("div",null,[(0,l.Wm)(m,{class:"form_button",onClick:t[2]||(t[2]=e=>r.enableDisable())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(n.enableAction),1)])),_:1})]),Gr,(0,l._)("div",Kr,[(0,l._)("div",null,(0,s.zw)(n.enabledStatus),1)]),Jr,(0,l._)("div",null,"Last published: "+(0,s.zw)(n.lastPublished),1),(0,l._)("div",null,(0,s.zw)(n.message),1)],512),[[i.F8,n.lastPublished]])],512),[[i.F8,!n.showEdit&&!n.loading]])]),(0,l._)("div",Xr,[(0,l.Wm)(m,{class:"form_button",onClick:t[3]||(t[3]=e=>r.closeElement())},{default:(0,l.w5)((()=>[(0,l.Uk)("Close")])),_:1})]),n.showConfirmContinue?((0,l.wg)(),(0,l.iD)("div",em,[(0,l.Wm)(d,{origin:n.origin,confirmMessage:n.confirmMessage,terms:n.terms,onCloseContinue:r.closeContinue},null,8,["origin","confirmMessage","terms","onCloseContinue"])])):(0,l.kq)("",!0)])])}var om={name:"Preview",components:{ConfirmContinue:at},props:["formID","formName","formSettings","fullForm","formStatus","formEnabled"],data(){return{html:"Loading ....",htmlPublished:"Loading ....",js:"",url:"https://crm-forms.staging.cm-hosting.com/api/rest.php",headers:{"Content-Type":"application/json"},lastPublished:null,enabled:this.formEnabled,published:!1,loading:!0,message:"",showConfirmContinue:!1,enableAction:null,enabledStatus:null,confirmMessage:null,terms:null,origin:"preview",elementDraft:null,elementPublished:null,showEdit:!0,viewType:"View published form"}},mounted(){setTimeout((()=>{this.datepicker=document.createElement("script"),this.datepicker.src="https://cdn.jsdelivr.net/npm/flatpickr",this.datepicker.innerHTML="//CM_DATEPICKER",document.documentElement.appendChild(this.datepicker)}),1e3),this.getForm("dra")},methods:{closeContinue(e){this.showConfirmContinue=!1,"Y"==e&&this.publishFormConfirmed()},changeView(){1==this.showEdit?(this.viewType="View current edit",this.showEdit=!1,this.getForm("pub")):(this.viewType="View published form",this.showEdit=!0,this.getForm("dra"))},getForm(e){if(this.removeChildren("preview"),this.loading=!0,"dra"==e){const e={module:"forms",action:"render_html",details:{formID:this.formID,formName:this.formName,formSettings:this.formSettings,formDetails:this.fullForm}};I.Z.post(this.url,e,this.headers).then((e=>{this.html=e.data.html;const t=o(3989);this.html=this.html.replaceAll("{{tool-tip-image}}",t),this.html=this.html.replaceAll("{{form_button_text}}","Submit"),this.js=e.data.js,this.validation=e.data.validation,setTimeout((()=>{this.elementDraft=document.createElement("script"),this.elementDraft.innerHTML=this.js+this.validation,document.documentElement.appendChild(this.elementDraft),this.loading=!1}),2e3)}))}if("pub"==e){const e={module:"forms",action:"get_published",details:{formID:this.formID}};I.Z.post(this.url,e,this.headers).then((e=>{if("None"==e.data.form_published)this.htmlPublished="This form is yet to be published",this.enabled=!1,this.enabledStatus="Not enabled in store",this.enableAction="Enable",this.loading=!1;else{this.htmlPublished=e.data.html;const t=o(3989);this.htmlPublished=this.htmlPublished.replaceAll("{{tool-tip-image}}",t),this.js=e.data.js,this.validation=e.data.validation,setTimeout((()=>{this.elementPublished=document.createElement("script"),this.elementPublished.innerHTML=this.js+this.validation,document.documentElement.appendChild(this.elementPublished),this.loading=!1}),2e3),this.lastPublished=e.data.last_published,this.enabled?(this.enableAction="Disable",this.enabledStatus="Enabled in store"):(this.enableAction="Enable",this.enabledStatus="Not enabled in store")}}))}},publishForm(){0==this.formStatus?(this.origin="preview",this.confirmMessage="The form has elements that are not complete.",this.showConfirmContinue=!0):(this.origin="publish",this.confirmMessage="Are you sure that you would like to publish this form?",this.terms="Please confirm that you are not storing any sensitive or personal data with this form.",this.showConfirmContinue=!0)},publishFormConfirmed(){this.loading=!0;const e={module:"forms",action:"publish_form",details:{formID:this.formID}};I.Z.post(this.url,e,this.headers).then((e=>{this.published=!0,this.viewType="View current edit",this.showEdit=!1,this.message="Successfully published",this.lastPublished=e.data.lastPublished,this.htmlPublished=e.data.html;const t=o(3989);this.htmlPublished=this.htmlPublished.replaceAll("{{tool-tip-image}}",t),this.js=e.data.js,this.validation=e.data.validation,setTimeout((()=>{this.elementPublished=document.createElement("script"),this.elementPublished.innerHTML=this.js+this.validation,document.documentElement.appendChild(this.elementPublished),this.$emit("updatePublished",this.lastPublished,this.enabled),this.loading=!1}),2e3),this.enabled?(this.enableAction="Disable",this.enabledStatus="Enabled in store"):(this.enableAction="Enable",this.enabledStatus="Not enabled in store")}))},enableDisable(){this.enabled=!this.enabled,this.enabled?(this.enableAction="Disable",this.enabledStatus="Enabled in store"):(this.enableAction="Enable",this.enabledStatus="Not enabled in store");const e={module:"forms",action:"set_enabled",details:{formID:this.formID,formEnabled:this.enabled}};I.Z.post(this.url,e,this.headers).then((()=>{this.$emit("updatePublished",this.lastPublished,this.enabled)}))},closeElement(){1==this.published&&document.documentElement.removeChild(this.elementPublished),this.removeChildren("close"),this.$emit("closeModal")},removeChildren(e){for(var t=document.documentElement.children,o=0,i=0;i<t.length;i++){var l=t[i];l.innerHTML.includes("CM_JAVASCRIPT")&&(document.documentElement.removeChild(l),o++),l.innerHTML.includes("CM_DATEPICKER")&&"close"==e&&(document.documentElement.removeChild(l),o++)}o>0&&this.removeChildren(e)}}};const im=(0,_.Z)(om,[["render",tm],["__scopeId","data-v-4ce2cb79"]]);var lm=im,am={name:"Forms",emits:["saveElement","closeTextBox"],components:{ConfirmContinue:at,LoadForm:Dt,Mappings:Br,Preview:lm,FormSettings:oo,Heading:Yo,InfoText:ui,InputField:Ml,Dropdown:Ca,DateField:$s,BooleanField:mn,TextArea:Ln,CheckList:Fr,Draggable:xa()},data(){return{toolList:[{id:0,icon:"form-section.svg",name:"tools.section"},{id:1,icon:"form-heading.svg",name:"tools.heading"},{id:7,icon:"form-info-text.svg",name:"tools.info_text"},{id:2,icon:"form-input.svg",name:"tools.inputbox"},{id:3,icon:"form-dropdown.svg",name:"tools.dropdown"},{id:4,icon:"form-date-time.svg",name:"tools.date_time"},{id:5,icon:"form-boolean.svg",name:"tools.yes_no"},{id:6,icon:"form-text-area.svg",name:"tools.text_area"}],devMode:!1,formDetail:{},formLoaded:!1,formID:-1,formName:"",formDescription:"",defaultFormSettings:{labelPosition:"above",dateFormat:"Y-m-d",timeFormat:"24hr",themeFormat:"material_blue",columnGap:"10",rowGap:"0",sectionBackColour:"#ffffff",sectionTextColour:"#000000",sectionBorderColour:"#ffffff",sectionBorderSize:"0",sectionBorderRadius:"0",elementBackColour:"#ffffff",elementTextColour:"#000000",elementBorderColour:"#ffffff",elementBorderSize:"0",elementBorderRadius:"0"},formItems:[],formEnabled:!1,formEnabledState:"",formNameError:!1,formDescriptionError:!1,formStatus:!1,rowDetails:{},rowID:0,formItemToEdit:0,formSection:0,formSaved:!1,lastPublished:null,origin:null,edited:!1,saveColour:!1,message:"",selectedformItemToEdit:null,confirmMessage:null,showMappings:!1,showPreview:!1,showLoad:!1,showConfirmContinue:!1,showSettings:!1,showHeading:!1,showInfoText:!1,showInputField:!1,showDropdown:!1,showDateField:!1,showBooleanField:!1,showTextArea:!1,showDateRange:!1,showDateTime:!1,showCheckList:!1,tempMoveId:null,url:"https://crm-forms.staging.cm-hosting.com/api/rest.php",headers:{"Content-Type":"application/json"}}},mounted(){},created(){document.body.style.overflow="hidden";var e={module:"cmsettings",action:"get_css",details:{}};I.Z.post(this.url,e,this.headers).then((e=>{const t=JSON.stringify(e.data);window.localStorage.setItem("css",t)}))},computed:{dragOptions(){return{animation:250,group:"description",disabled:!1,ghostClass:"ghost"}}},methods:{getDependantName(e){var t="";return this.formItems.forEach((o=>{o.columnDetails.forEach((o=>{o.cellDetails.toolItemID==e&&(t=o.cellDetails.toolDetails.title)}))})),this.displayTextByLength(t)},displayLabelByLength(e,t){return 1==e?t.length>30?t.substring(0,30)+" ....":t:t.length>30?'Label: "'+t.substring(0,30)+' ...."':0==t.length?"Label: ":'Label: "'+t+'"'},displaySubheadingByLength(e){return e?e.length>30?'Subheading: "'+e.substring(0,30)+' ...."':'Subheading: "'+e+'"':""},displayTextByLength(e){return e.length>30?e.substring(0,30)+" ....":e},getDependantComparison(e){switch(e){case"=":return"Equal to";case"!=":return"Not equal to";case"<":return"Less than";case">":return"Greater than";case"inc":return"Includes";case"!inc":return"Does not include";case"Age >":return"Age greater than";case"Age >=":return"Age greater than or equal to";case"Age <":return"Age less than";case"Age <=":return"Age less than or equal to"}},getDependantCondition(e){if(1==e.condition)return'"Yes"';if(0==e.condition)return'"No"';var t='"'+e.condition+'"';return this.formItems.forEach((o=>{o.columnDetails.forEach((o=>{if(o.cellDetails.toolItemID==e.parentField&&3==o.cellDetails.toolTypeID){var i=o.cellDetails.toolDetails.dropDownOptions,l=i.find((t=>t.value===e.condition));l&&(t='"'+l.text+'"')}}))})),t},newForm(){this.edited?(this.origin="newForm",this.confirmMessage="If you continue you will lose your changes. \nAre you sure you want to continue?",this.showConfirmContinue=!0):(this.clearForm(),this.formLoaded=!0)},clearForm(){this.formID=-1,this.formDetail={},this.formItems=[],this.formName="",this.formLoaded=!1,this.saveColour=!1,this.formEnabled=!1,this.formStatus=!1,this.formNameError=!1,this.edited=!1,this.lastPublished=null,this.lastPublishedStatus=null,this.formEnabledState="No",this.message="",this.formSettings=this.defaultFormSettings},updateStatus(e,t){this.lastPublished=e,this.formEnabled=t,this.formEnabled?this.formEnabledState="Yes":this.formEnabledState="No"},openSettings(){this.showSettings=!0},startToolDrag(e,t){e.dataTransfer.setData("toolID",t.id),e.dataTransfer.setData("type","new")},startFormToolDrag(e,t){e.dataTransfer.setData("toolID",t.cellDetails.toolItemID),e.dataTransfer.setData("toolIDCurrent",e.currentTarget.id),e.dataTransfer.setData("type","move"),this.orginalDragId=e.currentTarget.id,this.orginalDragX=e.x,this.orginalDragY=e.y},toolOnDrag(e){var t=e.x,o=e.y,i=document.elementFromPoint(t,o);while(null==i.id||""==i.id)i=i.parentElement;var l=i.id;l.includes("cell")?l==e.target.id?null!=this.tempMoveId&&document.getElementById(this.tempMoveId).classList.remove("tempHover"):(null!=this.tempMoveId&&l!=this.tempMoveId&&document.getElementById(this.tempMoveId).classList.remove("tempHover"),document.getElementById(l).classList.add("tempHover"),this.tempMoveId=l):null!=this.tempMoveId&&document.getElementById(this.tempMoveId).classList.remove("tempHover")},onDropSection(){const e=event.dataTransfer.getData("toolID");"0"==e&&this.addSection()},onToolDrop(e){const t=e.dataTransfer.getData("toolID"),o=e.dataTransfer.getData("type");var i=e.currentTarget.id,l=e.dataTransfer.getData("toolIDCurrent");if("new"==o&&""!=t&&"0"!=t&&(this.addTool(t,i),this.setEdited()),"move"==o){null!=this.tempMoveId&&document.getElementById(this.tempMoveId).classList.remove("tempHover");const e=i.split("_"),o=l.split("_");var a,s;if(e[1]!=o[1]||e[3]!=o[3])this.formItems.forEach((o=>{o.sectionRow==e[1]&&o.columnDetails.forEach((o=>{var i,l;o.sectionColumn==e[3]&&(this.formItems.forEach((e=>{var o=e.sectionRow;e.columnDetails.forEach((e=>{e.cellDetails.toolItemID==t&&(i=Object.assign({},e),a=o,s=e.sectionColumn,e.cellActive=!1,e.cellDetails={})}))})),0==o.cellActive?(o.cellActive=!0,o.cellDetails=i.cellDetails,this.setEdited()):(l=Object.assign({},o),o.cellActive=!0,o.cellDetails=i.cellDetails,this.formItems.forEach((e=>{e.sectionRow==a&&e.columnDetails.forEach((e=>{e.sectionColumn==s&&(e.cellActive=!0,e.cellDetails=l.cellDetails)}))})),this.setEdited()))}))}))}},addSection(){if(this.formLoaded){var e={sectionRow:0,columnDetails:[{sectionColumn:1,cellActive:!1,cellDetails:{}}]};this.formItems.push(e),this.resetRows(),this.setEdited(),this.undoHighlights()}},editSection(e){var t=this.formItems.find((t=>t.sectionRow==e));const o=t.columnDetails.length;if(o<3){var i={sectionColumn:o+1,cellActive:!1,cellDetails:{}};t.columnDetails.push(i)}else this.message="Max 3 columns";this.setEdited(),this.undoHighlights()},undoHighlights(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},deleteSection(e){const t=e.split("_");var o=this.formItems.find((e=>e.sectionRow==t[1]));const i=o.columnDetails.length,l=parseInt(t[3]);if(i>1){const e=o.columnDetails.find((e=>e.sectionColumn==l));o.columnDetails.splice(o.columnDetails.indexOf(e),1)}else this.formItems=this.formItems.filter((e=>e.sectionRow!==parseInt(t[1])));this.resetRows(),this.setEdited()},addTool(e,t){var o=0;const i=t.split("_"),l=i[1],a=i[3];var s=0,n=0,r=!1;if(this.formItems.forEach((e=>{s=e.sectionRow,e.columnDetails.forEach((e=>{n=e.sectionColumn,s==l&&n==a&&(r=e.cellActive),e.cellDetails.toolItemID>o&&(o=e.cellDetails.toolItemID)}))})),o++,0==r){const i=t.split("_"),l=this.toolList.find((t=>t.id==e)),a={toolItemID:o,toolTypeID:l.id,toolName:l.name,toolDetails:{toolStatus:!1,title:""}};this.formStatus=!1;var m=this.formItems.find((e=>e.sectionRow==i[1])),d=m.columnDetails.find((e=>e.sectionColumn==i[3]));d.cellActive=!0,d.cellDetails=a,this.setEdited()}},deleteTool(e){var t=!1;this.formItems.forEach((o=>{o.columnDetails.forEach((o=>{o.cellDetails.toolDetails&&o.cellDetails.toolDetails.parent&&o.cellDetails.toolDetails.parent.parentField==e&&(t=!0)}))})),t?(this.origin="info",this.confirmMessage="You cannot delete this tool as it has dependants.\nPlease remove dependants first.",this.showConfirmContinue=!0):(this.formItems.forEach((t=>{t.columnDetails.forEach((t=>{t.cellDetails.toolItemID==e&&(t.cellActive=!1,t.cellDetails={})}))})),this.setEdited())},editTool(e){if(this.message="","undefined"==e)return!1;var t;switch(this.formItemToEdit=e,this.formItems.forEach((o=>{o.columnDetails.forEach((o=>{o.cellDetails.toolItemID==e&&(t=o.cellDetails)}))})),t.toolTypeID){case 1:this.showHeading=!0;break;case 2:this.showInputField=!0;break;case 3:this.showDropdown=!0;break;case 4:this.showDateField=!0;break;case 5:this.showBooleanField=!0;break;case 6:this.showTextArea=!0;break;case 7:this.showInfoText=!0;break;case 8:this.showCheckList=!0;break}},setEdited(){this.edited=!0,this.saveColour=!0,this.message="",this.formNameError=!1,this.formSaved=!1,this.checkFormStatus()},closeModal(){this.showLoad=!1,this.showMappings=!1,this.showPreview=!1,this.showSettings=!1,this.showHeading=!1,this.showInfoText=!1,this.showDropdown=!1,this.showDateField=!1,this.showBooleanField=!1,this.showInputField=!1,this.showTextArea=!1,this.showDateRange=!1,this.showDateTime=!1,this.showCheckList=!1,this.checkFormStatus()},closeContinue(e,t){"Y"==e&&"viewSavedForms"==t&&(this.showLoad=!0),"Y"==e&&"newForm"==t&&(this.clearForm(),this.formLoaded=!0),this.showConfirmContinue=!1},closeTool(e,t){this.formItems.forEach((o=>{o.columnDetails.forEach((o=>{o.cellDetails.toolItemID==e&&(o.cellDetails.toolDetails.toolStatus=t)}))})),this.closeModal()},saveSettings(e){this.formSettings=e;var t=document.head.querySelector("link[href*='themes']");t.href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/"+this.formSettings.themeFormat+".css",this.edited=!0,this.saveColour=!0,this.showSettings=!1,this.formSaved=!1},saveElement(e){this.formItems.forEach((t=>{t.columnDetails.forEach((t=>{t.cellDetails.toolItemID==e.toolItemID&&(t.cellDetails.toolDetails=e.toolDetails)}))})),this.closeModal(),this.setEdited()},rowMoved(){this.setEdited(),this.resetRows()},resetRows(){var e=0;this.formItems.forEach((t=>{e++,t.sectionRow=e}))},viewSavedForms(){this.edited?(this.origin="viewSavedForms",this.confirmMessage="If you continue you will lose your changes. \nAre you sure you want to continue?",this.showConfirmContinue=!0):this.showLoad=!0},previewForm(){this.showPreview=!0},loadForm(e){this.formDetail=e,this.message="",this.formID=e.formID,this.formName=e.formName,null==e.formSettings?this.formSettings=this.defaultFormSettings:this.formSettings=e.formSettings;var t=document.head.querySelector("link[href*='themes']");t.href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/"+this.formSettings.themeFormat+".css",this.$i18n.locale=e.formLanguage,this.lastPublished=e.lastPublished,"1"==e.formStatus?this.formStatus=!0:this.formStatus=!1,"1"==e.formEnabled?this.formEnabledState="Yes":this.formEnabledState="No","1"==e.formEnabled?this.formEnabled=!0:this.formEnabled=!1;const o=JSON.parse(e.formContent);this.formItems=o,this.showLoad=!1,this.edited=!1,this.saveColour=!1,this.formLoaded=!0,this.formNameError=!1,this.formSaved=!0;var i={module:"forms",action:"form_being_edited",details:{formID:this.formID,beingEdited:"Y"}};I.Z.post(this.url,i,this.headers).then((()=>{}))},saveForm(e){if(this.validateForm()){var t={module:"forms",details:{formID:this.formID,formDetails:this.formItems}};-1==this.formID?t.action="add_form":(t.details.formID=this.formID,t.action="save"==e?"update_form":"publish_form"),t.details.formName=this.formName,t.details.formSettings=this.formSettings,t.details.formLanguage=this.$i18n.locale,t.details.formDescription=this.formDescription,t.details.formEnabled=this.formEnabled,t.details.formStatus=this.formStatus,t.details.formContent=this.formItems,I.Z.post(this.url,t,this.headers).then((t=>{"form_name_exists"==t.data?(this.message="Form name has been used previously",this.formNameError=!0):("save"==e&&(this.message="Form successfully saved"),"publish"==e&&(this.message="Form successfully published"),this.edited=!0,this.saveColour=!1,this.edited=!1,this.formID=t.data,this.formSaved=!0)}))}},mappings(){this.showMappings=!0},checkFormStatus(){var e=!0;this.formItems.forEach((t=>{t.columnDetails.forEach((t=>{t.cellActive&&0==t.cellDetails.toolDetails.toolStatus&&1==e&&(e=!1)}))})),this.formStatus=e},validateForm(){this.formNameError=!1;var e=!0;return""==this.formName&&(this.message="Please give your form a name",this.formNameError=!0,e=!1),0==this.formItems.length&&(this.message="Your form is empty.",e=!1),0!=e}}};const sm=(0,_.Z)(am,[["render",$e],["__scopeId","data-v-be5003a0"]]);var nm=sm;const rm=e=>((0,l.dD)("data-v-3ab87da8"),e=e(),(0,l.Cn)(),e),mm=rm((()=>(0,l._)("div",null,"Settings",-1))),dm=rm((()=>(0,l._)("br",null,null,-1))),um=rm((()=>(0,l._)("br",null,null,-1))),cm={class:"json_list details"},hm=rm((()=>(0,l._)("b",null,"Source:",-1))),fm=rm((()=>(0,l._)("br",null,null,-1))),pm=rm((()=>(0,l._)("br",null,null,-1)));function gm(e,t,o,i,a,n){const r=(0,l.up)("Draggable"),m=(0,l.up)("b-button");return(0,l.wg)(),(0,l.iD)(l.HY,null,[mm,dm,um,(0,l.Wm)(r,(0,l.dG)({list:a.list,disabled:!a.enabled,"item-key":"name",class:"list-group","ghost-class":"ghost",onStart:t[2]||(t[2]=e=>a.dragging=!0),onEnd:t[3]||(t[3]=e=>a.dragging=!1)},n.dragOptions),{item:(0,l.w5)((({element:e})=>[(0,l._)("div",{class:(0,s.C_)(["list-group-item",{"not-draggable":!a.enabled}])},[(0,l.Uk)((0,s.zw)(e.name)+" ",1),a.cellActive?((0,l.wg)(),(0,l.j4)(r,(0,l.dG)({key:0,list:a.listRows,disabled:!a.enabled,"item-key":"name",class:"sub-list-group","ghost-class":"ghost",onStart:t[0]||(t[0]=e=>{n.show(this),a.dragging=!0}),onEnd:t[1]||(t[1]=e=>a.dragging=!1)},n.dragOptions),{item:(0,l.w5)((({element:e})=>[(0,l._)("div",{class:(0,s.C_)(["sub-list-group-item",{"not-draggable":!a.enabled}])},(0,s.zw)(e.name),3)])),_:2},1040,["list","disabled"])):(0,l.kq)("",!0)],2)])),_:1},16,["list","disabled"]),(0,l._)("div",cm,[(0,l._)("div",null,[(0,l.Wm)(m,{class:"form_button",onClick:t[4]||(t[4]=e=>n.publishAll())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("buttons.publish_all")),1)])),_:1}),(0,l.Uk)(" "+(0,s.zw)(a.published),1)]),hm,(0,l.Uk)(" "+(0,s.zw)(a.baseUrl),1),fm,pm,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.forms,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.form_id},[(0,l.Uk)(" Form: "+(0,s.zw)(e.form_id)+" - "+(0,s.zw)(e.form_name)+" - "+(0,s.zw)(e.form_status)+" ",1),(0,l._)("pre",null,(0,s.zw)(JSON.parse(e.form_content)),1)])))),128))])],64)}var vm={name:"Settings",components:{Draggable:xa()},data(){return{enabled:!0,list:[{name:"List1",id:0},{name:"List2",id:1},{name:"List3",id:2}],dragging:!1,cellActive:!0,drag:!1,dateFormat:"j F Y",published:null,url:"https://crm-forms.staging.cm-hosting.com/api/rest.php",baseUrl:"https://crm-forms.staging.cm-hosting.com",headers:{"Content-Type":"application/json"},postdata:{module:"forms",details:{}},forms:[],listRows:[{id:1,name:"Item 1"},{id:2,name:"Item 2"},{id:3,name:"Item 3"}]}},computed:{dragOptions(){return{animation:350,group:"description",disabled:!1,ghostClass:"ghost"}}},created(){document.body.style.overflow="scroll",this.postdata.action="all_forms",I.Z.post(this.url,this.postdata,this.headers).then((e=>{e.data.forEach((e=>{this.forms.push(e)}))}))},methods:{show(e){console.log(e.dragging)},publishAll(){this.published="",this.postdata.action="publish_all",I.Z.post(this.url,this.postdata,this.headers).then((e=>{this.published=e.data}))}}};const _m=(0,_.Z)(vm,[["render",gm],["__scopeId","data-v-3ab87da8"]]);var Dm=_m;const wm=[{path:"/",name:"Forms-default",component:nm},{path:"/index",name:"Forms",component:nm},{path:"/index.html",name:"Forms",component:nm},{path:"/settings",name:"Settings",component:Dm}],bm=(0,E.p7)({history:(0,E.PO)("/vueforms/"),routes:wm});var Tm=bm,xm=o(65),Im=(0,xm.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),km=o(2026),Cm=o(5269),ym=o.n(Cm),Em=o(5658);function Fm(){const e=o(3631),t={};return e.keys().forEach((o=>{const i=o.match(/([A-Za-z0-9-_]+)\./i);if(i&&i.length>1){const l=i[1];t[l]=e(o).default}})),t}var Vm=(0,Em.o)({legacy:!1,locale:"en",fallbackLocale:"en",messages:Fm()});Tm.beforeEach(((e,t,o)=>{let i=e.params.lang;null!=i&&"undefined"!=i||(i="en"),Vm.global.locale=i,o()}));const zm=(0,i.ri)(y);zm.use(Vm),zm.use(ym()),zm.use(Im),zm.use(Tm),zm.use(km.ZP),zm.mount("#app")},6075:function(e,t,o){var i={"./delete_FILL0_wght400_GRAD-25_opsz24.svg":3752,"./delete_tool.jpg":8474,"./form-add-section.svg":9006,"./form-boolean.svg":4532,"./form-check-list.svg":7694,"./form-date-range.png":3347,"./form-date-time.svg":1191,"./form-date.svg":6517,"./form-delete-section.svg":4927,"./form-dropdown.svg":1789,"./form-heading.svg":1038,"./form-info-text.svg":1932,"./form-input.svg":7705,"./form-section-edit.svg":4244,"./form-section.svg":3297,"./form-settings.svg":1389,"./form-text-area.svg":2693,"./form-tool-delete.svg":8604,"./form-tool-edit.png":4790,"./form-tool-edit.svg":3383,"./form-tool-tip.svg":3989,"./form-up-down.svg":274,"./output-onlinepngtools (1).png":948,"./tooltip.svg":7891};function l(e){var t=a(e);return o(t)}function a(e){if(!o.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}l.keys=function(){return Object.keys(i)},l.resolve=a,e.exports=l,l.id=6075},3631:function(e,t,o){var i={"./en.json":3482,"./fr.json":5627};function l(e){var t=a(e);return o(t)}function a(e){if(!o.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}l.keys=function(){return Object.keys(i)},l.resolve=a,e.exports=l,l.id=3631},3752:function(e,t,o){"use strict";e.exports=o.p+"img/delete_FILL0_wght400_GRAD-25_opsz24.182d659c.svg"},9006:function(e,t,o){"use strict";e.exports=o.p+"img/form-add-section.76e10e89.svg"},4532:function(e,t,o){"use strict";e.exports=o.p+"img/form-boolean.d5611c18.svg"},7694:function(e,t,o){"use strict";e.exports=o.p+"img/form-check-list.62c6acdb.svg"},1191:function(e,t,o){"use strict";e.exports=o.p+"img/form-date-time.a27f63fc.svg"},6517:function(e,t,o){"use strict";e.exports=o.p+"img/form-date.a6959d5b.svg"},4927:function(e,t,o){"use strict";e.exports=o.p+"img/form-delete-section.3e7906ca.svg"},1789:function(e,t,o){"use strict";e.exports=o.p+"img/form-dropdown.d6d97872.svg"},1038:function(e,t,o){"use strict";e.exports=o.p+"img/form-heading.ae5992ca.svg"},1932:function(e,t,o){"use strict";e.exports=o.p+"img/form-info-text.56bcb28f.svg"},7705:function(e,t,o){"use strict";e.exports=o.p+"img/form-input.e2f43472.svg"},4244:function(e,t,o){"use strict";e.exports=o.p+"img/form-section-edit.9bd31a3c.svg"},3297:function(e,t,o){"use strict";e.exports=o.p+"img/form-section.3b8ba9e3.svg"},1389:function(e,t,o){"use strict";e.exports=o.p+"img/form-settings.b73224ac.svg"},2693:function(e,t,o){"use strict";e.exports=o.p+"img/form-text-area.913d6cd4.svg"},8604:function(e,t,o){"use strict";e.exports=o.p+"img/form-tool-delete.8aca3751.svg"},3383:function(e,t,o){"use strict";e.exports=o.p+"img/form-tool-edit.cb305c25.svg"},3989:function(e,t,o){"use strict";e.exports=o.p+"img/form-tool-tip.56bcb28f.svg"},274:function(e,t,o){"use strict";e.exports=o.p+"img/form-up-down.58e5b68c.svg"},7891:function(e,t,o){"use strict";e.exports=o.p+"img/tooltip.575f4137.svg"},8474:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAMAAwDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDsvF/j/wCFv7Gf7Jv7OvijxR+z18AfjRqvxp+FOm+JNR1HxFokF/4qt/EVzBFdXviHXL24jnkl0iSW73T3TYeFwRlw6iP5Z/4L/wDj/wAbf8E6v2q/h74Z+Cvji/8AhBpfi74a6T4p8R6d8I9ZvvC/hXV9aknvLWfULaytpxEiyxWduoblmSKMszNli3x5/wAF+vin/wAE5fjR44+Cfhf4d/A/xbpPwfuL74Rad4i8U+Gp7jxBq/h3SL25tLK1vp7e5gjmCxLyqxIjMzNsyzE/RH/BPb/gnp4L/wCDmf4Mah8bPjZfa58O9V+HuqL8MfDvhz4Xx2Oi+HtJ0WxsbS7gijt7m2upAwl1C4/5a7QuxVVVUCgD/9k="},3347:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABmJLR0QAAAAAAAD5Q7t/AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTEyLTEyVDA5OjUwOjAwKzAwOjAwxdvaTwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0xMi0xMlQwOTo1MDowMCswMDowMLSGYvMAAAF6SURBVGhD7ZlLroMwDEVD54AQS2LAGCFYe5jCClgBzaWJBC4p4elBTJsjuU3zwXY+thqiSSE2iKJIl15Yujnz388zPPT3bZkdkFKKqqpEkiTzTNHZAqb+r0Ix9dAJ3V3X6ZaD9H0/ZVmG9fQqsAG2HEXUdb35QB/SNI02yx0Rx/Hmw3yI2k7aLHewOTGYDcomXXKDbRT6FACWfEcYvTPBgSvYS3qrUHY1Nv20finLpKd+rxuvxqaf1lMxSe8tD7zGXgcNk0b/XvjEdhrHUdzWAYC+uw7YFBjOand1IIRR39zeAWy01aake/RsvvYMwDgqW4Qz4JvgwFm4HGIQVsA3wYGzsMV9SlgB3wQHvMPpcjdNU3V27dD+4FEUhSrzoCxLXTqAlJLFC448z6dhGOZZtUHHzHX4wCUR7llwP087nS3Q2bbtrvGAjgXWt5Qc2fr39lthFDOwFA6EROYdHGJXOCa9QyvAMunNbjjCMekdcgBwS3q3SmTvCPEE9gOD36DYqbAAAAAASUVORK5CYII="},4790:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAC9SURBVEhL7ZUxDoQgEEWBWxES7ejhKtBzDI6r+2clWUFXxbHYZF9CYJr3IBbK6YV4ELXsj/EbAWOMkFLSqmH5BrX4U3nrBd572iFUakeFF/QwjiOuSauAs9Z6md50BYo8pdREai4HijznTHOJOOdorrkUqOXYMQ/DQPMWpwM9cnAq0CsHh4E7cvA1cFcOdgMccrAZ4JKDJsApB6sAJJxysApAFmOkM4ccNAFr7RRCYJGDJlAWhxz8f/oHCDED3RzwYOeCcEYAAAAASUVORK5CYII="},948:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAPJJREFUSEvVlTEOhCAQRQfv4wG0gM6eY9DbE3utOYZnkEJv5WzcBLOLCChYaGnkPeZnZiTw8EMe5sM7BHVd4zzPJoy/S+eqAK2od26SgHOO4zh+GUVR4LquhypuCxhjOE2TDcSqqmBZlrQKDFxKCV3XObP3vvS1roErpUAIQaSUuEk452Di+j1/KSIbrpRCIQRQSkFr7WRFC+7At0qiBHfhUYIUeFCQCvcKcsBPBbngTkFO+EFAKUWtNZghiunz0P/EblNs2xb6vic54K6IsGkaKMsShmHwTmjo5me7aN/rvvGPhQfn4Aro7NuoVZEielzwAdwEvhmgp6ifAAAAAElFTkSuQmCC"}},t={};function o(i){var l=t[i];if(void 0!==l)return l.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,i,l,a){if(!i){var s=1/0;for(d=0;d<e.length;d++){i=e[d][0],l=e[d][1],a=e[d][2];for(var n=!0,r=0;r<i.length;r++)(!1&a||s>=a)&&Object.keys(o.O).every((function(e){return o.O[e](i[r])}))?i.splice(r--,1):(n=!1,a<s&&(s=a));if(n){e.splice(d--,1);var m=l();void 0!==m&&(t=m)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[i,l,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/vueforms/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var l,a,s=i[0],n=i[1],r=i[2],m=0;if(s.some((function(t){return 0!==e[t]}))){for(l in n)o.o(n,l)&&(o.m[l]=n[l]);if(r)var d=r(o)}for(t&&t(i);m<s.length;m++)a=s[m],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},i=self["webpackChunkvue_cm_forms"]=self["webpackChunkvue_cm_forms"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[998],(function(){return o(1743)}));i=o.O(i)})();
//# sourceMappingURL=app.980a63c0.js.map